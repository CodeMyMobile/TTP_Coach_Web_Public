(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Px={exports:{}},Qu={},Tx={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),cS=Symbol.for("react.portal"),uS=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),gS=Symbol.for("react.suspense"),vS=Symbol.for("react.memo"),yS=Symbol.for("react.lazy"),ev=Symbol.iterator;function xS(e){return e===null||typeof e!="object"?null:(e=ev&&e[ev]||e["@@iterator"],typeof e=="function"?e:null)}var $x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Ox={};function Vi(e,t,r){this.props=e,this.context=t,this.refs=Ox,this.updater=r||$x}Vi.prototype.isReactComponent={};Vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mx(){}Mx.prototype=Vi.prototype;function Pp(e,t,r){this.props=e,this.context=t,this.refs=Ox,this.updater=r||$x}var Tp=Pp.prototype=new Mx;Tp.constructor=Pp;Ax(Tp,Vi.prototype);Tp.isPureReactComponent=!0;var tv=Array.isArray,Dx=Object.prototype.hasOwnProperty,$p={current:null},Lx={key:!0,ref:!0,__self:!0,__source:!0};function Rx(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Dx.call(t,n)&&!Lx.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Cl,type:e,key:a,ref:o,props:s,_owner:$p.current}}function bS(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function wS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rv=/\/+/g;function ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wS(""+e.key):t.toString(36)}function Lc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cl:case cS:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ef(o,0):n,tv(s)?(r="",e!=null&&(r=e.replace(rv,"$&/")+"/"),Lc(s,t,r,"",function(u){return u})):s!=null&&(Ap(s)&&(s=bS(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",tv(e))for(var c=0;c<e.length;c++){a=e[c];var l=n+ef(a,c);o+=Lc(a,t,r,l,s)}else if(l=xS(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=n+ef(a,c++),o+=Lc(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(e,t,r){if(e==null)return e;var n=[],s=0;return Lc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function NS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},Rc={transition:null},_S={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:$p};function Ix(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:cc,forEach:function(e,t,r){cc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cc(e,function(){t++}),t},toArray:function(e){return cc(e,function(t){return t})||[]},only:function(e){if(!Ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Vi;Ae.Fragment=uS;Ae.Profiler=fS;Ae.PureComponent=Pp;Ae.StrictMode=dS;Ae.Suspense=gS;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_S;Ae.act=Ix;Ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ax({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=$p.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Dx.call(t,l)&&!Lx.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Cl,type:e.type,key:s,ref:a,props:n,_owner:o}};Ae.createContext=function(e){return e={$$typeof:pS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mS,_context:e},e.Consumer=e};Ae.createElement=Rx;Ae.createFactory=function(e){var t=Rx.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:hS,render:e}};Ae.isValidElement=Ap;Ae.lazy=function(e){return{$$typeof:yS,_payload:{_status:-1,_result:e},_init:NS}};Ae.memo=function(e,t){return{$$typeof:vS,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=Rc.transition;Rc.transition={};try{e()}finally{Rc.transition=t}};Ae.unstable_act=Ix;Ae.useCallback=function(e,t){return hr.current.useCallback(e,t)};Ae.useContext=function(e){return hr.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return hr.current.useEffect(e,t)};Ae.useId=function(){return hr.current.useId()};Ae.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};Ae.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return hr.current.useMemo(e,t)};Ae.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};Ae.useRef=function(e){return hr.current.useRef(e)};Ae.useState=function(e){return hr.current.useState(e)};Ae.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};Ae.useTransition=function(){return hr.current.useTransition()};Ae.version="18.3.1";Tx.exports=Ae;var b=Tx.exports;const R=pr(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=b,jS=Symbol.for("react.element"),kS=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,ES=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PS={key:!0,ref:!0,__self:!0,__source:!0};function Fx(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)CS.call(t,n)&&!PS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:jS,type:e,key:a,ref:o,props:s,_owner:ES.current}}Qu.Fragment=kS;Qu.jsx=Fx;Qu.jsxs=Fx;Px.exports=Qu;var i=Px.exports,em={},zx={exports:{}},Br={},Ux={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,U){var V=D.length;D.push(U);e:for(;0<V;){var I=V-1>>>1,z=D[I];if(0<s(z,U))D[I]=U,D[V]=z,V=I;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var U=D[0],V=D.pop();if(V!==U){D[0]=V;e:for(var I=0,z=D.length,G=z>>>1;I<G;){var J=2*(I+1)-1,te=D[J],de=J+1,me=D[de];if(0>s(te,V))de<z&&0>s(me,te)?(D[I]=me,D[de]=V,I=de):(D[I]=te,D[J]=V,I=J);else if(de<z&&0>s(me,V))D[I]=me,D[de]=V,I=de;else break e}}return U}function s(D,U){var V=D.sortIndex-U.sortIndex;return V!==0?V:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,m=null,f=3,y=!1,v=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=D)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function N(D){if(p=!1,x(D),!v)if(r(l)!==null)v=!0,T(_);else{var U=r(u);U!==null&&Z(N,U.startTime-D)}}function _(D,U){v=!1,p&&(p=!1,g(S),S=-1),y=!0;var V=f;try{for(x(U),m=r(l);m!==null&&(!(m.expirationTime>U)||D&&!F());){var I=m.callback;if(typeof I=="function"){m.callback=null,f=m.priorityLevel;var z=I(m.expirationTime<=U);U=e.unstable_now(),typeof z=="function"?m.callback=z:m===r(l)&&n(l),x(U)}else n(l);m=r(l)}if(m!==null)var G=!0;else{var J=r(u);J!==null&&Z(N,J.startTime-U),G=!1}return G}finally{m=null,f=V,y=!1}}var P=!1,E=null,S=-1,j=5,M=-1;function F(){return!(e.unstable_now()-M<j)}function Q(){if(E!==null){var D=e.unstable_now();M=D;var U=!0;try{U=E(!0,D)}finally{U?B():(P=!1,E=null)}}else P=!1}var B;if(typeof h=="function")B=function(){h(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=Q,B=function(){K.postMessage(null)}}else B=function(){w(Q,0)};function T(D){E=D,P||(P=!0,B())}function Z(D,U){S=w(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,T(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var V=f;f=U;try{return D()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=f;f=D;try{return U()}finally{f=V}},e.unstable_scheduleCallback=function(D,U,V){var I=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?I+V:I):V=I,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,D={id:d++,callback:U,priorityLevel:D,startTime:V,expirationTime:z,sortIndex:-1},V>I?(D.sortIndex=V,t(u,D),r(l)===null&&D===r(u)&&(p?(g(S),S=-1):p=!0,Z(N,V-I))):(D.sortIndex=z,t(l,D),v||y||(v=!0,T(_))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var U=f;return function(){var V=f;f=U;try{return D.apply(this,arguments)}finally{f=V}}}})(Wx);Ux.exports=Wx;var TS=Ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=b,Wr=TS;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yx=new Set,Bo={};function Ra(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(Bo[e]=t,e=0;e<t.length;e++)Yx.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=Object.prototype.hasOwnProperty,AS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nv={},sv={};function OS(e){return tm.call(sv,e)?!0:tm.call(nv,e)?!1:AS.test(e)?sv[e]=!0:(nv[e]=!0,!1)}function MS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DS(e,t,r,n){if(t===null||typeof t>"u"||MS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Mp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Op,Mp);Qt[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Op,Mp);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Op,Mp);Qt[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dp(e,t,r,n){var s=Qt.hasOwnProperty(t)?Qt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DS(t,r,s,n)&&(r=null),n||s===null?OS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bs=$S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uc=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),Hx=Symbol.for("react.provider"),Bx=Symbol.for("react.context"),Rp=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),Vx=Symbol.for("react.offscreen"),av=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,tf;function ko(e){if(tf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tf=t&&t[1]||""}return`
`+tf+e}var rf=!1;function nf(e,t){if(!e||rf)return"";rf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,c=a.length-1;1<=o&&0<=c&&s[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==a[c]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{rf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ko(e):""}function LS(e){switch(e.tag){case 5:return ko(e.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return e=nf(e.type,!1),e;case 11:return e=nf(e.type.render,!1),e;case 1:return e=nf(e.type,!0),e;default:return""}}function am(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case rm:return"Profiler";case Lp:return"StrictMode";case nm:return"Suspense";case sm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bx:return(e.displayName||"Context")+".Consumer";case Hx:return(e._context.displayName||"Context")+".Provider";case Rp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ip:return t=e.displayName||null,t!==null?t:am(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return am(e(t))}catch{}}return null}function RS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return am(t);case 8:return t===Lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IS(e){var t=Gx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=IS(e))}function qx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ou(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function im(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kx(e,t){t=t.checked,t!=null&&Dp(e,"checked",t,!1)}function om(e,t){Kx(e,t);var r=Qs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lm(e,t.type,r):t.hasOwnProperty("defaultValue")&&lm(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ov(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function lm(e,t,r){(t!=="number"||ou(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Co=Array.isArray;function yi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Co(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qs(r)}}function Qx(e,t){var r=Qs(t.value),n=Qs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fc,Zx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FS=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(e){FS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ao[t]=Ao[e]})});function Jx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ao.hasOwnProperty(e)&&Ao[e]?(""+t).trim():t+"px"}function eb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Jx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var zS=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(e,t){if(t){if(zS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function fm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function Fp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pm=null,xi=null,bi=null;function uv(e){if(e=Tl(e)){if(typeof pm!="function")throw Error(re(280));var t=e.stateNode;t&&(t=td(t),pm(e.stateNode,e.type,t))}}function tb(e){xi?bi?bi.push(e):bi=[e]:xi=e}function rb(){if(xi){var e=xi,t=bi;if(bi=xi=null,uv(e),t)for(e=0;e<t.length;e++)uv(t[e])}}function nb(e,t){return e(t)}function sb(){}var sf=!1;function ab(e,t,r){if(sf)return e(t,r);sf=!0;try{return nb(e,t,r)}finally{sf=!1,(xi!==null||bi!==null)&&(sb(),rb())}}function Go(e,t){var r=e.stateNode;if(r===null)return null;var n=td(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var hm=!1;if(ms)try{var po={};Object.defineProperty(po,"passive",{get:function(){hm=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{hm=!1}function US(e,t,r,n,s,a,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Oo=!1,lu=null,cu=!1,gm=null,WS={onError:function(e){Oo=!0,lu=e}};function YS(e,t,r,n,s,a,o,c,l){Oo=!1,lu=null,US.apply(WS,arguments)}function HS(e,t,r,n,s,a,o,c,l){if(YS.apply(this,arguments),Oo){if(Oo){var u=lu;Oo=!1,lu=null}else throw Error(re(198));cu||(cu=!0,gm=u)}}function Ia(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ib(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dv(e){if(Ia(e)!==e)throw Error(re(188))}function BS(e){var t=e.alternate;if(!t){if(t=Ia(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return dv(s),e;if(a===n)return dv(s),t;a=a.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function ob(e){return e=BS(e),e!==null?lb(e):null}function lb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lb(e);if(t!==null)return t;e=e.sibling}return null}var cb=Wr.unstable_scheduleCallback,fv=Wr.unstable_cancelCallback,VS=Wr.unstable_shouldYield,GS=Wr.unstable_requestPaint,kt=Wr.unstable_now,qS=Wr.unstable_getCurrentPriorityLevel,zp=Wr.unstable_ImmediatePriority,ub=Wr.unstable_UserBlockingPriority,uu=Wr.unstable_NormalPriority,KS=Wr.unstable_LowPriority,db=Wr.unstable_IdlePriority,Xu=null,Un=null;function QS(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Xu,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:JS,XS=Math.log,ZS=Math.LN2;function JS(e){return e>>>=0,e===0?32:31-(XS(e)/ZS|0)|0}var mc=64,pc=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function du(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~s;c!==0?n=Eo(c):(a&=o,a!==0&&(n=Eo(a)))}else o=r&~s,o!==0?n=Eo(o):a!==0&&(n=Eo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jn(t),s=1<<r,n|=e[r],t&=~s;return n}function ej(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-jn(a),c=1<<o,l=s[o];l===-1?(!(c&r)||c&n)&&(s[o]=ej(c,t)):l<=t&&(e.expiredLanes|=c),a&=~c}}function vm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fb(){var e=mc;return mc<<=1,!(mc&4194240)&&(mc=64),e}function af(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function El(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function rj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-jn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Up(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ve=0;function mb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pb,Wp,hb,gb,vb,ym=!1,hc=[],zs=null,Us=null,Ws=null,qo=new Map,Ko=new Map,Ms=[],nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(e,t){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(t.pointerId)}}function ho(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Tl(t),t!==null&&Wp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sj(e,t,r,n,s){switch(t){case"focusin":return zs=ho(zs,e,t,r,n,s),!0;case"dragenter":return Us=ho(Us,e,t,r,n,s),!0;case"mouseover":return Ws=ho(Ws,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return qo.set(a,ho(qo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ko.set(a,ho(Ko.get(a)||null,e,t,r,n,s)),!0}return!1}function yb(e){var t=ga(e.target);if(t!==null){var r=Ia(t);if(r!==null){if(t=r.tag,t===13){if(t=ib(r),t!==null){e.blockedOn=t,vb(e.priority,function(){hb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mm=n,r.target.dispatchEvent(n),mm=null}else return t=Tl(r),t!==null&&Wp(t),e.blockedOn=r,!1;t.shift()}return!0}function pv(e,t,r){Ic(e)&&r.delete(t)}function aj(){ym=!1,zs!==null&&Ic(zs)&&(zs=null),Us!==null&&Ic(Us)&&(Us=null),Ws!==null&&Ic(Ws)&&(Ws=null),qo.forEach(pv),Ko.forEach(pv)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,ym||(ym=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,aj)))}function Qo(e){function t(s){return go(s,e)}if(0<hc.length){go(hc[0],e);for(var r=1;r<hc.length;r++){var n=hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zs!==null&&go(zs,e),Us!==null&&go(Us,e),Ws!==null&&go(Ws,e),qo.forEach(t),Ko.forEach(t),r=0;r<Ms.length;r++)n=Ms[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ms.length&&(r=Ms[0],r.blockedOn===null);)yb(r),r.blockedOn===null&&Ms.shift()}var wi=bs.ReactCurrentBatchConfig,fu=!0;function ij(e,t,r,n){var s=Ve,a=wi.transition;wi.transition=null;try{Ve=1,Yp(e,t,r,n)}finally{Ve=s,wi.transition=a}}function oj(e,t,r,n){var s=Ve,a=wi.transition;wi.transition=null;try{Ve=4,Yp(e,t,r,n)}finally{Ve=s,wi.transition=a}}function Yp(e,t,r,n){if(fu){var s=xm(e,t,r,n);if(s===null)gf(e,t,n,mu,r),mv(e,n);else if(sj(s,e,t,r,n))n.stopPropagation();else if(mv(e,n),t&4&&-1<nj.indexOf(e)){for(;s!==null;){var a=Tl(s);if(a!==null&&pb(a),a=xm(e,t,r,n),a===null&&gf(e,t,n,mu,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else gf(e,t,n,null,r)}}var mu=null;function xm(e,t,r,n){if(mu=null,e=Fp(n),e=ga(e),e!==null)if(t=Ia(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ib(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function xb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qS()){case zp:return 1;case ub:return 4;case uu:case KS:return 16;case db:return 536870912;default:return 16}default:return 16}}var Ls=null,Hp=null,Fc=null;function bb(){if(Fc)return Fc;var e,t=Hp,r=t.length,n,s="value"in Ls?Ls.value:Ls.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Fc=s.slice(e,1<n?1-n:void 0)}function zc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gc(){return!0}function hv(){return!1}function Vr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gc:hv,this.isPropagationStopped=hv,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=Vr(Gi),Pl=pt({},Gi,{view:0,detail:0}),lj=Vr(Pl),of,lf,vo,Zu=pt({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(of=e.screenX-vo.screenX,lf=e.screenY-vo.screenY):lf=of=0,vo=e),of)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),gv=Vr(Zu),cj=pt({},Zu,{dataTransfer:0}),uj=Vr(cj),dj=pt({},Pl,{relatedTarget:0}),cf=Vr(dj),fj=pt({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),mj=Vr(fj),pj=pt({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hj=Vr(pj),gj=pt({},Gi,{data:0}),vv=Vr(gj),vj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xj[e])?!!t[e]:!1}function Vp(){return bj}var wj=pt({},Pl,{key:function(e){if(e.key){var t=vj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(e){return e.type==="keypress"?zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nj=Vr(wj),_j=pt({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=Vr(_j),Sj=pt({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),jj=Vr(Sj),kj=pt({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=Vr(kj),Ej=pt({},Zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pj=Vr(Ej),Tj=[9,13,27,32],Gp=ms&&"CompositionEvent"in window,Mo=null;ms&&"documentMode"in document&&(Mo=document.documentMode);var $j=ms&&"TextEvent"in window&&!Mo,wb=ms&&(!Gp||Mo&&8<Mo&&11>=Mo),xv=" ",bv=!1;function Nb(e,t){switch(e){case"keyup":return Tj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _b(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function Aj(e,t){switch(e){case"compositionend":return _b(t);case"keypress":return t.which!==32?null:(bv=!0,xv);case"textInput":return e=t.data,e===xv&&bv?null:e;default:return null}}function Oj(e,t){if(ii)return e==="compositionend"||!Gp&&Nb(e,t)?(e=bb(),Fc=Hp=Ls=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wb&&t.locale!=="ko"?null:t.data;default:return null}}var Mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mj[e.type]:t==="textarea"}function Sb(e,t,r,n){tb(n),t=pu(t,"onChange"),0<t.length&&(r=new Bp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Do=null,Xo=null;function Dj(e){Db(e,0)}function Ju(e){var t=ci(e);if(qx(t))return e}function Lj(e,t){if(e==="change")return t}var jb=!1;if(ms){var uf;if(ms){var df="oninput"in document;if(!df){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),df=typeof Nv.oninput=="function"}uf=df}else uf=!1;jb=uf&&(!document.documentMode||9<document.documentMode)}function _v(){Do&&(Do.detachEvent("onpropertychange",kb),Xo=Do=null)}function kb(e){if(e.propertyName==="value"&&Ju(Xo)){var t=[];Sb(t,Xo,e,Fp(e)),ab(Dj,t)}}function Rj(e,t,r){e==="focusin"?(_v(),Do=t,Xo=r,Do.attachEvent("onpropertychange",kb)):e==="focusout"&&_v()}function Ij(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(Xo)}function Fj(e,t){if(e==="click")return Ju(t)}function zj(e,t){if(e==="input"||e==="change")return Ju(t)}function Uj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Uj;function Zo(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!tm.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function Sv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,t){var r=Sv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sv(r)}}function Cb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eb(){for(var e=window,t=ou();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ou(e.document)}return t}function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wj(e){var t=Eb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cb(r.ownerDocument.documentElement,r)){if(n!==null&&qp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=jv(r,a);var o=jv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yj=ms&&"documentMode"in document&&11>=document.documentMode,oi=null,bm=null,Lo=null,wm=!1;function kv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wm||oi==null||oi!==ou(n)||(n=oi,"selectionStart"in n&&qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&Zo(Lo,n)||(Lo=n,n=pu(bm,"onSelect"),0<n.length&&(t=new Bp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oi)))}function vc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},ff={},Pb={};ms&&(Pb=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function ed(e){if(ff[e])return ff[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pb)return ff[e]=t[r];return e}var Tb=ed("animationend"),$b=ed("animationiteration"),Ab=ed("animationstart"),Ob=ed("transitionend"),Mb=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(e,t){Mb.set(e,t),Ra(t,[e])}for(var mf=0;mf<Cv.length;mf++){var pf=Cv[mf],Hj=pf.toLowerCase(),Bj=pf[0].toUpperCase()+pf.slice(1);ea(Hj,"on"+Bj)}ea(Tb,"onAnimationEnd");ea($b,"onAnimationIteration");ea(Ab,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(Ob,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Ev(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,HS(n,t,void 0,e),e.currentTarget=null}function Db(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==a&&s.isPropagationStopped())break e;Ev(s,c,u),a=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==a&&s.isPropagationStopped())break e;Ev(s,c,u),a=l}}}if(cu)throw e=gm,cu=!1,gm=null,e}function Je(e,t){var r=t[km];r===void 0&&(r=t[km]=new Set);var n=e+"__bubble";r.has(n)||(Lb(t,e,2,!1),r.add(n))}function hf(e,t,r){var n=0;t&&(n|=4),Lb(r,e,n,t)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[yc]){e[yc]=!0,Yx.forEach(function(r){r!=="selectionchange"&&(Vj.has(r)||hf(r,!1,e),hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yc]||(t[yc]=!0,hf("selectionchange",!1,t))}}function Lb(e,t,r,n){switch(xb(t)){case 1:var s=ij;break;case 4:s=oj;break;default:s=Yp}r=s.bind(null,t,r,e),s=void 0,!hm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function gf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;c!==null;){if(o=ga(c),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}c=c.parentNode}}n=n.return}ab(function(){var u=a,d=Fp(r),m=[];e:{var f=Mb.get(e);if(f!==void 0){var y=Bp,v=e;switch(e){case"keypress":if(zc(r)===0)break e;case"keydown":case"keyup":y=Nj;break;case"focusin":v="focus",y=cf;break;case"focusout":v="blur",y=cf;break;case"beforeblur":case"afterblur":y=cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jj;break;case Tb:case $b:case Ab:y=mj;break;case Ob:y=Cj;break;case"scroll":y=lj;break;case"wheel":y=Pj;break;case"copy":case"cut":case"paste":y=hj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yv}var p=(t&4)!==0,w=!p&&e==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var h=u,x;h!==null;){x=h;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,g!==null&&(N=Go(h,g),N!=null&&p.push(el(h,N,x)))),w)break;h=h.return}0<p.length&&(f=new y(f,v,null,r,d),m.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==mm&&(v=r.relatedTarget||r.fromElement)&&(ga(v)||v[ps]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?ga(v):null,v!==null&&(w=Ia(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(p=gv,N="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(p=yv,N="onPointerLeave",g="onPointerEnter",h="pointer"),w=y==null?f:ci(y),x=v==null?f:ci(v),f=new p(N,h+"leave",y,r,d),f.target=w,f.relatedTarget=x,N=null,ga(d)===u&&(p=new p(g,h+"enter",v,r,d),p.target=x,p.relatedTarget=w,N=p),w=N,y&&v)t:{for(p=y,g=v,h=0,x=p;x;x=Ja(x))h++;for(x=0,N=g;N;N=Ja(N))x++;for(;0<h-x;)p=Ja(p),h--;for(;0<x-h;)g=Ja(g),x--;for(;h--;){if(p===g||g!==null&&p===g.alternate)break t;p=Ja(p),g=Ja(g)}p=null}else p=null;y!==null&&Pv(m,f,y,p,!1),v!==null&&w!==null&&Pv(m,w,v,p,!0)}}e:{if(f=u?ci(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var _=Lj;else if(wv(f))if(jb)_=zj;else{_=Ij;var P=Rj}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Fj);if(_&&(_=_(e,u))){Sb(m,_,r,d);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&lm(f,"number",f.value)}switch(P=u?ci(u):window,e){case"focusin":(wv(P)||P.contentEditable==="true")&&(oi=P,bm=u,Lo=null);break;case"focusout":Lo=bm=oi=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,kv(m,r,d);break;case"selectionchange":if(Yj)break;case"keydown":case"keyup":kv(m,r,d)}var E;if(Gp)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ii?Nb(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(wb&&r.locale!=="ko"&&(ii||S!=="onCompositionStart"?S==="onCompositionEnd"&&ii&&(E=bb()):(Ls=d,Hp="value"in Ls?Ls.value:Ls.textContent,ii=!0)),P=pu(u,S),0<P.length&&(S=new vv(S,e,null,r,d),m.push({event:S,listeners:P}),E?S.data=E:(E=_b(r),E!==null&&(S.data=E)))),(E=$j?Aj(e,r):Oj(e,r))&&(u=pu(u,"onBeforeInput"),0<u.length&&(d=new vv("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=E))}Db(m,t)})}function el(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Go(e,r),a!=null&&n.unshift(el(e,a,s)),a=Go(e,t),a!=null&&n.push(el(e,a,s))),e=e.return}return n}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pv(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,s?(l=Go(r,a),l!=null&&o.unshift(el(r,l,c))):s||(l=Go(r,a),l!=null&&o.push(el(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Gj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function Tv(e){return(typeof e=="string"?e:""+e).replace(Gj,`
`).replace(qj,"")}function xc(e,t,r){if(t=Tv(t),Tv(e)!==t&&r)throw Error(re(425))}function hu(){}var Nm=null,_m=null;function Sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Qj=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Xj)}:jm;function Xj(e){setTimeout(function(){throw e})}function vf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qo(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Av(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),In="__reactFiber$"+qi,tl="__reactProps$"+qi,ps="__reactContainer$"+qi,km="__reactEvents$"+qi,Zj="__reactListeners$"+qi,Jj="__reactHandles$"+qi;function ga(e){var t=e[In];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ps]||r[In]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Av(e);e!==null;){if(r=e[In])return r;e=Av(e)}return t}e=r,r=e.parentNode}return null}function Tl(e){return e=e[In]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function td(e){return e[tl]||null}var Cm=[],ui=-1;function ta(e){return{current:e}}function rt(e){0>ui||(e.current=Cm[ui],Cm[ui]=null,ui--)}function Xe(e,t){ui++,Cm[ui]=e.current,e.current=t}var Xs={},nr=ta(Xs),Cr=ta(!1),ja=Xs;function Pi(e,t){var r=e.type.contextTypes;if(!r)return Xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Er(e){return e=e.childContextTypes,e!=null}function gu(){rt(Cr),rt(nr)}function Ov(e,t,r){if(nr.current!==Xs)throw Error(re(168));Xe(nr,t),Xe(Cr,r)}function Rb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(re(108,RS(e)||"Unknown",s));return pt({},r,n)}function vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,ja=nr.current,Xe(nr,e),Xe(Cr,Cr.current),!0}function Mv(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=Rb(e,t,ja),n.__reactInternalMemoizedMergedChildContext=e,rt(Cr),rt(nr),Xe(nr,e)):rt(Cr),Xe(Cr,r)}var ss=null,rd=!1,yf=!1;function Ib(e){ss===null?ss=[e]:ss.push(e)}function e2(e){rd=!0,Ib(e)}function ra(){if(!yf&&ss!==null){yf=!0;var e=0,t=Ve;try{var r=ss;for(Ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ss=null,rd=!1}catch(s){throw ss!==null&&(ss=ss.slice(e+1)),cb(zp,ra),s}finally{Ve=t,yf=!1}}return null}var di=[],fi=0,yu=null,xu=0,Xr=[],Zr=0,ka=null,as=1,is="";function fa(e,t){di[fi++]=xu,di[fi++]=yu,yu=e,xu=t}function Fb(e,t,r){Xr[Zr++]=as,Xr[Zr++]=is,Xr[Zr++]=ka,ka=e;var n=as;e=is;var s=32-jn(n)-1;n&=~(1<<s),r+=1;var a=32-jn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,as=1<<32-jn(t)+s|r<<s|n,is=a+e}else as=1<<a|r<<s|n,is=e}function Kp(e){e.return!==null&&(fa(e,1),Fb(e,1,0))}function Qp(e){for(;e===yu;)yu=di[--fi],di[fi]=null,xu=di[--fi],di[fi]=null;for(;e===ka;)ka=Xr[--Zr],Xr[Zr]=null,is=Xr[--Zr],Xr[Zr]=null,as=Xr[--Zr],Xr[Zr]=null}var Ur=null,zr=null,ut=!1,_n=null;function zb(e,t){var r=nn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,zr=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ka!==null?{id:as,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,zr=null,!0):!1;default:return!1}}function Em(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pm(e){if(ut){var t=zr;if(t){var r=t;if(!Dv(e,t)){if(Em(e))throw Error(re(418));t=Ys(r.nextSibling);var n=Ur;t&&Dv(e,t)?zb(n,r):(e.flags=e.flags&-4097|2,ut=!1,Ur=e)}}else{if(Em(e))throw Error(re(418));e.flags=e.flags&-4097|2,ut=!1,Ur=e}}}function Lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function bc(e){if(e!==Ur)return!1;if(!ut)return Lv(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sm(e.type,e.memoizedProps)),t&&(t=zr)){if(Em(e))throw Ub(),Error(re(418));for(;t;)zb(e,t),t=Ys(t.nextSibling)}if(Lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){zr=Ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}zr=null}}else zr=Ur?Ys(e.stateNode.nextSibling):null;return!0}function Ub(){for(var e=zr;e;)e=Ys(e.nextSibling)}function Ti(){zr=Ur=null,ut=!1}function Xp(e){_n===null?_n=[e]:_n.push(e)}var t2=bs.ReactCurrentBatchConfig;function yo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=s.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function wc(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function Wb(e){function t(g,h){if(e){var x=g.deletions;x===null?(g.deletions=[h],g.flags|=16):x.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=Gs(g,h),g.index=0,g.sibling=null,g}function a(g,h,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<h?(g.flags|=2,h):x):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,h,x,N){return h===null||h.tag!==6?(h=jf(x,g.mode,N),h.return=g,h):(h=s(h,x),h.return=g,h)}function l(g,h,x,N){var _=x.type;return _===ai?d(g,h,x.props.children,N,x.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===As&&Rv(_)===h.type)?(N=s(h,x.props),N.ref=yo(g,h,x),N.return=g,N):(N=Gc(x.type,x.key,x.props,null,g.mode,N),N.ref=yo(g,h,x),N.return=g,N)}function u(g,h,x,N){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=kf(x,g.mode,N),h.return=g,h):(h=s(h,x.children||[]),h.return=g,h)}function d(g,h,x,N,_){return h===null||h.tag!==7?(h=wa(x,g.mode,N,_),h.return=g,h):(h=s(h,x),h.return=g,h)}function m(g,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=jf(""+h,g.mode,x),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case uc:return x=Gc(h.type,h.key,h.props,null,g.mode,x),x.ref=yo(g,null,h),x.return=g,x;case si:return h=kf(h,g.mode,x),h.return=g,h;case As:var N=h._init;return m(g,N(h._payload),x)}if(Co(h)||mo(h))return h=wa(h,g.mode,x,null),h.return=g,h;wc(g,h)}return null}function f(g,h,x,N){var _=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:c(g,h,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uc:return x.key===_?l(g,h,x,N):null;case si:return x.key===_?u(g,h,x,N):null;case As:return _=x._init,f(g,h,_(x._payload),N)}if(Co(x)||mo(x))return _!==null?null:d(g,h,x,N,null);wc(g,x)}return null}function y(g,h,x,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(x)||null,c(h,g,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case uc:return g=g.get(N.key===null?x:N.key)||null,l(h,g,N,_);case si:return g=g.get(N.key===null?x:N.key)||null,u(h,g,N,_);case As:var P=N._init;return y(g,h,x,P(N._payload),_)}if(Co(N)||mo(N))return g=g.get(x)||null,d(h,g,N,_,null);wc(h,N)}return null}function v(g,h,x,N){for(var _=null,P=null,E=h,S=h=0,j=null;E!==null&&S<x.length;S++){E.index>S?(j=E,E=null):j=E.sibling;var M=f(g,E,x[S],N);if(M===null){E===null&&(E=j);break}e&&E&&M.alternate===null&&t(g,E),h=a(M,h,S),P===null?_=M:P.sibling=M,P=M,E=j}if(S===x.length)return r(g,E),ut&&fa(g,S),_;if(E===null){for(;S<x.length;S++)E=m(g,x[S],N),E!==null&&(h=a(E,h,S),P===null?_=E:P.sibling=E,P=E);return ut&&fa(g,S),_}for(E=n(g,E);S<x.length;S++)j=y(E,g,S,x[S],N),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?S:j.key),h=a(j,h,S),P===null?_=j:P.sibling=j,P=j);return e&&E.forEach(function(F){return t(g,F)}),ut&&fa(g,S),_}function p(g,h,x,N){var _=mo(x);if(typeof _!="function")throw Error(re(150));if(x=_.call(x),x==null)throw Error(re(151));for(var P=_=null,E=h,S=h=0,j=null,M=x.next();E!==null&&!M.done;S++,M=x.next()){E.index>S?(j=E,E=null):j=E.sibling;var F=f(g,E,M.value,N);if(F===null){E===null&&(E=j);break}e&&E&&F.alternate===null&&t(g,E),h=a(F,h,S),P===null?_=F:P.sibling=F,P=F,E=j}if(M.done)return r(g,E),ut&&fa(g,S),_;if(E===null){for(;!M.done;S++,M=x.next())M=m(g,M.value,N),M!==null&&(h=a(M,h,S),P===null?_=M:P.sibling=M,P=M);return ut&&fa(g,S),_}for(E=n(g,E);!M.done;S++,M=x.next())M=y(E,g,S,M.value,N),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?S:M.key),h=a(M,h,S),P===null?_=M:P.sibling=M,P=M);return e&&E.forEach(function(Q){return t(g,Q)}),ut&&fa(g,S),_}function w(g,h,x,N){if(typeof x=="object"&&x!==null&&x.type===ai&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case uc:e:{for(var _=x.key,P=h;P!==null;){if(P.key===_){if(_=x.type,_===ai){if(P.tag===7){r(g,P.sibling),h=s(P,x.props.children),h.return=g,g=h;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===As&&Rv(_)===P.type){r(g,P.sibling),h=s(P,x.props),h.ref=yo(g,P,x),h.return=g,g=h;break e}r(g,P);break}else t(g,P);P=P.sibling}x.type===ai?(h=wa(x.props.children,g.mode,N,x.key),h.return=g,g=h):(N=Gc(x.type,x.key,x.props,null,g.mode,N),N.ref=yo(g,h,x),N.return=g,g=N)}return o(g);case si:e:{for(P=x.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){r(g,h.sibling),h=s(h,x.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=kf(x,g.mode,N),h.return=g,g=h}return o(g);case As:return P=x._init,w(g,h,P(x._payload),N)}if(Co(x))return v(g,h,x,N);if(mo(x))return p(g,h,x,N);wc(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(r(g,h.sibling),h=s(h,x),h.return=g,g=h):(r(g,h),h=jf(x,g.mode,N),h.return=g,g=h),o(g)):r(g,h)}return w}var $i=Wb(!0),Yb=Wb(!1),bu=ta(null),wu=null,mi=null,Zp=null;function Jp(){Zp=mi=wu=null}function eh(e){var t=bu.current;rt(bu),e._currentValue=t}function Tm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ni(e,t){wu=e,Zp=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(Zp!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(wu===null)throw Error(re(308));mi=e,wu.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var va=null;function th(e){va===null?va=[e]:va.push(e)}function Hb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,th(t)):(r.next=s.next,s.next=r),t.interleaved=r,hs(e,n)}function hs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Os=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,hs(e,r)}return s=n.interleaved,s===null?(t.next=t,th(n)):(t.next=s.next,s.next=t),n.interleaved=t,hs(e,r)}function Uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Up(e,r)}}function Iv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nu(e,t,r,n){var s=e.updateQueue;Os=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(a!==null){var m=s.baseState;o=0,d=u=l=null,c=a;do{var f=c.lane,y=c.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,p=c;switch(f=t,y=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=pt({},m,f);break e;case 2:Os=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else y={eventTime:y,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=y,l=m):d=d.next=y,o|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=m),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ea|=o,e.lanes=o,e.memoizedState=m}}function Fv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var $l={},Wn=ta($l),rl=ta($l),nl=ta($l);function ya(e){if(e===$l)throw Error(re(174));return e}function nh(e,t){switch(Xe(nl,t),Xe(rl,e),Xe(Wn,$l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=um(t,e)}rt(Wn),Xe(Wn,t)}function Ai(){rt(Wn),rt(rl),rt(nl)}function Vb(e){ya(nl.current);var t=ya(Wn.current),r=um(t,e.type);t!==r&&(Xe(rl,e),Xe(Wn,r))}function sh(e){rl.current===e&&(rt(Wn),rt(rl))}var ft=ta(0);function _u(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xf=[];function ah(){for(var e=0;e<xf.length;e++)xf[e]._workInProgressVersionPrimary=null;xf.length=0}var Wc=bs.ReactCurrentDispatcher,bf=bs.ReactCurrentBatchConfig,Ca=0,mt=null,At=null,Wt=null,Su=!1,Ro=!1,sl=0,r2=0;function Zt(){throw Error(re(321))}function ih(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function oh(e,t,r,n,s,a){if(Ca=a,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wc.current=e===null||e.memoizedState===null?i2:o2,e=r(n,s),Ro){a=0;do{if(Ro=!1,sl=0,25<=a)throw Error(re(301));a+=1,Wt=At=null,t.updateQueue=null,Wc.current=l2,e=r(n,s)}while(Ro)}if(Wc.current=ju,t=At!==null&&At.next!==null,Ca=0,Wt=At=mt=null,Su=!1,t)throw Error(re(300));return e}function lh(){var e=sl!==0;return sl=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function on(){if(At===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Wt===null?mt.memoizedState:Wt.next;if(t!==null)Wt=t,At=e;else{if(e===null)throw Error(re(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function al(e,t){return typeof t=="function"?t(e):t}function wf(e){var t=on(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=At,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var c=o=null,l=null,u=a;do{var d=u.lane;if((Ca&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=m,o=n):l=l.next=m,mt.lanes|=d,Ea|=d}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=c,Cn(n,t.memoizedState)||(kr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,mt.lanes|=a,Ea|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nf(e){var t=on(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Cn(a,t.memoizedState)||(kr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Gb(){}function qb(e,t){var r=mt,n=on(),s=t(),a=!Cn(n.memoizedState,s);if(a&&(n.memoizedState=s,kr=!0),n=n.queue,ch(Xb.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,il(9,Qb.bind(null,r,n,s,t),void 0,null),Yt===null)throw Error(re(349));Ca&30||Kb(r,t,s)}return s}function Kb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qb(e,t,r,n){t.value=r,t.getSnapshot=n,Zb(t)&&Jb(e)}function Xb(e,t,r){return r(function(){Zb(t)&&Jb(e)})}function Zb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function Jb(e){var t=hs(e,1);t!==null&&kn(t,e,1,-1)}function zv(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t.queue=e,e=e.dispatch=a2.bind(null,mt,e),[t.memoizedState,e]}function il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ew(){return on().memoizedState}function Yc(e,t,r,n){var s=Ln();mt.flags|=e,s.memoizedState=il(1|t,r,void 0,n===void 0?null:n)}function nd(e,t,r,n){var s=on();n=n===void 0?null:n;var a=void 0;if(At!==null){var o=At.memoizedState;if(a=o.destroy,n!==null&&ih(n,o.deps)){s.memoizedState=il(t,r,a,n);return}}mt.flags|=e,s.memoizedState=il(1|t,r,a,n)}function Uv(e,t){return Yc(8390656,8,e,t)}function ch(e,t){return nd(2048,8,e,t)}function tw(e,t){return nd(4,2,e,t)}function rw(e,t){return nd(4,4,e,t)}function nw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sw(e,t,r){return r=r!=null?r.concat([e]):null,nd(4,4,nw.bind(null,t,e),r)}function uh(){}function aw(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ih(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iw(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ih(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ow(e,t,r){return Ca&21?(Cn(r,t)||(r=fb(),mt.lanes|=r,Ea|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=r)}function n2(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var n=bf.transition;bf.transition={};try{e(!1),t()}finally{Ve=r,bf.transition=n}}function lw(){return on().memoizedState}function s2(e,t,r){var n=Vs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cw(e))uw(t,r);else if(r=Hb(e,t,r,n),r!==null){var s=mr();kn(r,e,n,s),dw(r,t,n)}}function a2(e,t,r){var n=Vs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cw(e))uw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,r);if(s.hasEagerState=!0,s.eagerState=c,Cn(c,o)){var l=t.interleaved;l===null?(s.next=s,th(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Hb(e,t,s,n),r!==null&&(s=mr(),kn(r,e,n,s),dw(r,t,n))}}function cw(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function uw(e,t){Ro=Su=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Up(e,r)}}var ju={readContext:an,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},i2={readContext:an,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Uv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yc(4194308,4,nw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yc(4,2,e,t)},useMemo:function(e,t){var r=Ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=s2.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:zv,useDebugValue:uh,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=zv(!1),t=e[0];return e=n2.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,s=Ln();if(ut){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Yt===null)throw Error(re(349));Ca&30||Kb(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Uv(Xb.bind(null,n,a,e),[e]),n.flags|=2048,il(9,Qb.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ln(),t=Yt.identifierPrefix;if(ut){var r=is,n=as;r=(n&~(1<<32-jn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o2={readContext:an,useCallback:aw,useContext:an,useEffect:ch,useImperativeHandle:sw,useInsertionEffect:tw,useLayoutEffect:rw,useMemo:iw,useReducer:wf,useRef:ew,useState:function(){return wf(al)},useDebugValue:uh,useDeferredValue:function(e){var t=on();return ow(t,At.memoizedState,e)},useTransition:function(){var e=wf(al)[0],t=on().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lw,unstable_isNewReconciler:!1},l2={readContext:an,useCallback:aw,useContext:an,useEffect:ch,useImperativeHandle:sw,useInsertionEffect:tw,useLayoutEffect:rw,useMemo:iw,useReducer:Nf,useRef:ew,useState:function(){return Nf(al)},useDebugValue:uh,useDeferredValue:function(e){var t=on();return At===null?t.memoizedState=e:ow(t,At.memoizedState,e)},useTransition:function(){var e=Nf(al)[0],t=on().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lw,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $m(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sd={isMounted:function(e){return(e=e._reactInternals)?Ia(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mr(),s=Vs(e),a=us(n,s);a.payload=t,r!=null&&(a.callback=r),t=Hs(e,a,s),t!==null&&(kn(t,e,s,n),Uc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mr(),s=Vs(e),a=us(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Hs(e,a,s),t!==null&&(kn(t,e,s,n),Uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mr(),n=Vs(e),s=us(r,n);s.tag=2,t!=null&&(s.callback=t),t=Hs(e,s,n),t!==null&&(kn(t,e,n,r),Uc(t,e,n))}};function Wv(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zo(r,n)||!Zo(s,a):!0}function fw(e,t,r){var n=!1,s=Xs,a=t.contextType;return typeof a=="object"&&a!==null?a=an(a):(s=Er(t)?ja:nr.current,n=t.contextTypes,a=(n=n!=null)?Pi(e,s):Xs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Am(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rh(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=an(a):(a=Er(t)?ja:nr.current,s.context=Pi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($m(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sd.enqueueReplaceState(s,s.state,null),Nu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t){try{var r="",n=t;do r+=LS(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function _f(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Om(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var c2=typeof WeakMap=="function"?WeakMap:Map;function mw(e,t,r){r=us(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cu||(Cu=!0,Ym=n),Om(e,t)},r}function pw(e,t,r){r=us(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Om(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Om(e,t),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Hv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new c2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=_2.bind(null,e,t,r),t.then(e,e))}function Bv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=us(-1,1),t.tag=2,Hs(r,t,1))),r.lanes|=1),e)}var u2=bs.ReactCurrentOwner,kr=!1;function dr(e,t,r,n){t.child=e===null?Yb(t,null,r,n):$i(t,e.child,r,n)}function Gv(e,t,r,n,s){r=r.render;var a=t.ref;return Ni(t,s),n=oh(e,t,r,n,a,s),r=lh(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gs(e,t,s)):(ut&&r&&Kp(t),t.flags|=1,dr(e,t,n,s),t.child)}function qv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!yh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,hw(e,t,a,n,s)):(e=Gc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(o,n)&&e.ref===t.ref)return gs(e,t,s)}return t.flags|=1,e=Gs(a,n),e.ref=t.ref,e.return=t,t.child=e}function hw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Zo(a,n)&&e.ref===t.ref)if(kr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,gs(e,t,s)}return Mm(e,t,r,n,s)}function gw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(hi,Fr),Fr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(hi,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Xe(hi,Fr),Fr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Xe(hi,Fr),Fr|=n;return dr(e,t,s,r),t.child}function vw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mm(e,t,r,n,s){var a=Er(r)?ja:nr.current;return a=Pi(t,a),Ni(t,s),r=oh(e,t,r,n,a,s),n=lh(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gs(e,t,s)):(ut&&n&&Kp(t),t.flags|=1,dr(e,t,r,s),t.child)}function Kv(e,t,r,n,s){if(Er(r)){var a=!0;vu(t)}else a=!1;if(Ni(t,s),t.stateNode===null)Hc(e,t),fw(t,r,n),Am(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Er(r)?ja:nr.current,u=Pi(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==u)&&Yv(t,o,n,u),Os=!1;var f=t.memoizedState;o.state=f,Nu(t,n,o,s),l=t.memoizedState,c!==n||f!==l||Cr.current||Os?(typeof d=="function"&&($m(t,r,d,n),l=t.memoizedState),(c=Os||Wv(t,r,c,n,f,l,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Bb(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:wn(t.type,c),o.props=u,m=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=an(l):(l=Er(r)?ja:nr.current,l=Pi(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||f!==l)&&Yv(t,o,n,l),Os=!1,f=t.memoizedState,o.state=f,Nu(t,n,o,s);var v=t.memoizedState;c!==m||f!==v||Cr.current||Os?(typeof y=="function"&&($m(t,r,y,n),v=t.memoizedState),(u=Os||Wv(t,r,u,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Dm(e,t,r,n,a,s)}function Dm(e,t,r,n,s,a){vw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Mv(t,r,!1),gs(e,t,a);n=t.stateNode,u2.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$i(t,e.child,null,a),t.child=$i(t,null,c,a)):dr(e,t,c,a),t.memoizedState=n.state,s&&Mv(t,r,!0),t.child}function yw(e){var t=e.stateNode;t.pendingContext?Ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ov(e,t.context,!1),nh(e,t.containerInfo)}function Qv(e,t,r,n,s){return Ti(),Xp(s),t.flags|=256,dr(e,t,r,n),t.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Rm(e){return{baseLanes:e,cachePool:null,transitions:null}}function xw(e,t,r){var n=t.pendingProps,s=ft.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xe(ft,s&1),e===null)return Pm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=od(o,n,0,null),e=wa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Rm(r),t.memoizedState=Lm,e):dh(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return d2(e,t,o,n,c,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Gs(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=Gs(c,a):(a=wa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Rm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Lm,n}return a=e.child,e=a.sibling,n=Gs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dh(e,t){return t=od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nc(e,t,r,n){return n!==null&&Xp(n),$i(t,e.child,null,r),e=dh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d2(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=_f(Error(re(422))),Nc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=od({mode:"visible",children:n.children},s,0,null),a=wa(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&$i(t,e.child,null,o),t.child.memoizedState=Rm(o),t.memoizedState=Lm,a);if(!(t.mode&1))return Nc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(re(419)),n=_f(a,n,void 0),Nc(e,t,o,n)}if(c=(o&e.childLanes)!==0,kr||c){if(n=Yt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,hs(e,s),kn(n,e,s,-1))}return vh(),n=_f(Error(re(421))),Nc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=S2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,zr=Ys(s.nextSibling),Ur=t,ut=!0,_n=null,e!==null&&(Xr[Zr++]=as,Xr[Zr++]=is,Xr[Zr++]=ka,as=e.id,is=e.overflow,ka=t),t=dh(t,n.children),t.flags|=4096,t)}function Xv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tm(e.return,t,r)}function Sf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function bw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(dr(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xv(e,r,t);else if(e.tag===19)Xv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xe(ft,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_u(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Sf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_u(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Sf(t,!0,r,null,a);break;case"together":Sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Gs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function f2(e,t,r){switch(t.tag){case 3:yw(t),Ti();break;case 5:Vb(t);break;case 1:Er(t.type)&&vu(t);break;case 4:nh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Xe(bu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xe(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?xw(e,t,r):(Xe(ft,ft.current&1),e=gs(e,t,r),e!==null?e.sibling:null);Xe(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,gw(e,t,r)}return gs(e,t,r)}var ww,Im,Nw,_w;ww=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Im=function(){};Nw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ya(Wn.current);var a=null;switch(r){case"input":s=im(e,s),n=im(e,n),a=[];break;case"select":s=pt({},s,{value:void 0}),n=pt({},n,{value:void 0}),a=[];break;case"textarea":s=cm(e,s),n=cm(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hu)}dm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};_w=function(e,t,r,n){r!==n&&(t.flags|=4)};function xo(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function m2(e,t,r){var n=t.pendingProps;switch(Qp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return Er(t.type)&&gu(),Jt(t),null;case 3:return n=t.stateNode,Ai(),rt(Cr),rt(nr),ah(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Vm(_n),_n=null))),Im(e,t),Jt(t),null;case 5:sh(t);var s=ya(nl.current);if(r=t.type,e!==null&&t.stateNode!=null)Nw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Jt(t),null}if(e=ya(Wn.current),bc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[In]=t,n[tl]=a,e=(t.mode&1)!==0,r){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(s=0;s<Po.length;s++)Je(Po[s],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":iv(n,a),Je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Je("invalid",n);break;case"textarea":lv(n,a),Je("invalid",n)}dm(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&xc(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&xc(n.textContent,c,e),s=["children",""+c]):Bo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Je("scroll",n)}switch(r){case"input":dc(n),ov(n,a,!0);break;case"textarea":dc(n),cv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[In]=t,e[tl]=n,ww(e,t,!1,!1),t.stateNode=e;e:{switch(o=fm(r,n),r){case"dialog":Je("cancel",e),Je("close",e),s=n;break;case"iframe":case"object":case"embed":Je("load",e),s=n;break;case"video":case"audio":for(s=0;s<Po.length;s++)Je(Po[s],e);s=n;break;case"source":Je("error",e),s=n;break;case"img":case"image":case"link":Je("error",e),Je("load",e),s=n;break;case"details":Je("toggle",e),s=n;break;case"input":iv(e,n),s=im(e,n),Je("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pt({},n,{value:void 0}),Je("invalid",e);break;case"textarea":lv(e,n),s=cm(e,n),Je("invalid",e);break;default:s=n}dm(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];a==="style"?eb(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zx(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vo(e,l):typeof l=="number"&&Vo(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bo.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Je("scroll",e):l!=null&&Dp(e,a,l,o))}switch(r){case"input":dc(e),ov(e,n,!1);break;case"textarea":dc(e),cv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qs(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yi(e,!!n.multiple,a,!1):n.defaultValue!=null&&yi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)_w(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=ya(nl.current),ya(Wn.current),bc(t)){if(n=t.stateNode,r=t.memoizedProps,n[In]=t,(a=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:xc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[In]=t,t.stateNode=n}return Jt(t),null;case 13:if(rt(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&zr!==null&&t.mode&1&&!(t.flags&128))Ub(),Ti(),t.flags|=98560,a=!1;else if(a=bc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[In]=t}else Ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jt(t),a=!1}else _n!==null&&(Vm(_n),_n=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Ot===0&&(Ot=3):vh())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return Ai(),Im(e,t),e===null&&Jo(t.stateNode.containerInfo),Jt(t),null;case 10:return eh(t.type._context),Jt(t),null;case 17:return Er(t.type)&&gu(),Jt(t),null;case 19:if(rt(ft),a=t.memoizedState,a===null)return Jt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)xo(a,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_u(e),o!==null){for(t.flags|=128,xo(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&kt()>Mi&&(t.flags|=128,n=!0,xo(a,!1),t.lanes=4194304)}else{if(!n)if(e=_u(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return Jt(t),null}else 2*kt()-a.renderingStartTime>Mi&&r!==1073741824&&(t.flags|=128,n=!0,xo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=kt(),t.sibling=null,r=ft.current,Xe(ft,n?r&1|2:r&1),t):(Jt(t),null);case 22:case 23:return gh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fr&1073741824&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function p2(e,t){switch(Qp(t),t.tag){case 1:return Er(t.type)&&gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),rt(Cr),rt(nr),ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sh(t),null;case 13:if(rt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(ft),null;case 4:return Ai(),null;case 10:return eh(t.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var _c=!1,tr=!1,h2=typeof WeakSet=="function"?WeakSet:Set,ue=null;function pi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vt(e,t,n)}else r.current=null}function Fm(e,t,r){try{r()}catch(n){vt(e,t,n)}}var Zv=!1;function g2(e,t){if(Nm=fu,e=Eb(),qp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var y;m!==r||s!==0&&m.nodeType!==3||(c=o+s),m!==a||n!==0&&m.nodeType!==3||(l=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===e)break t;if(f===r&&++u===s&&(c=o),f===a&&++d===n&&(l=o),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(_m={focusedElem:e,selectionRange:r},fu=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,w=v.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:wn(t.type,p),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(N){vt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return v=Zv,Zv=!1,v}function Io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Fm(t,r,a)}s=s.next}while(s!==n)}}function ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sw(e){var t=e.alternate;t!==null&&(e.alternate=null,Sw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[tl],delete t[km],delete t[Zj],delete t[Jj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jw(e){return e.tag===5||e.tag===3||e.tag===4}function Jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Um(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hu));else if(n!==4&&(e=e.child,e!==null))for(Um(e,t,r),e=e.sibling;e!==null;)Um(e,t,r),e=e.sibling}function Wm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wm(e,t,r),e=e.sibling;e!==null;)Wm(e,t,r),e=e.sibling}var qt=null,Nn=!1;function Ts(e,t,r){for(r=r.child;r!==null;)kw(e,t,r),r=r.sibling}function kw(e,t,r){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Xu,r)}catch{}switch(r.tag){case 5:tr||pi(r,t);case 6:var n=qt,s=Nn;qt=null,Ts(e,t,r),qt=n,Nn=s,qt!==null&&(Nn?(e=qt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(Nn?(e=qt,r=r.stateNode,e.nodeType===8?vf(e.parentNode,r):e.nodeType===1&&vf(e,r),Qo(e)):vf(qt,r.stateNode));break;case 4:n=qt,s=Nn,qt=r.stateNode.containerInfo,Nn=!0,Ts(e,t,r),qt=n,Nn=s;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Fm(r,t,o),s=s.next}while(s!==n)}Ts(e,t,r);break;case 1:if(!tr&&(pi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){vt(r,t,c)}Ts(e,t,r);break;case 21:Ts(e,t,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Ts(e,t,r),tr=n):Ts(e,t,r);break;default:Ts(e,t,r)}}function ey(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new h2),t.forEach(function(n){var s=j2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function yn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:qt=c.stateNode,Nn=!1;break e;case 3:qt=c.stateNode.containerInfo,Nn=!0;break e;case 4:qt=c.stateNode.containerInfo,Nn=!0;break e}c=c.return}if(qt===null)throw Error(re(160));kw(a,o,s),qt=null,Nn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){vt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cw(t,e),t=t.sibling}function Cw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),Dn(e),n&4){try{Io(3,e,e.return),ad(3,e)}catch(p){vt(e,e.return,p)}try{Io(5,e,e.return)}catch(p){vt(e,e.return,p)}}break;case 1:yn(t,e),Dn(e),n&512&&r!==null&&pi(r,r.return);break;case 5:if(yn(t,e),Dn(e),n&512&&r!==null&&pi(r,r.return),e.flags&32){var s=e.stateNode;try{Vo(s,"")}catch(p){vt(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Kx(s,a),fm(c,o);var u=fm(c,a);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?eb(s,m):d==="dangerouslySetInnerHTML"?Zx(s,m):d==="children"?Vo(s,m):Dp(s,d,m,u)}switch(c){case"input":om(s,a);break;case"textarea":Qx(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?yi(s,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?yi(s,!!a.multiple,a.defaultValue,!0):yi(s,!!a.multiple,a.multiple?[]:"",!1))}s[tl]=a}catch(p){vt(e,e.return,p)}}break;case 6:if(yn(t,e),Dn(e),n&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){vt(e,e.return,p)}}break;case 3:if(yn(t,e),Dn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(p){vt(e,e.return,p)}break;case 4:yn(t,e),Dn(e);break;case 13:yn(t,e),Dn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ph=kt())),n&4&&ey(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(tr=(u=tr)||d,yn(t,e),tr=u):yn(t,e),Dn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(m=ue=d;ue!==null;){switch(f=ue,y=f.child,f.tag){case 0:case 11:case 14:case 15:Io(4,f,f.return);break;case 1:pi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){vt(n,r,p)}}break;case 5:pi(f,f.return);break;case 22:if(f.memoizedState!==null){ry(m);continue}}y!==null?(y.return=f,ue=y):ry(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=Jx("display",o))}catch(p){vt(e,e.return,p)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(p){vt(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:yn(t,e),Dn(e),n&4&&ey(e);break;case 21:break;default:yn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jw(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Vo(s,""),n.flags&=-33);var a=Jv(e);Wm(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Jv(e);Um(e,c,o);break;default:throw Error(re(161))}}catch(l){vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v2(e,t,r){ue=e,Ew(e)}function Ew(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var s=ue,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||_c;if(!o){var c=s.alternate,l=c!==null&&c.memoizedState!==null||tr;c=_c;var u=tr;if(_c=o,(tr=l)&&!u)for(ue=s;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?ny(s):l!==null?(l.return=o,ue=l):ny(s);for(;a!==null;)ue=a,Ew(a),a=a.sibling;ue=s,_c=c,tr=u}ty(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ue=a):ty(e)}}function ty(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||ad(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fv(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Qo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}tr||t.flags&512&&zm(t)}catch(f){vt(t,t.return,f)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function ry(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function ny(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ad(4,t)}catch(l){vt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){vt(t,s,l)}}var a=t.return;try{zm(t)}catch(l){vt(t,a,l)}break;case 5:var o=t.return;try{zm(t)}catch(l){vt(t,o,l)}}}catch(l){vt(t,t.return,l)}if(t===e){ue=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ue=c;break}ue=t.return}}var y2=Math.ceil,ku=bs.ReactCurrentDispatcher,fh=bs.ReactCurrentOwner,sn=bs.ReactCurrentBatchConfig,Fe=0,Yt=null,Pt=null,Kt=0,Fr=0,hi=ta(0),Ot=0,ol=null,Ea=0,id=0,mh=0,Fo=null,jr=null,ph=0,Mi=1/0,rs=null,Cu=!1,Ym=null,Bs=null,Sc=!1,Rs=null,Eu=0,zo=0,Hm=null,Bc=-1,Vc=0;function mr(){return Fe&6?kt():Bc!==-1?Bc:Bc=kt()}function Vs(e){return e.mode&1?Fe&2&&Kt!==0?Kt&-Kt:t2.transition!==null?(Vc===0&&(Vc=fb()),Vc):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:xb(e.type)),e):1}function kn(e,t,r,n){if(50<zo)throw zo=0,Hm=null,Error(re(185));El(e,r,n),(!(Fe&2)||e!==Yt)&&(e===Yt&&(!(Fe&2)&&(id|=r),Ot===4&&Ds(e,Kt)),Pr(e,n),r===1&&Fe===0&&!(t.mode&1)&&(Mi=kt()+500,rd&&ra()))}function Pr(e,t){var r=e.callbackNode;tj(e,t);var n=du(e,e===Yt?Kt:0);if(n===0)r!==null&&fv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fv(r),t===1)e.tag===0?e2(sy.bind(null,e)):Ib(sy.bind(null,e)),Qj(function(){!(Fe&6)&&ra()}),r=null;else{switch(mb(n)){case 1:r=zp;break;case 4:r=ub;break;case 16:r=uu;break;case 536870912:r=db;break;default:r=uu}r=Lw(r,Pw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pw(e,t){if(Bc=-1,Vc=0,Fe&6)throw Error(re(327));var r=e.callbackNode;if(_i()&&e.callbackNode!==r)return null;var n=du(e,e===Yt?Kt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pu(e,n);else{t=n;var s=Fe;Fe|=2;var a=$w();(Yt!==e||Kt!==t)&&(rs=null,Mi=kt()+500,ba(e,t));do try{w2();break}catch(c){Tw(e,c)}while(!0);Jp(),ku.current=a,Fe=s,Pt!==null?t=0:(Yt=null,Kt=0,t=Ot)}if(t!==0){if(t===2&&(s=vm(e),s!==0&&(n=s,t=Bm(e,s))),t===1)throw r=ol,ba(e,0),Ds(e,n),Pr(e,kt()),r;if(t===6)Ds(e,n);else{if(s=e.current.alternate,!(n&30)&&!x2(s)&&(t=Pu(e,n),t===2&&(a=vm(e),a!==0&&(n=a,t=Bm(e,a))),t===1))throw r=ol,ba(e,0),Ds(e,n),Pr(e,kt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:ma(e,jr,rs);break;case 3:if(Ds(e,n),(n&130023424)===n&&(t=ph+500-kt(),10<t)){if(du(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jm(ma.bind(null,e,jr,rs),t);break}ma(e,jr,rs);break;case 4:if(Ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-jn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y2(n/1960))-n,10<n){e.timeoutHandle=jm(ma.bind(null,e,jr,rs),n);break}ma(e,jr,rs);break;case 5:ma(e,jr,rs);break;default:throw Error(re(329))}}}return Pr(e,kt()),e.callbackNode===r?Pw.bind(null,e):null}function Bm(e,t){var r=Fo;return e.current.memoizedState.isDehydrated&&(ba(e,t).flags|=256),e=Pu(e,t),e!==2&&(t=jr,jr=r,t!==null&&Vm(t)),e}function Vm(e){jr===null?jr=e:jr.push.apply(jr,e)}function x2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Cn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ds(e,t){for(t&=~mh,t&=~id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),n=1<<r;e[r]=-1,t&=~n}}function sy(e){if(Fe&6)throw Error(re(327));_i();var t=du(e,0);if(!(t&1))return Pr(e,kt()),null;var r=Pu(e,t);if(e.tag!==0&&r===2){var n=vm(e);n!==0&&(t=n,r=Bm(e,n))}if(r===1)throw r=ol,ba(e,0),Ds(e,t),Pr(e,kt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ma(e,jr,rs),Pr(e,kt()),null}function hh(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(Mi=kt()+500,rd&&ra())}}function Pa(e){Rs!==null&&Rs.tag===0&&!(Fe&6)&&_i();var t=Fe;Fe|=1;var r=sn.transition,n=Ve;try{if(sn.transition=null,Ve=1,e)return e()}finally{Ve=n,sn.transition=r,Fe=t,!(Fe&6)&&ra()}}function gh(){Fr=hi.current,rt(hi)}function ba(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kj(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(Qp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gu();break;case 3:Ai(),rt(Cr),rt(nr),ah();break;case 5:sh(n);break;case 4:Ai();break;case 13:rt(ft);break;case 19:rt(ft);break;case 10:eh(n.type._context);break;case 22:case 23:gh()}r=r.return}if(Yt=e,Pt=e=Gs(e.current,null),Kt=Fr=t,Ot=0,ol=null,mh=id=Ea=0,jr=Fo=null,va!==null){for(t=0;t<va.length;t++)if(r=va[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}va=null}return e}function Tw(e,t){do{var r=Pt;try{if(Jp(),Wc.current=ju,Su){for(var n=mt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Su=!1}if(Ca=0,Wt=At=mt=null,Ro=!1,sl=0,fh.current=null,r===null||r.return===null){Ot=1,ol=t,Pt=null;break}e:{var a=e,o=r.return,c=r,l=t;if(t=Kt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Bv(o);if(y!==null){y.flags&=-257,Vv(y,o,c,a,t),y.mode&1&&Hv(a,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){Hv(a,u,t),vh();break e}l=Error(re(426))}}else if(ut&&c.mode&1){var w=Bv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vv(w,o,c,a,t),Xp(Oi(l,c));break e}}a=l=Oi(l,c),Ot!==4&&(Ot=2),Fo===null?Fo=[a]:Fo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=mw(a,l,t);Iv(a,g);break e;case 1:c=l;var h=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=pw(a,c,t);Iv(a,N);break e}}a=a.return}while(a!==null)}Ow(r)}catch(_){t=_,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function $w(){var e=ku.current;return ku.current=ju,e===null?ju:e}function vh(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Yt===null||!(Ea&268435455)&&!(id&268435455)||Ds(Yt,Kt)}function Pu(e,t){var r=Fe;Fe|=2;var n=$w();(Yt!==e||Kt!==t)&&(rs=null,ba(e,t));do try{b2();break}catch(s){Tw(e,s)}while(!0);if(Jp(),Fe=r,ku.current=n,Pt!==null)throw Error(re(261));return Yt=null,Kt=0,Ot}function b2(){for(;Pt!==null;)Aw(Pt)}function w2(){for(;Pt!==null&&!VS();)Aw(Pt)}function Aw(e){var t=Dw(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?Ow(e):Pt=t,fh.current=null}function Ow(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p2(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,Pt=null;return}}else if(r=m2(r,t,Fr),r!==null){Pt=r;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Ot===0&&(Ot=5)}function ma(e,t,r){var n=Ve,s=sn.transition;try{sn.transition=null,Ve=1,N2(e,t,r,n)}finally{sn.transition=s,Ve=n}return null}function N2(e,t,r,n){do _i();while(Rs!==null);if(Fe&6)throw Error(re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(rj(e,a),e===Yt&&(Pt=Yt=null,Kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sc||(Sc=!0,Lw(uu,function(){return _i(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=sn.transition,sn.transition=null;var o=Ve;Ve=1;var c=Fe;Fe|=4,fh.current=null,g2(e,r),Cw(r,e),Wj(_m),fu=!!Nm,_m=Nm=null,e.current=r,v2(r),GS(),Fe=c,Ve=o,sn.transition=a}else e.current=r;if(Sc&&(Sc=!1,Rs=e,Eu=s),a=e.pendingLanes,a===0&&(Bs=null),QS(r.stateNode),Pr(e,kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cu)throw Cu=!1,e=Ym,Ym=null,e;return Eu&1&&e.tag!==0&&_i(),a=e.pendingLanes,a&1?e===Hm?zo++:(zo=0,Hm=e):zo=0,ra(),null}function _i(){if(Rs!==null){var e=mb(Eu),t=sn.transition,r=Ve;try{if(sn.transition=null,Ve=16>e?16:e,Rs===null)var n=!1;else{if(e=Rs,Rs=null,Eu=0,Fe&6)throw Error(re(331));var s=Fe;for(Fe|=4,ue=e.current;ue!==null;){var a=ue,o=a.child;if(ue.flags&16){var c=a.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Io(8,d,a)}var m=d.child;if(m!==null)m.return=d,ue=m;else for(;ue!==null;){d=ue;var f=d.sibling,y=d.return;if(Sw(d),d===u){ue=null;break}if(f!==null){f.return=y,ue=f;break}ue=y}}}var v=a.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ue=o;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Io(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ue=g;break e}ue=a.return}}var h=e.current;for(ue=h;ue!==null;){o=ue;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ue=x;else e:for(o=h;ue!==null;){if(c=ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ad(9,c)}}catch(_){vt(c,c.return,_)}if(c===o){ue=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,ue=N;break e}ue=c.return}}if(Fe=s,ra(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Xu,e)}catch{}n=!0}return n}finally{Ve=r,sn.transition=t}}return!1}function ay(e,t,r){t=Oi(r,t),t=mw(e,t,1),e=Hs(e,t,1),t=mr(),e!==null&&(El(e,1,t),Pr(e,t))}function vt(e,t,r){if(e.tag===3)ay(e,e,r);else for(;t!==null;){if(t.tag===3){ay(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){e=Oi(r,e),e=pw(t,e,1),t=Hs(t,e,1),e=mr(),t!==null&&(El(t,1,e),Pr(t,e));break}}t=t.return}}function _2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mr(),e.pingedLanes|=e.suspendedLanes&r,Yt===e&&(Kt&r)===r&&(Ot===4||Ot===3&&(Kt&130023424)===Kt&&500>kt()-ph?ba(e,0):mh|=r),Pr(e,t)}function Mw(e,t){t===0&&(e.mode&1?(t=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):t=1);var r=mr();e=hs(e,t),e!==null&&(El(e,t,r),Pr(e,r))}function S2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mw(e,r)}function j2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Mw(e,r)}var Dw;Dw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)kr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kr=!1,f2(e,t,r);kr=!!(e.flags&131072)}else kr=!1,ut&&t.flags&1048576&&Fb(t,xu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hc(e,t),e=t.pendingProps;var s=Pi(t,nr.current);Ni(t,r),s=oh(null,t,n,e,s,r);var a=lh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(n)?(a=!0,vu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rh(t),s.updater=sd,t.stateNode=s,s._reactInternals=t,Am(t,n,e,r),t=Dm(null,t,n,!0,a,r)):(t.tag=0,ut&&a&&Kp(t),dr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=C2(n),e=wn(n,e),s){case 0:t=Mm(null,t,n,e,r);break e;case 1:t=Kv(null,t,n,e,r);break e;case 11:t=Gv(null,t,n,e,r);break e;case 14:t=qv(null,t,n,wn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Mm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Kv(e,t,n,s,r);case 3:e:{if(yw(t),e===null)throw Error(re(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Bb(e,t),Nu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Oi(Error(re(423)),t),t=Qv(e,t,n,r,s);break e}else if(n!==s){s=Oi(Error(re(424)),t),t=Qv(e,t,n,r,s);break e}else for(zr=Ys(t.stateNode.containerInfo.firstChild),Ur=t,ut=!0,_n=null,r=Yb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ti(),n===s){t=gs(e,t,r);break e}dr(e,t,n,r)}t=t.child}return t;case 5:return Vb(t),e===null&&Pm(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Sm(n,s)?o=null:a!==null&&Sm(n,a)&&(t.flags|=32),vw(e,t),dr(e,t,o,r),t.child;case 6:return e===null&&Pm(t),null;case 13:return xw(e,t,r);case 4:return nh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$i(t,null,n,r):dr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Gv(e,t,n,s,r);case 7:return dr(e,t,t.pendingProps,r),t.child;case 8:return dr(e,t,t.pendingProps.children,r),t.child;case 12:return dr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Xe(bu,n._currentValue),n._currentValue=o,a!==null)if(Cn(a.value,o)){if(a.children===s.children&&!Cr.current){t=gs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=us(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Tm(a.return,r,t),c.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Tm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ni(t,r),s=an(s),n=n(s),t.flags|=1,dr(e,t,n,r),t.child;case 14:return n=t.type,s=wn(n,t.pendingProps),s=wn(n.type,s),qv(e,t,n,s,r);case 15:return hw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wn(n,s),Hc(e,t),t.tag=1,Er(n)?(e=!0,vu(t)):e=!1,Ni(t,r),fw(t,n,s),Am(t,n,s,r),Dm(null,t,n,!0,e,r);case 19:return bw(e,t,r);case 22:return gw(e,t,r)}throw Error(re(156,t.tag))};function Lw(e,t){return cb(e,t)}function k2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,r,n){return new k2(e,t,r,n)}function yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C2(e){if(typeof e=="function")return yh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rp)return 11;if(e===Ip)return 14}return 2}function Gs(e,t){var r=e.alternate;return r===null?(r=nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")yh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ai:return wa(r.children,s,a,t);case Lp:o=8,s|=8;break;case rm:return e=nn(12,r,t,s|2),e.elementType=rm,e.lanes=a,e;case nm:return e=nn(13,r,t,s),e.elementType=nm,e.lanes=a,e;case sm:return e=nn(19,r,t,s),e.elementType=sm,e.lanes=a,e;case Vx:return od(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hx:o=10;break e;case Bx:o=9;break e;case Rp:o=11;break e;case Ip:o=14;break e;case As:o=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=nn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function wa(e,t,r,n){return e=nn(7,e,n,t),e.lanes=r,e}function od(e,t,r,n){return e=nn(22,e,n,t),e.elementType=Vx,e.lanes=r,e.stateNode={isHidden:!1},e}function jf(e,t,r){return e=nn(6,e,null,t),e.lanes=r,e}function kf(e,t,r){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xh(e,t,r,n,s,a,o,c,l){return e=new E2(e,t,r,c,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(a),e}function P2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Rw(e){if(!e)return Xs;e=e._reactInternals;e:{if(Ia(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(Er(r))return Rb(e,r,t)}return t}function Iw(e,t,r,n,s,a,o,c,l){return e=xh(r,n,!0,e,s,a,o,c,l),e.context=Rw(null),r=e.current,n=mr(),s=Vs(r),a=us(n,s),a.callback=t??null,Hs(r,a,s),e.current.lanes=s,El(e,s,n),Pr(e,n),e}function ld(e,t,r,n){var s=t.current,a=mr(),o=Vs(s);return r=Rw(r),t.context===null?t.context=r:t.pendingContext=r,t=us(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hs(s,t,o),e!==null&&(kn(e,s,o,a),Uc(e,s,o)),o}function Tu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bh(e,t){iy(e,t),(e=e.alternate)&&iy(e,t)}function T2(){return null}var Fw=typeof reportError=="function"?reportError:function(e){console.error(e)};function wh(e){this._internalRoot=e}cd.prototype.render=wh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));ld(e,t,null,null)};cd.prototype.unmount=wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pa(function(){ld(null,e,null,null)}),t[ps]=null}};function cd(e){this._internalRoot=e}cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=gb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ms.length&&t!==0&&t<Ms[r].priority;r++);Ms.splice(r,0,e),r===0&&yb(e)}};function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oy(){}function $2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Tu(o);a.call(u)}}var o=Iw(t,n,e,0,null,!1,!1,"",oy);return e._reactRootContainer=o,e[ps]=o.current,Jo(e.nodeType===8?e.parentNode:e),Pa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=Tu(l);c.call(u)}}var l=xh(e,0,!1,null,null,!1,!1,"",oy);return e._reactRootContainer=l,e[ps]=l.current,Jo(e.nodeType===8?e.parentNode:e),Pa(function(){ld(t,l,r,n)}),l}function dd(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var c=s;s=function(){var l=Tu(o);c.call(l)}}ld(t,o,e,s)}else o=$2(r,t,e,s,n);return Tu(o)}pb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Eo(t.pendingLanes);r!==0&&(Up(t,r|1),Pr(t,kt()),!(Fe&6)&&(Mi=kt()+500,ra()))}break;case 13:Pa(function(){var n=hs(e,1);if(n!==null){var s=mr();kn(n,e,1,s)}}),bh(e,1)}};Wp=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var r=mr();kn(t,e,134217728,r)}bh(e,134217728)}};hb=function(e){if(e.tag===13){var t=Vs(e),r=hs(e,t);if(r!==null){var n=mr();kn(r,e,t,n)}bh(e,t)}};gb=function(){return Ve};vb=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};pm=function(e,t,r){switch(t){case"input":if(om(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=td(n);if(!s)throw Error(re(90));qx(n),om(n,s)}}}break;case"textarea":Qx(e,r);break;case"select":t=r.value,t!=null&&yi(e,!!r.multiple,t,!1)}};nb=hh;sb=Pa;var A2={usingClientEntryPoint:!1,Events:[Tl,ci,td,tb,rb,hh]},bo={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O2={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ob(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Xu=jc.inject(O2),Un=jc}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2;Br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nh(t))throw Error(re(200));return P2(e,t,null,r)};Br.createRoot=function(e,t){if(!Nh(e))throw Error(re(299));var r=!1,n="",s=Fw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xh(e,1,!1,null,null,r,!1,n,s),e[ps]=t.current,Jo(e.nodeType===8?e.parentNode:e),new wh(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=ob(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return Pa(e)};Br.hydrate=function(e,t,r){if(!ud(t))throw Error(re(200));return dd(null,e,t,!0,r)};Br.hydrateRoot=function(e,t,r){if(!Nh(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Fw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Iw(t,null,e,1,r??null,s,!1,a,o),e[ps]=t.current,Jo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new cd(t)};Br.render=function(e,t,r){if(!ud(t))throw Error(re(200));return dd(null,e,t,!1,r)};Br.unmountComponentAtNode=function(e){if(!ud(e))throw Error(re(40));return e._reactRootContainer?(Pa(function(){dd(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Br.unstable_batchedUpdates=hh;Br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ud(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return dd(e,t,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zw)}catch(e){console.error(e)}}zw(),zx.exports=Br;var Uw=zx.exports;const Ww=pr(Uw);var ly=Uw;em.createRoot=ly.createRoot,em.hydrateRoot=ly.hydrateRoot;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Yw;function q(){return Yw.apply(null,arguments)}function M2(e){Yw=e}function En(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Na(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _h(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ue(e,t))return!1;return!0}function Sr(e){return e===void 0}function vs(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Al(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Hw(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function Is(e,t){for(var r in t)Ue(t,r)&&(e[r]=t[r]);return Ue(t,"toString")&&(e.toString=t.toString),Ue(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Gn(e,t,r,n){return m1(e,t,r,n,!0).utc()}function D2(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(e){return e._pf==null&&(e._pf=D2()),e._pf}var Gm;Array.prototype.some?Gm=Array.prototype.some:Gm=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Sh(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=ke(e),r=Gm.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function fd(e){var t=Gn(NaN);return e!=null?Is(ke(t),e):ke(t).userInvalidated=!0,t}var cy=q.momentProperties=[],Cf=!1;function jh(e,t){var r,n,s,a=cy.length;if(Sr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Sr(t._i)||(e._i=t._i),Sr(t._f)||(e._f=t._f),Sr(t._l)||(e._l=t._l),Sr(t._strict)||(e._strict=t._strict),Sr(t._tzm)||(e._tzm=t._tzm),Sr(t._isUTC)||(e._isUTC=t._isUTC),Sr(t._offset)||(e._offset=t._offset),Sr(t._pf)||(e._pf=ke(t)),Sr(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=cy[r],s=t[n],Sr(s)||(e[n]=s);return e}function Ol(e){jh(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Cf===!1&&(Cf=!0,q.updateOffset(this),Cf=!1)}function Pn(e){return e instanceof Ol||e!=null&&e._isAMomentObject!=null}function Bw(e){q.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function un(e,t){var r=!0;return Is(function(){if(q.deprecationHandler!=null&&q.deprecationHandler(null,e),r){var n=[],s,a,o,c=arguments.length;for(a=0;a<c;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(o in arguments[0])Ue(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}Bw(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var uy={};function Vw(e,t){q.deprecationHandler!=null&&q.deprecationHandler(e,t),uy[e]||(Bw(t),uy[e]=!0)}q.suppressDeprecationWarnings=!1;q.deprecationHandler=null;function qn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function L2(e){var t,r;for(r in e)Ue(e,r)&&(t=e[r],qn(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qm(e,t){var r=Is({},e),n;for(n in t)Ue(t,n)&&(Na(e[n])&&Na(t[n])?(r[n]={},Is(r[n],e[n]),Is(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ue(e,n)&&!Ue(t,n)&&Na(e[n])&&(r[n]=Is({},r[n]));return r}function kh(e){e!=null&&this.set(e)}var Km;Object.keys?Km=Object.keys:Km=function(e){var t,r=[];for(t in e)Ue(e,t)&&r.push(t);return r};var R2={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I2(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return qn(n)?n.call(t,r):n}function Bn(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var Ch=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ef={},Si={};function ge(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(Si[e]=s),t&&(Si[t[0]]=function(){return Bn(s.apply(this,arguments),t[1],t[2])}),r&&(Si[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function F2(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z2(e){var t=e.match(Ch),r,n;for(r=0,n=t.length;r<n;r++)Si[t[r]]?t[r]=Si[t[r]]:t[r]=F2(t[r]);return function(s){var a="",o;for(o=0;o<n;o++)a+=qn(t[o])?t[o].call(s,e):t[o];return a}}function qc(e,t){return e.isValid()?(t=Gw(t,e.localeData()),Ef[t]=Ef[t]||z2(t),Ef[t](e)):e.localeData().invalidDate()}function Gw(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(kc.lastIndex=0;r>=0&&kc.test(e);)e=e.replace(kc,n),kc.lastIndex=0,r-=1;return e}var U2={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W2(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Ch).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var Y2="Invalid date";function H2(){return this._invalidDate}var B2="%d",V2=/\d{1,2}/;function G2(e){return this._ordinal.replace("%d",e)}var q2={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K2(e,t,r,n){var s=this._relativeTime[r];return qn(s)?s(e,t,r,n):s.replace(/%d/i,e)}function Q2(e,t){var r=this._relativeTime[e>0?"future":"past"];return qn(r)?r(t):r.replace(/%s/i,t)}var dy={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dn(e){return typeof e=="string"?dy[e]||dy[e.toLowerCase()]:void 0}function Eh(e){var t={},r,n;for(n in e)Ue(e,n)&&(r=dn(n),r&&(t[r]=e[n]));return t}var X2={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Z2(e){var t=[],r;for(r in e)Ue(e,r)&&t.push({unit:r,priority:X2[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var qw=/\d/,Gr=/\d\d/,Kw=/\d{3}/,Ph=/\d{4}/,md=/[+-]?\d{6}/,st=/\d\d?/,Qw=/\d\d\d\d?/,Xw=/\d\d\d\d\d\d?/,pd=/\d{1,3}/,Th=/\d{1,4}/,hd=/[+-]?\d{1,6}/,Ki=/\d+/,gd=/[+-]?\d+/,J2=/Z|[+-]\d\d:?\d\d/gi,vd=/Z|[+-]\d\d(?::?\d\d)?/gi,ek=/[+-]?\d+(\.\d{1,3})?/,Ml=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Qi=/^[1-9]\d?/,$h=/^([1-9]\d|\d)/,$u;$u={};function ce(e,t,r){$u[e]=qn(t)?t:function(n,s){return n&&r?r:t}}function tk(e,t){return Ue($u,e)?$u[e](t._strict,t._locale):new RegExp(rk(e))}function rk(e){return ds(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function ds(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Jr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function De(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Jr(t)),r}var Qm={};function Ge(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),vs(t)&&(n=function(a,o){o[t]=De(a)}),s=e.length,r=0;r<s;r++)Qm[e[r]]=n}function Dl(e,t){Ge(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function nk(e,t,r){t!=null&&Ue(Qm,e)&&Qm[e](t,r._a,r,e)}function yd(e){return e%4===0&&e%100!==0||e%400===0}var rr=0,os=1,Fn=2,Mt=3,Sn=4,ls=5,xa=6,sk=7,ak=8;ge("Y",0,0,function(){var e=this.year();return e<=9999?Bn(e,4):"+"+e});ge(0,["YY",2],0,function(){return this.year()%100});ge(0,["YYYY",4],0,"year");ge(0,["YYYYY",5],0,"year");ge(0,["YYYYYY",6,!0],0,"year");ce("Y",gd);ce("YY",st,Gr);ce("YYYY",Th,Ph);ce("YYYYY",hd,md);ce("YYYYYY",hd,md);Ge(["YYYYY","YYYYYY"],rr);Ge("YYYY",function(e,t){t[rr]=e.length===2?q.parseTwoDigitYear(e):De(e)});Ge("YY",function(e,t){t[rr]=q.parseTwoDigitYear(e)});Ge("Y",function(e,t){t[rr]=parseInt(e,10)});function Uo(e){return yd(e)?366:365}q.parseTwoDigitYear=function(e){return De(e)+(De(e)>68?1900:2e3)};var Zw=Xi("FullYear",!0);function ik(){return yd(this.year())}function Xi(e,t){return function(r){return r!=null?(Jw(this,e,r),q.updateOffset(this,t),this):ll(this,e)}}function ll(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Jw(e,t,r){var n,s,a,o,c;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=e.month(),c=e.date(),c=c===29&&o===1&&!yd(a)?28:c,s?n.setUTCFullYear(a,o,c):n.setFullYear(a,o,c)}}function ok(e){return e=dn(e),qn(this[e])?this[e]():this}function lk(e,t){if(typeof e=="object"){e=Eh(e);var r=Z2(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=dn(e),qn(this[e]))return this[e](t);return this}function ck(e,t){return(e%t+t)%t}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ah(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=ck(t,12);return e+=(t-r)/12,r===1?yd(e)?29:28:31-r%7%2}ge("M",["MM",2],"Mo",function(){return this.month()+1});ge("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ge("MMMM",0,0,function(e){return this.localeData().months(this,e)});ce("M",st,Qi);ce("MM",st,Gr);ce("MMM",function(e,t){return t.monthsShortRegex(e)});ce("MMMM",function(e,t){return t.monthsRegex(e)});Ge(["M","MM"],function(e,t){t[os]=De(e)-1});Ge(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[os]=s:ke(r).invalidMonth=e});var uk="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),e1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),t1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,dk=Ml,fk=Ml;function mk(e,t){return e?En(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||t1).test(t)?"format":"standalone"][e.month()]:En(this._months)?this._months:this._months.standalone}function pk(e,t){return e?En(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[t1.test(t)?"format":"standalone"][e.month()]:En(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hk(e,t,r){var n,s,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=Gn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=jt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=jt.call(this._longMonthsParse,o),s!==-1?s:null):t==="MMM"?(s=jt.call(this._shortMonthsParse,o),s!==-1?s:(s=jt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=jt.call(this._longMonthsParse,o),s!==-1?s:(s=jt.call(this._shortMonthsParse,o),s!==-1?s:null))}function gk(e,t,r){var n,s,a;if(this._monthsParseExact)return hk.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=Gn([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function r1(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=De(t);else if(t=e.localeData().monthsParse(t),!vs(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Ah(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function n1(e){return e!=null?(r1(this,e),q.updateOffset(this,!0),this):ll(this,"Month")}function vk(){return Ah(this.year(),this.month())}function yk(e){return this._monthsParseExact?(Ue(this,"_monthsRegex")||s1.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ue(this,"_monthsShortRegex")||(this._monthsShortRegex=dk),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function xk(e){return this._monthsParseExact?(Ue(this,"_monthsRegex")||s1.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ue(this,"_monthsRegex")||(this._monthsRegex=fk),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function s1(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],s,a,o,c;for(s=0;s<12;s++)a=Gn([2e3,s]),o=ds(this.monthsShort(a,"")),c=ds(this.months(a,"")),t.push(o),r.push(c),n.push(c),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function bk(e,t,r,n,s,a,o){var c;return e<100&&e>=0?(c=new Date(e+400,t,r,n,s,a,o),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,r,n,s,a,o),c}function cl(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Au(e,t,r){var n=7+t-r,s=(7+cl(e,0,n).getUTCDay()-t)%7;return-s+n-1}function a1(e,t,r,n,s){var a=(7+r-n)%7,o=Au(e,n,s),c=1+7*(t-1)+a+o,l,u;return c<=0?(l=e-1,u=Uo(l)+c):c>Uo(e)?(l=e+1,u=c-Uo(e)):(l=e,u=c),{year:l,dayOfYear:u}}function ul(e,t,r){var n=Au(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,o;return s<1?(o=e.year()-1,a=s+fs(o,t,r)):s>fs(e.year(),t,r)?(a=s-fs(e.year(),t,r),o=e.year()+1):(o=e.year(),a=s),{week:a,year:o}}function fs(e,t,r){var n=Au(e,t,r),s=Au(e+1,t,r);return(Uo(e)-n+s)/7}ge("w",["ww",2],"wo","week");ge("W",["WW",2],"Wo","isoWeek");ce("w",st,Qi);ce("ww",st,Gr);ce("W",st,Qi);ce("WW",st,Gr);Dl(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=De(e)});function wk(e){return ul(e,this._week.dow,this._week.doy).week}var Nk={dow:0,doy:6};function _k(){return this._week.dow}function Sk(){return this._week.doy}function jk(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function kk(e){var t=ul(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ge("d",0,"do","day");ge("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ge("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ge("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ge("e",0,0,"weekday");ge("E",0,0,"isoWeekday");ce("d",st);ce("e",st);ce("E",st);ce("dd",function(e,t){return t.weekdaysMinRegex(e)});ce("ddd",function(e,t){return t.weekdaysShortRegex(e)});ce("dddd",function(e,t){return t.weekdaysRegex(e)});Dl(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:ke(r).invalidWeekday=e});Dl(["d","e","E"],function(e,t,r,n){t[n]=De(e)});function Ck(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Ek(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Oh(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Pk="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),i1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tk="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$k=Ml,Ak=Ml,Ok=Ml;function Mk(e,t){var r=En(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Oh(r,this._week.dow):e?r[e.day()]:r}function Dk(e){return e===!0?Oh(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Lk(e){return e===!0?Oh(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Rk(e,t,r){var n,s,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=Gn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=jt.call(this._weekdaysParse,o),s!==-1?s:null):t==="ddd"?(s=jt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=jt.call(this._minWeekdaysParse,o),s!==-1?s:null):t==="dddd"?(s=jt.call(this._weekdaysParse,o),s!==-1||(s=jt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=jt.call(this._minWeekdaysParse,o),s!==-1?s:null)):t==="ddd"?(s=jt.call(this._shortWeekdaysParse,o),s!==-1||(s=jt.call(this._weekdaysParse,o),s!==-1)?s:(s=jt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=jt.call(this._minWeekdaysParse,o),s!==-1||(s=jt.call(this._weekdaysParse,o),s!==-1)?s:(s=jt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function Ik(e,t,r){var n,s,a;if(this._weekdaysParseExact)return Rk.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=Gn([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Fk(e){if(!this.isValid())return e!=null?this:NaN;var t=ll(this,"Day");return e!=null?(e=Ck(e,this.localeData()),this.add(e-t,"d")):t}function zk(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Uk(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Ek(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Wk(e){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mh.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ue(this,"_weekdaysRegex")||(this._weekdaysRegex=$k),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yk(e){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mh.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ue(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ak),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Hk(e){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mh.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ue(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ok),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Mh(){function e(d,m){return m.length-d.length}var t=[],r=[],n=[],s=[],a,o,c,l,u;for(a=0;a<7;a++)o=Gn([2e3,1]).day(a),c=ds(this.weekdaysMin(o,"")),l=ds(this.weekdaysShort(o,"")),u=ds(this.weekdays(o,"")),t.push(c),r.push(l),n.push(u),s.push(c),s.push(l),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Dh(){return this.hours()%12||12}function Bk(){return this.hours()||24}ge("H",["HH",2],0,"hour");ge("h",["hh",2],0,Dh);ge("k",["kk",2],0,Bk);ge("hmm",0,0,function(){return""+Dh.apply(this)+Bn(this.minutes(),2)});ge("hmmss",0,0,function(){return""+Dh.apply(this)+Bn(this.minutes(),2)+Bn(this.seconds(),2)});ge("Hmm",0,0,function(){return""+this.hours()+Bn(this.minutes(),2)});ge("Hmmss",0,0,function(){return""+this.hours()+Bn(this.minutes(),2)+Bn(this.seconds(),2)});function o1(e,t){ge(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}o1("a",!0);o1("A",!1);function l1(e,t){return t._meridiemParse}ce("a",l1);ce("A",l1);ce("H",st,$h);ce("h",st,Qi);ce("k",st,Qi);ce("HH",st,Gr);ce("hh",st,Gr);ce("kk",st,Gr);ce("hmm",Qw);ce("hmmss",Xw);ce("Hmm",Qw);ce("Hmmss",Xw);Ge(["H","HH"],Mt);Ge(["k","kk"],function(e,t,r){var n=De(e);t[Mt]=n===24?0:n});Ge(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Ge(["h","hh"],function(e,t,r){t[Mt]=De(e),ke(r).bigHour=!0});Ge("hmm",function(e,t,r){var n=e.length-2;t[Mt]=De(e.substr(0,n)),t[Sn]=De(e.substr(n)),ke(r).bigHour=!0});Ge("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Mt]=De(e.substr(0,n)),t[Sn]=De(e.substr(n,2)),t[ls]=De(e.substr(s)),ke(r).bigHour=!0});Ge("Hmm",function(e,t,r){var n=e.length-2;t[Mt]=De(e.substr(0,n)),t[Sn]=De(e.substr(n))});Ge("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[Mt]=De(e.substr(0,n)),t[Sn]=De(e.substr(n,2)),t[ls]=De(e.substr(s))});function Vk(e){return(e+"").toLowerCase().charAt(0)==="p"}var Gk=/[ap]\.?m?\.?/i,qk=Xi("Hours",!0);function Kk(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var c1={calendar:R2,longDateFormat:U2,invalidDate:Y2,ordinal:B2,dayOfMonthOrdinalParse:V2,relativeTime:q2,months:uk,monthsShort:e1,week:Nk,weekdays:Pk,weekdaysMin:Tk,weekdaysShort:i1,meridiemParse:Gk},ct={},wo={},dl;function Qk(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function fy(e){return e&&e.toLowerCase().replace("_","-")}function Xk(e){for(var t=0,r,n,s,a;t<e.length;){for(a=fy(e[t]).split("-"),r=a.length,n=fy(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=xd(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&Qk(a,n)>=r-1)break;r--}t++}return dl}function Zk(e){return!!(e&&e.match("^[^/\\\\]*$"))}function xd(e){var t=null,r;if(ct[e]===void 0&&typeof module<"u"&&module&&module.exports&&Zk(e))try{t=dl._abbr,r=require,r("./locale/"+e),qs(t)}catch{ct[e]=null}return ct[e]}function qs(e,t){var r;return e&&(Sr(t)?r=ws(e):r=Lh(e,t),r?dl=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),dl._abbr}function Lh(e,t){if(t!==null){var r,n=c1;if(t.abbr=e,ct[e]!=null)Vw("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ct[e]._config;else if(t.parentLocale!=null)if(ct[t.parentLocale]!=null)n=ct[t.parentLocale]._config;else if(r=xd(t.parentLocale),r!=null)n=r._config;else return wo[t.parentLocale]||(wo[t.parentLocale]=[]),wo[t.parentLocale].push({name:e,config:t}),null;return ct[e]=new kh(qm(n,t)),wo[e]&&wo[e].forEach(function(s){Lh(s.name,s.config)}),qs(e),ct[e]}else return delete ct[e],null}function Jk(e,t){if(t!=null){var r,n,s=c1;ct[e]!=null&&ct[e].parentLocale!=null?ct[e].set(qm(ct[e]._config,t)):(n=xd(e),n!=null&&(s=n._config),t=qm(s,t),n==null&&(t.abbr=e),r=new kh(t),r.parentLocale=ct[e],ct[e]=r),qs(e)}else ct[e]!=null&&(ct[e].parentLocale!=null?(ct[e]=ct[e].parentLocale,e===qs()&&qs(e)):ct[e]!=null&&delete ct[e]);return ct[e]}function ws(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return dl;if(!En(e)){if(t=xd(e),t)return t;e=[e]}return Xk(e)}function eC(){return Km(ct)}function Rh(e){var t,r=e._a;return r&&ke(e).overflow===-2&&(t=r[os]<0||r[os]>11?os:r[Fn]<1||r[Fn]>Ah(r[rr],r[os])?Fn:r[Mt]<0||r[Mt]>24||r[Mt]===24&&(r[Sn]!==0||r[ls]!==0||r[xa]!==0)?Mt:r[Sn]<0||r[Sn]>59?Sn:r[ls]<0||r[ls]>59?ls:r[xa]<0||r[xa]>999?xa:-1,ke(e)._overflowDayOfYear&&(t<rr||t>Fn)&&(t=Fn),ke(e)._overflowWeeks&&t===-1&&(t=sk),ke(e)._overflowWeekday&&t===-1&&(t=ak),ke(e).overflow=t),e}var tC=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rC=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nC=/Z|[+-]\d\d(?::?\d\d)?/,Cc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sC=/^\/?Date\((-?\d+)/i,aC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iC={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function u1(e){var t,r,n=e._i,s=tC.exec(n)||rC.exec(n),a,o,c,l,u=Cc.length,d=Pf.length;if(s){for(ke(e).iso=!0,t=0,r=u;t<r;t++)if(Cc[t][1].exec(s[1])){o=Cc[t][0],a=Cc[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(Pf[t][1].exec(s[3])){c=(s[2]||" ")+Pf[t][0];break}if(c==null){e._isValid=!1;return}}if(!a&&c!=null){e._isValid=!1;return}if(s[4])if(nC.exec(s[4]))l="Z";else{e._isValid=!1;return}e._f=o+(c||"")+(l||""),Fh(e)}else e._isValid=!1}function oC(e,t,r,n,s,a){var o=[lC(e),e1.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&o.push(parseInt(a,10)),o}function lC(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function cC(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uC(e,t,r){if(e){var n=i1.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return ke(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function dC(e,t,r){if(e)return iC[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function d1(e){var t=aC.exec(cC(e._i)),r;if(t){if(r=oC(t[4],t[3],t[2],t[5],t[6],t[7]),!uC(t[1],r,e))return;e._a=r,e._tzm=dC(t[8],t[9],t[10]),e._d=cl.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ke(e).rfc2822=!0}else e._isValid=!1}function fC(e){var t=sC.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(u1(e),e._isValid===!1)delete e._isValid;else return;if(d1(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:q.createFromInputFallback(e)}q.createFromInputFallback=un("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ri(e,t,r){return e??t??r}function mC(e){var t=new Date(q.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ih(e){var t,r,n=[],s,a,o;if(!e._d){for(s=mC(e),e._w&&e._a[Fn]==null&&e._a[os]==null&&pC(e),e._dayOfYear!=null&&(o=ri(e._a[rr],s[rr]),(e._dayOfYear>Uo(o)||e._dayOfYear===0)&&(ke(e)._overflowDayOfYear=!0),r=cl(o,0,e._dayOfYear),e._a[os]=r.getUTCMonth(),e._a[Fn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Mt]===24&&e._a[Sn]===0&&e._a[ls]===0&&e._a[xa]===0&&(e._nextDay=!0,e._a[Mt]=0),e._d=(e._useUTC?cl:bk).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Mt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(ke(e).weekdayMismatch=!0)}}function pC(e){var t,r,n,s,a,o,c,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,r=ri(t.GG,e._a[rr],ul(nt(),1,4).year),n=ri(t.W,1),s=ri(t.E,1),(s<1||s>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,u=ul(nt(),a,o),r=ri(t.gg,e._a[rr],u.year),n=ri(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(l=!0)):s=a),n<1||n>fs(r,a,o)?ke(e)._overflowWeeks=!0:l!=null?ke(e)._overflowWeekday=!0:(c=a1(r,n,s,a,o),e._a[rr]=c.year,e._dayOfYear=c.dayOfYear)}q.ISO_8601=function(){};q.RFC_2822=function(){};function Fh(e){if(e._f===q.ISO_8601){u1(e);return}if(e._f===q.RFC_2822){d1(e);return}e._a=[],ke(e).empty=!0;var t=""+e._i,r,n,s,a,o,c=t.length,l=0,u,d;for(s=Gw(e._f,e._locale).match(Ch)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(tk(a,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&ke(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),l+=n.length),Si[a]?(n?ke(e).empty=!1:ke(e).unusedTokens.push(a),nk(a,n,e)):e._strict&&!n&&ke(e).unusedTokens.push(a);ke(e).charsLeftOver=c-l,t.length>0&&ke(e).unusedInput.push(t),e._a[Mt]<=12&&ke(e).bigHour===!0&&e._a[Mt]>0&&(ke(e).bigHour=void 0),ke(e).parsedDateParts=e._a.slice(0),ke(e).meridiem=e._meridiem,e._a[Mt]=hC(e._locale,e._a[Mt],e._meridiem),u=ke(e).era,u!==null&&(e._a[rr]=e._locale.erasConvertYear(u,e._a[rr])),Ih(e),Rh(e)}function hC(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function gC(e){var t,r,n,s,a,o,c=!1,l=e._f.length;if(l===0){ke(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<l;s++)a=0,o=!1,t=jh({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Fh(t),Sh(t)&&(o=!0),a+=ke(t).charsLeftOver,a+=ke(t).unusedTokens.length*10,ke(t).score=a,c?a<n&&(n=a,r=t):(n==null||a<n||o)&&(n=a,r=t,o&&(c=!0));Is(e,r||t)}function vC(e){if(!e._d){var t=Eh(e._i),r=t.day===void 0?t.date:t.day;e._a=Hw([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),Ih(e)}}function yC(e){var t=new Ol(Rh(f1(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function f1(e){var t=e._i,r=e._f;return e._locale=e._locale||ws(e._l),t===null||r===void 0&&t===""?fd({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Pn(t)?new Ol(Rh(t)):(Al(t)?e._d=t:En(r)?gC(e):r?Fh(e):xC(e),Sh(e)||(e._d=null),e))}function xC(e){var t=e._i;Sr(t)?e._d=new Date(q.now()):Al(t)?e._d=new Date(t.valueOf()):typeof t=="string"?fC(e):En(t)?(e._a=Hw(t.slice(0),function(r){return parseInt(r,10)}),Ih(e)):Na(t)?vC(e):vs(t)?e._d=new Date(t):q.createFromInputFallback(e)}function m1(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Na(e)&&_h(e)||En(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,yC(a)}function nt(e,t,r,n){return m1(e,t,r,n,!1)}var bC=un("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=nt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:fd()}),wC=un("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=nt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:fd()});function p1(e,t){var r,n;if(t.length===1&&En(t[0])&&(t=t[0]),!t.length)return nt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function NC(){var e=[].slice.call(arguments,0);return p1("isBefore",e)}function _C(){var e=[].slice.call(arguments,0);return p1("isAfter",e)}var SC=function(){return Date.now?Date.now():+new Date},No=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jC(e){var t,r=!1,n,s=No.length;for(t in e)if(Ue(e,t)&&!(jt.call(No,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[No[n]]){if(r)return!1;parseFloat(e[No[n]])!==De(e[No[n]])&&(r=!0)}return!0}function kC(){return this._isValid}function CC(){return $n(NaN)}function bd(e){var t=Eh(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=jC(t),this._milliseconds=+d+u*1e3+l*6e4+c*1e3*60*60,this._days=+o+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=ws(),this._bubble()}function Kc(e){return e instanceof bd}function Xm(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function EC(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,o;for(o=0;o<n;o++)De(e[o])!==De(t[o])&&a++;return a+s}function h1(e,t){ge(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Bn(~~(r/60),2)+t+Bn(~~r%60,2)})}h1("Z",":");h1("ZZ","");ce("Z",vd);ce("ZZ",vd);Ge(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=zh(vd,e)});var PC=/([\+\-]|\d\d)/gi;function zh(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(PC)||["-",0,0],a=+(s[1]*60)+De(s[2]),a===0?0:s[0]==="+"?a:-a)}function Uh(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Pn(e)||Al(e)?e.valueOf():nt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),q.updateOffset(r,!1),r):nt(e).local()}function Zm(e){return-Math.round(e._d.getTimezoneOffset())}q.updateOffset=function(){};function TC(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=zh(vd,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=Zm(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?y1(this,$n(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,q.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Zm(this)}function $C(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function AC(e){return this.utcOffset(0,e)}function OC(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Zm(this),"m")),this}function MC(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=zh(J2,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function DC(e){return this.isValid()?(e=e?nt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function LC(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function RC(){if(!Sr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return jh(e,this),e=f1(e),e._a?(t=e._isUTC?Gn(e._a):nt(e._a),this._isDSTShifted=this.isValid()&&EC(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function IC(){return this.isValid()?!this._isUTC:!1}function FC(){return this.isValid()?this._isUTC:!1}function g1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zC=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UC=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $n(e,t){var r=e,n=null,s,a,o;return Kc(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:vs(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=zC.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:De(n[Fn])*s,h:De(n[Mt])*s,m:De(n[Sn])*s,s:De(n[ls])*s,ms:De(Xm(n[xa]*1e3))*s}):(n=UC.exec(e))?(s=n[1]==="-"?-1:1,r={y:da(n[2],s),M:da(n[3],s),w:da(n[4],s),d:da(n[5],s),h:da(n[6],s),m:da(n[7],s),s:da(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=WC(nt(r.from),nt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new bd(r),Kc(e)&&Ue(e,"_locale")&&(a._locale=e._locale),Kc(e)&&Ue(e,"_isValid")&&(a._isValid=e._isValid),a}$n.fn=bd.prototype;$n.invalid=CC;function da(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function my(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function WC(e,t){var r;return e.isValid()&&t.isValid()?(t=Uh(t,e),e.isBefore(t)?r=my(e,t):(r=my(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function v1(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(Vw(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=$n(r,n),y1(this,s,e),this}}function y1(e,t,r,n){var s=t._milliseconds,a=Xm(t._days),o=Xm(t._months);e.isValid()&&(n=n??!0,o&&r1(e,ll(e,"Month")+o*r),a&&Jw(e,"Date",ll(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&q.updateOffset(e,a||o))}var YC=v1(1,"add"),HC=v1(-1,"subtract");function x1(e){return typeof e=="string"||e instanceof String}function BC(e){return Pn(e)||Al(e)||x1(e)||vs(e)||GC(e)||VC(e)||e===null||e===void 0}function VC(e){var t=Na(e)&&!_h(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,o=n.length;for(s=0;s<o;s+=1)a=n[s],r=r||Ue(e,a);return t&&r}function GC(e){var t=En(e),r=!1;return t&&(r=e.filter(function(n){return!vs(n)&&x1(e)}).length===0),t&&r}function qC(e){var t=Na(e)&&!_h(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||Ue(e,a);return t&&r}function KC(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function QC(e,t){arguments.length===1&&(arguments[0]?BC(arguments[0])?(e=arguments[0],t=void 0):qC(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||nt(),n=Uh(r,this).startOf("day"),s=q.calendarFormat(this,n)||"sameElse",a=t&&(qn(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,nt(r)))}function XC(){return new Ol(this)}function ZC(e,t){var r=Pn(e)?e:nt(e);return this.isValid()&&r.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function JC(e,t){var r=Pn(e)?e:nt(e);return this.isValid()&&r.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function eE(e,t,r,n){var s=Pn(e)?e:nt(e),a=Pn(t)?t:nt(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function tE(e,t){var r=Pn(e)?e:nt(e),n;return this.isValid()&&r.isValid()?(t=dn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function rE(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function nE(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function sE(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=Uh(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=dn(t),t){case"year":a=Qc(this,n)/12;break;case"month":a=Qc(this,n);break;case"quarter":a=Qc(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:Jr(a)}function Qc(e,t){if(e.date()<t.date())return-Qc(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function aE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function iE(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?qc(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):qn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qc(r,"Z")):qc(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function oE(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function lE(e){e||(e=this.isUtc()?q.defaultFormatUtc:q.defaultFormat);var t=qc(this,e);return this.localeData().postformat(t)}function cE(e,t){return this.isValid()&&(Pn(e)&&e.isValid()||nt(e).isValid())?$n({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function uE(e){return this.from(nt(),e)}function dE(e,t){return this.isValid()&&(Pn(e)&&e.isValid()||nt(e).isValid())?$n({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fE(e){return this.to(nt(),e)}function b1(e){var t;return e===void 0?this._locale._abbr:(t=ws(e),t!=null&&(this._locale=t),this)}var w1=un("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function N1(){return this._locale}var Ou=1e3,ji=60*Ou,Mu=60*ji,_1=(365*400+97)*24*Mu;function ki(e,t){return(e%t+t)%t}function S1(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-_1:new Date(e,t,r).valueOf()}function j1(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-_1:Date.UTC(e,t,r)}function mE(e){var t,r;if(e=dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?j1:S1,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ki(t+(this._isUTC?0:this.utcOffset()*ji),Mu);break;case"minute":t=this._d.valueOf(),t-=ki(t,ji);break;case"second":t=this._d.valueOf(),t-=ki(t,Ou);break}return this._d.setTime(t),q.updateOffset(this,!0),this}function pE(e){var t,r;if(e=dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?j1:S1,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Mu-ki(t+(this._isUTC?0:this.utcOffset()*ji),Mu)-1;break;case"minute":t=this._d.valueOf(),t+=ji-ki(t,ji)-1;break;case"second":t=this._d.valueOf(),t+=Ou-ki(t,Ou)-1;break}return this._d.setTime(t),q.updateOffset(this,!0),this}function hE(){return this._d.valueOf()-(this._offset||0)*6e4}function gE(){return Math.floor(this.valueOf()/1e3)}function vE(){return new Date(this.valueOf())}function yE(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xE(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bE(){return this.isValid()?this.toISOString():null}function wE(){return Sh(this)}function NE(){return Is({},ke(this))}function _E(){return ke(this).overflow}function SE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ge("N",0,0,"eraAbbr");ge("NN",0,0,"eraAbbr");ge("NNN",0,0,"eraAbbr");ge("NNNN",0,0,"eraName");ge("NNNNN",0,0,"eraNarrow");ge("y",["y",1],"yo","eraYear");ge("y",["yy",2],0,"eraYear");ge("y",["yyy",3],0,"eraYear");ge("y",["yyyy",4],0,"eraYear");ce("N",Wh);ce("NN",Wh);ce("NNN",Wh);ce("NNNN",DE);ce("NNNNN",LE);Ge(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?ke(r).era=s:ke(r).invalidEra=e});ce("y",Ki);ce("yy",Ki);ce("yyy",Ki);ce("yyyy",Ki);ce("yo",RE);Ge(["y","yy","yyy","yyyy"],rr);Ge(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[rr]=r._locale.eraYearOrdinalParse(e,s):t[rr]=parseInt(e,10)});function jE(e,t){var r,n,s,a=this._eras||ws("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=q(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=q(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function kE(e,t,r){var n,s,a=this.eras(),o,c,l;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(o=a[n].name.toUpperCase(),c=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(c===e)return a[n];break;case"NNNN":if(o===e)return a[n];break;case"NNNNN":if(l===e)return a[n];break}else if([o,c,l].indexOf(e)>=0)return a[n]}function CE(e,t){var r=e.since<=e.until?1:-1;return t===void 0?q(e.since).year():q(e.since).year()+(t-e.offset)*r}function EE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function PE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function TE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function $E(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-q(s[e].since).year())*r+s[e].offset;return this.year()}function AE(e){return Ue(this,"_erasNameRegex")||Yh.call(this),e?this._erasNameRegex:this._erasRegex}function OE(e){return Ue(this,"_erasAbbrRegex")||Yh.call(this),e?this._erasAbbrRegex:this._erasRegex}function ME(e){return Ue(this,"_erasNarrowRegex")||Yh.call(this),e?this._erasNarrowRegex:this._erasRegex}function Wh(e,t){return t.erasAbbrRegex(e)}function DE(e,t){return t.erasNameRegex(e)}function LE(e,t){return t.erasNarrowRegex(e)}function RE(e,t){return t._eraYearOrdinalRegex||Ki}function Yh(){var e=[],t=[],r=[],n=[],s,a,o,c,l,u=this.eras();for(s=0,a=u.length;s<a;++s)o=ds(u[s].name),c=ds(u[s].abbr),l=ds(u[s].narrow),t.push(o),e.push(c),r.push(l),n.push(o),n.push(c),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ge(0,["gg",2],0,function(){return this.weekYear()%100});ge(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wd(e,t){ge(0,[e,e.length],0,t)}wd("gggg","weekYear");wd("ggggg","weekYear");wd("GGGG","isoWeekYear");wd("GGGGG","isoWeekYear");ce("G",gd);ce("g",gd);ce("GG",st,Gr);ce("gg",st,Gr);ce("GGGG",Th,Ph);ce("gggg",Th,Ph);ce("GGGGG",hd,md);ce("ggggg",hd,md);Dl(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=De(e)});Dl(["gg","GG"],function(e,t,r,n){t[n]=q.parseTwoDigitYear(e)});function IE(e){return k1.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function FE(e){return k1.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zE(){return fs(this.year(),1,4)}function UE(){return fs(this.isoWeekYear(),1,4)}function WE(){var e=this.localeData()._week;return fs(this.year(),e.dow,e.doy)}function YE(){var e=this.localeData()._week;return fs(this.weekYear(),e.dow,e.doy)}function k1(e,t,r,n,s){var a;return e==null?ul(this,n,s).year:(a=fs(e,n,s),t>a&&(t=a),HE.call(this,e,t,r,n,s))}function HE(e,t,r,n,s){var a=a1(e,t,r,n,s),o=cl(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ge("Q",0,"Qo","quarter");ce("Q",qw);Ge("Q",function(e,t){t[os]=(De(e)-1)*3});function BE(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ge("D",["DD",2],"Do","date");ce("D",st,Qi);ce("DD",st,Gr);ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ge(["D","DD"],Fn);Ge("Do",function(e,t){t[Fn]=De(e.match(st)[0])});var C1=Xi("Date",!0);ge("DDD",["DDDD",3],"DDDo","dayOfYear");ce("DDD",pd);ce("DDDD",Kw);Ge(["DDD","DDDD"],function(e,t,r){r._dayOfYear=De(e)});function VE(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ge("m",["mm",2],0,"minute");ce("m",st,$h);ce("mm",st,Gr);Ge(["m","mm"],Sn);var GE=Xi("Minutes",!1);ge("s",["ss",2],0,"second");ce("s",st,$h);ce("ss",st,Gr);Ge(["s","ss"],ls);var qE=Xi("Seconds",!1);ge("S",0,0,function(){return~~(this.millisecond()/100)});ge(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ge(0,["SSS",3],0,"millisecond");ge(0,["SSSS",4],0,function(){return this.millisecond()*10});ge(0,["SSSSS",5],0,function(){return this.millisecond()*100});ge(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ge(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ge(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ge(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ce("S",pd,qw);ce("SS",pd,Gr);ce("SSS",pd,Kw);var Fs,E1;for(Fs="SSSS";Fs.length<=9;Fs+="S")ce(Fs,Ki);function KE(e,t){t[xa]=De(("0."+e)*1e3)}for(Fs="S";Fs.length<=9;Fs+="S")Ge(Fs,KE);E1=Xi("Milliseconds",!1);ge("z",0,0,"zoneAbbr");ge("zz",0,0,"zoneName");function QE(){return this._isUTC?"UTC":""}function XE(){return this._isUTC?"Coordinated Universal Time":""}var ne=Ol.prototype;ne.add=YC;ne.calendar=QC;ne.clone=XC;ne.diff=sE;ne.endOf=pE;ne.format=lE;ne.from=cE;ne.fromNow=uE;ne.to=dE;ne.toNow=fE;ne.get=ok;ne.invalidAt=_E;ne.isAfter=ZC;ne.isBefore=JC;ne.isBetween=eE;ne.isSame=tE;ne.isSameOrAfter=rE;ne.isSameOrBefore=nE;ne.isValid=wE;ne.lang=w1;ne.locale=b1;ne.localeData=N1;ne.max=wC;ne.min=bC;ne.parsingFlags=NE;ne.set=lk;ne.startOf=mE;ne.subtract=HC;ne.toArray=yE;ne.toObject=xE;ne.toDate=vE;ne.toISOString=iE;ne.inspect=oE;typeof Symbol<"u"&&Symbol.for!=null&&(ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ne.toJSON=bE;ne.toString=aE;ne.unix=gE;ne.valueOf=hE;ne.creationData=SE;ne.eraName=EE;ne.eraNarrow=PE;ne.eraAbbr=TE;ne.eraYear=$E;ne.year=Zw;ne.isLeapYear=ik;ne.weekYear=IE;ne.isoWeekYear=FE;ne.quarter=ne.quarters=BE;ne.month=n1;ne.daysInMonth=vk;ne.week=ne.weeks=jk;ne.isoWeek=ne.isoWeeks=kk;ne.weeksInYear=WE;ne.weeksInWeekYear=YE;ne.isoWeeksInYear=zE;ne.isoWeeksInISOWeekYear=UE;ne.date=C1;ne.day=ne.days=Fk;ne.weekday=zk;ne.isoWeekday=Uk;ne.dayOfYear=VE;ne.hour=ne.hours=qk;ne.minute=ne.minutes=GE;ne.second=ne.seconds=qE;ne.millisecond=ne.milliseconds=E1;ne.utcOffset=TC;ne.utc=AC;ne.local=OC;ne.parseZone=MC;ne.hasAlignedHourOffset=DC;ne.isDST=LC;ne.isLocal=IC;ne.isUtcOffset=FC;ne.isUtc=g1;ne.isUTC=g1;ne.zoneAbbr=QE;ne.zoneName=XE;ne.dates=un("dates accessor is deprecated. Use date instead.",C1);ne.months=un("months accessor is deprecated. Use month instead",n1);ne.years=un("years accessor is deprecated. Use year instead",Zw);ne.zone=un("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$C);ne.isDSTShifted=un("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",RC);function ZE(e){return nt(e*1e3)}function JE(){return nt.apply(null,arguments).parseZone()}function P1(e){return e}var We=kh.prototype;We.calendar=I2;We.longDateFormat=W2;We.invalidDate=H2;We.ordinal=G2;We.preparse=P1;We.postformat=P1;We.relativeTime=K2;We.pastFuture=Q2;We.set=L2;We.eras=jE;We.erasParse=kE;We.erasConvertYear=CE;We.erasAbbrRegex=OE;We.erasNameRegex=AE;We.erasNarrowRegex=ME;We.months=mk;We.monthsShort=pk;We.monthsParse=gk;We.monthsRegex=xk;We.monthsShortRegex=yk;We.week=wk;We.firstDayOfYear=Sk;We.firstDayOfWeek=_k;We.weekdays=Mk;We.weekdaysMin=Lk;We.weekdaysShort=Dk;We.weekdaysParse=Ik;We.weekdaysRegex=Wk;We.weekdaysShortRegex=Yk;We.weekdaysMinRegex=Hk;We.isPM=Vk;We.meridiem=Kk;function Du(e,t,r,n){var s=ws(),a=Gn().set(n,t);return s[r](a,e)}function T1(e,t,r){if(vs(e)&&(t=e,e=void 0),e=e||"",t!=null)return Du(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Du(e,n,r,"month");return s}function Hh(e,t,r,n){typeof e=="boolean"?(vs(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,vs(t)&&(r=t,t=void 0),t=t||"");var s=ws(),a=e?s._week.dow:0,o,c=[];if(r!=null)return Du(t,(r+a)%7,n,"day");for(o=0;o<7;o++)c[o]=Du(t,(o+a)%7,n,"day");return c}function eP(e,t){return T1(e,t,"months")}function tP(e,t){return T1(e,t,"monthsShort")}function rP(e,t,r){return Hh(e,t,r,"weekdays")}function nP(e,t,r){return Hh(e,t,r,"weekdaysShort")}function sP(e,t,r){return Hh(e,t,r,"weekdaysMin")}qs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=De(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});q.lang=un("moment.lang is deprecated. Use moment.locale instead.",qs);q.langData=un("moment.langData is deprecated. Use moment.localeData instead.",ws);var es=Math.abs;function aP(){var e=this._data;return this._milliseconds=es(this._milliseconds),this._days=es(this._days),this._months=es(this._months),e.milliseconds=es(e.milliseconds),e.seconds=es(e.seconds),e.minutes=es(e.minutes),e.hours=es(e.hours),e.months=es(e.months),e.years=es(e.years),this}function $1(e,t,r,n){var s=$n(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function iP(e,t){return $1(this,e,t,1)}function oP(e,t){return $1(this,e,t,-1)}function py(e){return e<0?Math.floor(e):Math.ceil(e)}function lP(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,o,c,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=py(Jm(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=Jr(e/1e3),n.seconds=s%60,a=Jr(s/60),n.minutes=a%60,o=Jr(a/60),n.hours=o%24,t+=Jr(o/24),l=Jr(A1(t)),r+=l,t-=py(Jm(l)),c=Jr(r/12),r%=12,n.days=t,n.months=r,n.years=c,this}function A1(e){return e*4800/146097}function Jm(e){return e*146097/4800}function cP(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=dn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+A1(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Jm(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Ns(e){return function(){return this.as(e)}}var O1=Ns("ms"),uP=Ns("s"),dP=Ns("m"),fP=Ns("h"),mP=Ns("d"),pP=Ns("w"),hP=Ns("M"),gP=Ns("Q"),vP=Ns("y"),yP=O1;function xP(){return $n(this)}function bP(e){return e=dn(e),this.isValid()?this[e+"s"]():NaN}function Fa(e){return function(){return this.isValid()?this._data[e]:NaN}}var wP=Fa("milliseconds"),NP=Fa("seconds"),_P=Fa("minutes"),SP=Fa("hours"),jP=Fa("days"),kP=Fa("months"),CP=Fa("years");function EP(){return Jr(this.days()/7)}var ns=Math.round,gi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function PP(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function TP(e,t,r,n){var s=$n(e).abs(),a=ns(s.as("s")),o=ns(s.as("m")),c=ns(s.as("h")),l=ns(s.as("d")),u=ns(s.as("M")),d=ns(s.as("w")),m=ns(s.as("y")),f=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||c<=1&&["h"]||c<r.h&&["hh",c]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(f=f||d<=1&&["w"]||d<r.w&&["ww",d]),f=f||u<=1&&["M"]||u<r.M&&["MM",u]||m<=1&&["y"]||["yy",m],f[2]=t,f[3]=+e>0,f[4]=n,PP.apply(null,f)}function $P(e){return e===void 0?ns:typeof e=="function"?(ns=e,!0):!1}function AP(e,t){return gi[e]===void 0?!1:t===void 0?gi[e]:(gi[e]=t,e==="s"&&(gi.ss=t-1),!0)}function OP(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=gi,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},gi,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=TP(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var Tf=Math.abs;function ei(e){return(e>0)-(e<0)||+e}function Nd(){if(!this.isValid())return this.localeData().invalidDate();var e=Tf(this._milliseconds)/1e3,t=Tf(this._days),r=Tf(this._months),n,s,a,o,c=this.asSeconds(),l,u,d,m;return c?(n=Jr(e/60),s=Jr(n/60),e%=60,n%=60,a=Jr(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",u=ei(this._months)!==ei(c)?"-":"",d=ei(this._days)!==ei(c)?"-":"",m=ei(this._milliseconds)!==ei(c)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?m+s+"H":"")+(n?m+n+"M":"")+(e?m+o+"S":"")):"P0D"}var Le=bd.prototype;Le.isValid=kC;Le.abs=aP;Le.add=iP;Le.subtract=oP;Le.as=cP;Le.asMilliseconds=O1;Le.asSeconds=uP;Le.asMinutes=dP;Le.asHours=fP;Le.asDays=mP;Le.asWeeks=pP;Le.asMonths=hP;Le.asQuarters=gP;Le.asYears=vP;Le.valueOf=yP;Le._bubble=lP;Le.clone=xP;Le.get=bP;Le.milliseconds=wP;Le.seconds=NP;Le.minutes=_P;Le.hours=SP;Le.days=jP;Le.weeks=EP;Le.months=kP;Le.years=CP;Le.humanize=OP;Le.toISOString=Nd;Le.toString=Nd;Le.toJSON=Nd;Le.locale=b1;Le.localeData=N1;Le.toIsoString=un("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nd);Le.lang=w1;ge("X",0,0,"unix");ge("x",0,0,"valueOf");ce("x",gd);ce("X",ek);Ge("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Ge("x",function(e,t,r){r._d=new Date(De(e))});//! moment.js
q.version="2.30.1";M2(nt);q.fn=ne;q.min=NC;q.max=_C;q.now=SC;q.utc=Gn;q.unix=ZE;q.months=eP;q.isDate=Al;q.locale=qs;q.invalid=fd;q.duration=$n;q.isMoment=Pn;q.weekdays=rP;q.parseZone=JE;q.localeData=ws;q.isDuration=Kc;q.monthsShort=tP;q.weekdaysMin=sP;q.defineLocale=Lh;q.updateLocale=Jk;q.locales=eC;q.weekdaysShort=nP;q.normalizeUnits=dn;q.relativeTimeRounding=$P;q.relativeTimeThreshold=AP;q.calendarFormat=KC;q.prototype=ne;q.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var MP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LP=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:c,...l},u)=>b.createElement("svg",{ref:u,...MP,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:`lucide lucide-${DP(e)}`,...l},[...t.map(([d,m])=>b.createElement(d,m)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${e}`,r};var Se=LP;const M1=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),RP=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),IP=Se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),FP=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),zP=Se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),D1=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),UP=Se("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Di=Se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ep=Se("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),WP=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),L1=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),YP=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),HP=Se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Lu=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),BP=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),VP=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),GP=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),qP=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),hy=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Li=Se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),R1=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$f=Se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),KP=Se("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ru=Se("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),QP=Se("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),XP=Se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),gy=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),I1=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ks=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ZP=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),JP=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vy=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eT=Se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),yy=Se("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),F1=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Af=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),tT=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),rT=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),nT=Se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),tp=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vi=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),z1=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bh="access_token",Vh="refresh_token",Ec=new Map,Ri=typeof window<"u"&&(window!=null&&window.localStorage)?window.localStorage:{getItem:e=>Ec.has(e)?Ec.get(e):null,setItem:(e,t)=>{Ec.set(e,t)},removeItem:e=>{Ec.delete(e)}},rp=async(e,t)=>{e&&Ri.setItem(Bh,e),t&&Ri.setItem(Vh,t)},_d=async()=>Ri.getItem(Bh),sT=async()=>Ri.getItem(Vh),Wo=async()=>{Ri.removeItem(Bh),Ri.removeItem(Vh)},aT={};var Of={};const iT=()=>{const e=typeof import.meta<"u"&&aT?"https://ttp-api.codemymobile.com/api":"",t=typeof process<"u"&&Of?Of.VITE_API_BASE_URL||Of.VITE_API_URL:"",r=e||t||"";return r?r.endsWith("/")?r.slice(0,-1):r:""},xy=iT(),oT=e=>{if(!e)throw new Error("A path must be provided when making a service request.");return xy?`${xy}${e.startsWith("/")?"":"/"}${e}`:e.startsWith("/")?e:`/${e}`},by=async e=>{const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}},wy=e=>{if(!e)return e;const t=String(e).trim();return/^\d{2}:\d{2}$/.test(t)?`${t}:00`:t},lT=(e={})=>{var a,o;const t=e.day||e.dayOfWeek,r=e.date;let n=t?String(t).toUpperCase():"";if(!n&&r){const c=new Date(r);Number.isNaN(c.getTime())||(n=c.toLocaleDateString("en-US",{weekday:"long"}).toUpperCase())}const s={from:wy(e.from||e.start||e.startTime),to:wy(e.to||e.end||e.endTime||e.finish),day:n,location_id:e.location_id??e.locationId??((a=e.location)==null?void 0:a.id)??((o=e.location)==null?void 0:o.location_id),court:e.court??e.courtId??e.court_id??null};return Object.keys(s).forEach(c=>{(s[c]===void 0||s[c]==="")&&delete s[c]}),s},Tt=async(e,t={})=>{const{headers:r={},body:n,method:s="GET",authType:a="bearer",...o}=t,c=await _d(),l=typeof FormData<"u"&&n instanceof FormData,u=n&&typeof n=="object"&&!l&&!(n instanceof ArrayBuffer)?JSON.stringify(n):n,d={...u&&!l?{"Content-Type":"application/json"}:{},...r};c&&!("Authorization"in d)&&!("authorization"in d)&&(d.Authorization=a==="token"?`token ${c}`:`Bearer ${c}`);const m=await fetch(oT(e),{method:s,body:u,headers:d,...o});if(!m.ok){const f=await by(m),y=(f==null?void 0:f.message)||(f==null?void 0:f.error)||m.statusText||"An unknown error occurred while communicating with the server.",v=new Error(y);throw v.status=m.status,v.body=f,v}return m.status===204?null:by(m)},cT=({perPage:e,page:t,search:r}={})=>{const n=new URLSearchParams;typeof e=="number"&&n.set("perPage",String(e)),typeof t=="number"&&n.set("page",String(t)),r&&n.set("search",r);const s=n.toString(),a=s?`/coach/players?${s}`:"/coach/players";return Tt(a)},uT=({playerId:e}={})=>{if(!e)throw new Error("A player id is required to fetch player details.");return Tt(`/coach/players/${e}`)},Xc=({perPage:e=50,page:t=1,date:r}={})=>{if(r)return Tt(`/coach/lessons/${r}`);const n=new URLSearchParams;typeof e=="number"&&n.set("perPage",String(e)),typeof t=="number"&&n.set("page",String(t));const s=n.toString(),a=s?`/coach/lessons?${s}`:"/coach/lessons";return Tt(a)},dT=({playerId:e,perPage:t,page:r}={})=>{if(!e)throw new Error("A player id is required to fetch previous lessons.");const n=new URLSearchParams;typeof t=="number"&&n.set("perPage",String(t)),typeof r=="number"&&n.set("page",String(r));const s=n.toString(),a=s?`/coach/player_previous_lessons/${e}?${s}`:`/coach/player_previous_lessons/${e}`;return Tt(a)},fT=({playerId:e,player_id:t,search:r,perPage:n,page:s}={})=>{const a=new URLSearchParams,o=e??t;o!=null&&o!==""&&a.set("playerId",String(o)),r&&a.set("search",r),typeof n=="number"&&a.set("perPage",String(n)),typeof s=="number"&&a.set("page",String(s));const c=a.toString(),l=c?`/players/packages/active?${c}`:"/players/packages/active";return Tt(l)},mT=({playerId:e,player_id:t,purchaseId:r,purchase_id:n,lessonId:s,lesson_id:a,usageStatus:o,usage_status:c,search:l,perPage:u,page:d}={})=>{const m=new URLSearchParams,f=e??t,y=r??n,v=s??a,p=o??c;f!=null&&f!==""&&m.set("playerId",String(f)),y!=null&&y!==""&&m.set("purchaseId",String(y)),v!=null&&v!==""&&m.set("lessonId",String(v)),p&&m.set("usageStatus",String(p)),l&&m.set("search",String(l)),typeof u=="number"&&m.set("perPage",String(u)),typeof d=="number"&&m.set("page",String(d));const w=m.toString(),g=w?`/coach/players/packages/usage?${w}`:"/coach/players/packages/usage";return Tt(g)},pT=({playerId:e,status:t="PENDING",discountPercentage:r}={})=>{if(!e)throw new Error("A player id is required to update roster status.");const n={status:t};return typeof r=="number"&&(n.discount_percentage=r),Tt(`/coach/players/${e}`,{method:"PATCH",body:n})},hT=(e,t)=>{if(!e)throw new Error("A lesson id is required to update a lesson.");return Tt(`/coach/lesson/${e}`,{method:"PATCH",body:t})},gT=e=>{if(!e)return"lesson_request";const t=String(e).toLowerCase();return t==="lesson"?"lesson_request":t==="roster"?"roster_request":t},vT=e=>{if(!e||typeof e!="string")return"";let t=e.trim();if(!t)return"";if(/^https?:\/\//i.test(t))try{t=new URL(t).pathname||""}catch{return""}return t.startsWith("/")||(t=`/${t}`),t.startsWith("/api/")?t.slice(4):t},U1=({perPage:e=20,page:t=1}={})=>{const r=new URLSearchParams;typeof e=="number"&&r.set("perPage",String(e)),typeof t=="number"&&r.set("page",String(t));const n=r.toString(),s=n?`/coach/requests?${n}`:"/coach/requests";return Tt(s)},W1=({requestType:e,requestId:t,endpoint:r,action:n,status:s}={})=>{if(!t)throw new Error("A request id is required to update a coach request.");const a=gT(e),c=vT(r)||`/coach/requests/${a}/${t}`;if(!n&&!s)throw new Error("Either action or status is required to update a coach request.");return Tt(c,{method:"PATCH",body:n?{action:n}:{status:s}})},yT=()=>Tt("/coach/player-groups"),xT=(e={})=>Tt("/coach/player-groups",{method:"POST",body:e}),bT=(e,t={})=>{if(!e)throw new Error("A group id is required to update a player group.");return Tt(`/coach/player-groups/${e}`,{method:"PATCH",body:t})},wT=e=>{if(!e)throw new Error("A group id is required to delete a player group.");return Tt(`/coach/player-groups/${e}`,{method:"DELETE"})},NT=()=>Tt("/coach/schedule"),_T=e=>Tt("/coach/schedule",{method:"POST",body:lT(e)}),ST=()=>Tt("/coach/stats"),jT=({timeMin:e,timeMax:t}={})=>{const r=new URLSearchParams;e&&r.set("timeMin",e),t&&r.set("timeMax",t);const n=r.toString(),s=n?`/coach/google-calendar/synced-events?${n}`:"/coach/google-calendar/synced-events";return Tt(s)},kT=(e,t={})=>{if(!e)throw new Error("A lesson id is required to send invites.");return Tt(`/coach/lessons/${e}/invites`,{method:"POST",authType:"token",body:t})},CT=({stats:e})=>i.jsxs("div",{className:"border-b bg-white stats-summary",children:[i.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 stats-summary-desktop",children:i.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-4",children:[i.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[i.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:i.jsx(Di,{className:"h-4 w-4 text-blue-600 md:h-5 md:w-5"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Today"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.todayLessons})]})]}),i.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[i.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:i.jsx(Lu,{className:"h-4 w-4 text-green-600 md:h-5 md:w-5"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"}),i.jsxs("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:["$",e.weekRevenue]})]})]}),i.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[i.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:i.jsx(vi,{className:"h-4 w-4 text-purple-600 md:h-5 md:w-5"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Students"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.activeStudents})]})]}),i.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[i.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:i.jsx(tT,{className:"h-4 w-4 text-orange-600 md:h-5 md:w-5"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Upcoming"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.upcomingLessons})]})]})]})}),i.jsx("div",{className:"stats-summary-mobile",children:i.jsxs("div",{className:"stats-summary-mobile-row",children:[i.jsxs("div",{className:"stats-summary-mobile-item",children:[i.jsx("span",{className:"stats-summary-mobile-value",children:e.todayLessons}),i.jsx("span",{className:"stats-summary-mobile-label",children:"Today"})]}),i.jsx("div",{className:"stats-summary-mobile-divider"}),i.jsxs("div",{className:"stats-summary-mobile-item",children:[i.jsxs("span",{className:"stats-summary-mobile-value",children:["$",e.weekRevenue]}),i.jsx("span",{className:"stats-summary-mobile-label",children:"This Week"})]}),i.jsx("div",{className:"stats-summary-mobile-divider"}),i.jsxs("div",{className:"stats-summary-mobile-item",children:[i.jsx("span",{className:"stats-summary-mobile-value",children:e.activeStudents}),i.jsx("span",{className:"stats-summary-mobile-label",children:"Students"})]}),i.jsx("div",{className:"stats-summary-mobile-divider"}),i.jsxs("div",{className:"stats-summary-mobile-item",children:[i.jsx("span",{className:"stats-summary-mobile-value",children:e.upcomingLessons}),i.jsx("span",{className:"stats-summary-mobile-label",children:"Upcoming"})]})]})})]});function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function ET(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1(e){var t=ET(e,"string");return ys(t)=="symbol"?t:t+""}function ha(e,t,r){return(t=Y1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ny(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ny(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ny(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sd(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vn(e,t){if(e==null)return{};var r,n,s=Sd(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y1(n.key),n)}}function Lt(e,t,r){return t&&_y(e.prototype,t),r&&_y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(e)}function H1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H1=function(){return!!e})()}function PT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(e,t){if(t&&(ys(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PT(e)}function sr(e,t,r){return t=Iu(t),TT(e,H1()?Reflect.construct(t,r||[],Iu(e).constructor):t.apply(e,r))}function Fu(e,t){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Fu(e,t)}function ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fu(e,t)}function B1(e){if(Array.isArray(e))return e}function $T(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Gh(e,t){if(e){if(typeof e=="string")return np(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?np(e,t):void 0}}function V1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(e,t){return B1(e)||$T(e,t)||Gh(e,t)||V1()}function G1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=G1(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function xt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=G1(e))&&(n&&(n+=" "),n+=t);return n}function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yt.apply(null,arguments)}var AT=function(e,t,r,n,s,a,o,c){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,o,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},OT=AT;const fl=pr(OT);var MT=function(){};function DT(e,t){var r={};return Object.keys(e).forEach(function(n){r[Zc(n)]=MT}),r}function Sy(e,t){return e[t]!==void 0}function Zc(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function LT(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function RT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fu(e,t)}function q1(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function K1(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function Q1(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}q1.__suppressDeprecationWarning=!0;K1.__suppressDeprecationWarning=!0;Q1.__suppressDeprecationWarning=!0;function IT(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=q1,t.componentWillReceiveProps=K1),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Q1;var c=t.componentDidUpdate;t.componentDidUpdate=function(u,d,m){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;c.call(this,u,d,f)}}return e}var FT="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function X1(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=LT(e),a=Object.keys(t),o=a.map(Zc);s||!r.length||fl(!1);var c=function(u){RT(d,u);function d(){for(var f,y=arguments.length,v=new Array(y),p=0;p<y;p++)v[p]=arguments[p];f=u.call.apply(u,[this].concat(v))||this,f.handlers=Object.create(null),a.forEach(function(g){var h=t[g],x=function(_){if(f.props[h]){var P;f._notifying=!0;for(var E=arguments.length,S=new Array(E>1?E-1:0),j=1;j<E;j++)S[j-1]=arguments[j];(P=f.props)[h].apply(P,[_].concat(S)),f._notifying=!1}f.unmounted||f.setState(function(M){var F,Q=M.values;return{values:yt(Object.create(null),Q,(F={},F[g]=_,F))}})};f.handlers[h]=x}),r.length&&(f.attachRef=function(g){f.inner=g});var w=Object.create(null);return a.forEach(function(g){w[g]=f.props[Zc(g)]}),f.state={values:w,prevProps:{}},f}var m=d.prototype;return m.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(y,v){var p=v.values,w=v.prevProps,g={values:yt(Object.create(null),p),prevProps:{}};return a.forEach(function(h){g.prevProps[h]=y[h],!Sy(y,h)&&Sy(w,h)&&(g.values[h]=y[Zc(h)])}),g},m.componentWillUnmount=function(){this.unmounted=!0},m.render=function(){var y=this,v=this.props,p=v.innerRef,w=Sd(v,["innerRef"]);o.forEach(function(h){delete w[h]});var g={};return a.forEach(function(h){var x=y.props[h];g[h]=x!==void 0?x:y.state.values[h]}),R.createElement(e,yt({},w,g,this.handlers,{ref:p||this.attachRef}))},d}(R.Component);IT(c),c.displayName="Uncontrolled("+n+")",c.propTypes=yt({innerRef:function(){}},DT(t)),r.forEach(function(u){c.prototype[u]=function(){var m;return(m=this.inner)[u].apply(m,arguments)}});var l=c;return R.forwardRef&&(l=R.forwardRef(function(u,d){return R.createElement(c,yt({},u,{innerRef:d,__source:{fileName:FT,lineNumber:128},__self:this}))}),l.propTypes=c.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,m){return d===void 0&&(d={}),X1(u,yt({},t,d),m)},l}var Z1={exports:{}},zT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UT=zT,WT=UT;function J1(){}function eN(){}eN.resetWarningCache=J1;var YT=function(){function e(n,s,a,o,c,l){if(l!==WT){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eN,resetWarningCache:J1};return r.PropTypes=r,r};Z1.exports=YT();var tN=Z1.exports;const ie=pr(tN);var zu="milliseconds",ml="seconds",pl="minutes",hl="hours",Ta="day",Ii="week",gl="month",$a="year",Aa="decade",Oa="century",rN={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},HT={month:1,year:12,decade:10*12,century:100*12};function BT(e){return[31,VT(e),31,30,31,30,31,31,30,31,30,31]}function VT(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Tn(e,t,r){switch(e=new Date(e),r){case zu:case ml:case pl:case hl:case Ta:case Ii:return GT(e,t*rN[r]);case gl:case $a:case Aa:case Oa:return qT(e,t*HT[r])}throw new TypeError('Invalid units: "'+r+'"')}function GT(e,t){var r=new Date(+e+t);return KT(e,r)}function qT(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,o=Math.trunc(a/12),c=a%12,l=Math.min(s,BT(o)[c]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(c),u.setDate(l),u}function KT(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*rN.minutes)}function vl(e,t,r){return Tn(e,-t,r)}function Xt(e,t,r){switch(e=new Date(e),t){case Oa:case Aa:case $a:e=Wu(e,0);case gl:e=oN(e,1);case Ii:case Ta:e=bl(e,0);case hl:e=Fi(e,0);case pl:e=xl(e,0);case ml:e=yl(e,0)}return t===Aa&&(e=vl(e,Ma(e)%10,"year")),t===Oa&&(e=vl(e,Ma(e)%100,"year")),t===Ii&&(e=lN(e,0,r)),e}function Uu(e,t,r){switch(e=new Date(e),e=Xt(e,t,r),t){case Oa:case Aa:case $a:case gl:case Ii:e=Tn(e,1,t),e=vl(e,1,Ta),e.setHours(23,59,59,999);break;case Ta:e.setHours(23,59,59,999);break;case hl:case pl:case ml:e=Tn(e,1,t),e=vl(e,1,zu)}return e}var Ll=Ji(function(e,t){return e===t}),qh=Ji(function(e,t){return e!==t}),jd=Ji(function(e,t){return e>t}),Rl=Ji(function(e,t){return e>=t}),Kh=Ji(function(e,t){return e<t}),Zi=Ji(function(e,t){return e<=t});function nN(){return new Date(Math.min.apply(Math,arguments))}function sN(){return new Date(Math.max.apply(Math,arguments))}function aN(e,t,r,n){return n=n||"day",(!t||Rl(e,t,n))&&(!r||Zi(e,r,n))}var yl=na("Milliseconds"),xl=na("Seconds"),Fi=na("Minutes"),bl=na("Hours"),iN=na("Day"),oN=na("Date"),Wu=na("Month"),Ma=na("FullYear");function QT(e,t){return t===void 0?Ma(Xt(e,Aa)):Tn(e,t+10,$a)}function XT(e,t){return t===void 0?Ma(Xt(e,Oa)):Tn(e,t+100,$a)}function lN(e,t,r){var n=(iN(e)+7-(r||0))%7;return t===void 0?n:Tn(e,t-n,Ta)}function ZT(e,t,r,n){var s,a,o;switch(r){case zu:case ml:case pl:case hl:case Ta:case Ii:s=t.getTime()-e.getTime();break;case gl:case $a:case Aa:case Oa:s=(Ma(t)-Ma(e))*12+Wu(t)-Wu(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case zu:a=1;break;case ml:a=1e3;break;case pl:a=1e3*60;break;case hl:a=1e3*60*60;break;case Ta:a=1e3*60*60*24;break;case Ii:a=1e3*60*60*24*7;break;case gl:a=1;break;case $a:a=12;break;case Aa:a=120;break;case Oa:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=s/a,n?o:Math.round(o)}function na(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function Ji(e){return function(t,r,n){return e(+Xt(t,n),+Xt(r,n))}}const jy=Object.freeze(Object.defineProperty({__proto__:null,add:Tn,century:XT,date:oN,day:iN,decade:QT,diff:ZT,endOf:Uu,eq:Ll,gt:jd,gte:Rl,hours:bl,inRange:aN,lt:Kh,lte:Zi,max:sN,milliseconds:yl,min:nN,minutes:Fi,month:Wu,neq:qh,seconds:xl,startOf:Xt,subtract:vl,weekday:lN,year:Ma},Symbol.toStringTag,{value:"Module"}));function JT(e){if(Array.isArray(e))return np(e)}function cN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function e$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jc(e){return JT(e)||cN(e)||Gh(e)||e$()}function t$(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var uN=t$;function r$(e,t){return e===t||e!==e&&t!==t}var Il=r$,n$=typeof rn=="object"&&rn&&rn.Object===Object&&rn,dN=n$,s$=dN,a$=typeof self=="object"&&self&&self.Object===Object&&self,i$=s$||a$||Function("return this")(),Kn=i$,o$=Kn,l$=o$.Symbol,eo=l$,ky=eo,fN=Object.prototype,c$=fN.hasOwnProperty,u$=fN.toString,_o=ky?ky.toStringTag:void 0;function d$(e){var t=c$.call(e,_o),r=e[_o];try{e[_o]=void 0;var n=!0}catch{}var s=u$.call(e);return n&&(t?e[_o]=r:delete e[_o]),s}var f$=d$,m$=Object.prototype,p$=m$.toString;function h$(e){return p$.call(e)}var g$=h$,Cy=eo,v$=f$,y$=g$,x$="[object Null]",b$="[object Undefined]",Ey=Cy?Cy.toStringTag:void 0;function w$(e){return e==null?e===void 0?b$:x$:Ey&&Ey in Object(e)?v$(e):y$(e)}var to=w$;function N$(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _s=N$,_$=to,S$=_s,j$="[object AsyncFunction]",k$="[object Function]",C$="[object GeneratorFunction]",E$="[object Proxy]";function P$(e){if(!S$(e))return!1;var t=_$(e);return t==k$||t==C$||t==j$||t==E$}var Qh=P$,T$=9007199254740991;function $$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=T$}var Xh=$$,A$=Qh,O$=Xh;function M$(e){return e!=null&&O$(e.length)&&!A$(e)}var Fl=M$,D$=9007199254740991,L$=/^(?:0|[1-9]\d*)$/;function R$(e,t){var r=typeof e;return t=t??D$,!!t&&(r=="number"||r!="symbol"&&L$.test(e))&&e>-1&&e%1==0&&e<t}var Zh=R$,I$=Il,F$=Fl,z$=Zh,U$=_s;function W$(e,t,r){if(!U$(r))return!1;var n=typeof t;return(n=="number"?F$(r)&&z$(t,r.length):n=="string"&&t in r)?I$(r[t],e):!1}var kd=W$,Y$=/\s/;function H$(e){for(var t=e.length;t--&&Y$.test(e.charAt(t)););return t}var B$=H$,V$=B$,G$=/^\s+/;function q$(e){return e&&e.slice(0,V$(e)+1).replace(G$,"")}var K$=q$;function Q$(e){return e!=null&&typeof e=="object"}var sa=Q$,X$=to,Z$=sa,J$="[object Symbol]";function eA(e){return typeof e=="symbol"||Z$(e)&&X$(e)==J$}var zl=eA,tA=K$,Py=_s,rA=zl,Ty=NaN,nA=/^[-+]0x[0-9a-f]+$/i,sA=/^0b[01]+$/i,aA=/^0o[0-7]+$/i,iA=parseInt;function oA(e){if(typeof e=="number")return e;if(rA(e))return Ty;if(Py(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Py(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tA(e);var r=sA.test(e);return r||aA.test(e)?iA(e.slice(2),r?2:8):nA.test(e)?Ty:+e}var lA=oA,cA=lA,$y=1/0,uA=17976931348623157e292;function dA(e){if(!e)return e===0?e:0;if(e=cA(e),e===$y||e===-$y){var t=e<0?-1:1;return t*uA}return e===e?e:0}var mN=dA,fA=mN;function mA(e){var t=fA(e),r=t%1;return t===t?r?t-r:t:0}var pN=mA,pA=uN,hA=kd,gA=pN,vA=Math.ceil,yA=Math.max;function xA(e,t,r){(r?hA(e,t,r):t===void 0)?t=1:t=yA(gA(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,o=Array(vA(n/t));s<n;)o[a++]=pA(e,s,s+=t);return o}var bA=xA;const wA=pr(bA);function Ul(e){return e&&e.ownerDocument||document}function NA(e){var t=Ul(e);return t&&t.defaultView||window}function _A(e,t){return NA(e).getComputedStyle(e,t)}var SA=/([A-Z])/g;function jA(e){return e.replace(SA,"-$1").toLowerCase()}var kA=/^ms-/;function Pc(e){return jA(e).replace(kA,"-ms-")}var CA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EA(e){return!!(e&&CA.test(e))}function ni(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Pc(t))||_A(e).getPropertyValue(Pc(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(Pc(s)):EA(s)?n+=s+"("+a+") ":r+=Pc(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function wl(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function PA(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Jh(e){return"window"in e&&e.window===e?e:PA(e)&&e.defaultView||!1}function hN(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=Jh(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const gN=hN("pageXOffset"),vN=hN("pageYOffset");function _a(e){var t=Ul(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!wl(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+vN(n)-(n.clientTop||0),left:r.left+gN(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var TA=function(t){return!!t&&"offsetParent"in t};function $A(e){for(var t=Ul(e),r=e&&e.offsetParent;TA(r)&&r.nodeName!=="HTML"&&ni(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var AA=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function yN(e,t){var r={top:0,left:0},n;if(ni(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||$A(e);n=_a(e),AA(s)!=="html"&&(r=_a(s));var a=String(ni(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-vN(s)||0;var o=String(ni(s,"borderLeftWidth")||0);r.left+=parseInt(o,10)-gN(s)||0}var c=String(ni(e,"marginTop")||0),l=String(ni(e,"marginLeft")||0);return yt({},n,{top:n.top-r.top-(parseInt(c,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const eg=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ay=new Date().getTime();function OA(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Ay)),n=setTimeout(e,r);return Ay=t,n}var MA=["","webkit","moz","o","ms"],sp="clearTimeout",ap=OA,Oy=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};eg&&MA.some(function(e){var t=Oy(e,"request");return t in window&&(sp=Oy(e,"cancel"),ap=function(n){return window[t](n)}),!!ap});var My=function(t){typeof window[sp]=="function"&&window[sp](t)},xN=ap,Mf;function DA(e,t){if(!Mf){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Mf=function(a,o){return n.call(a,o)}}return Mf(e,t)}var LA=Function.prototype.bind.call(Function.prototype.call,[].slice);function RA(e,t){return LA(e.querySelectorAll(t))}var ip=!1,op=!1;try{var Df={get passive(){return ip=!0},get once(){return op=ip=!0}};eg&&(window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,!0))}catch{}function IA(e,t,r,n){if(n&&typeof n!="boolean"&&!op){var s=n.once,a=n.capture,o=r;!op&&s&&(o=r.__once||function c(l){this.removeEventListener(t,c,a),r.call(this,l)},r.__once=o),e.addEventListener(t,o,ip?n:a)}e.addEventListener(t,r,n)}function FA(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function Dy(e){const t=FA(e);return b.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Ly(){return b.useState(null)}function zA(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function UA(e){const t=zA();return[e[0],b.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Tr="top",ln="bottom",cn="right",$r="left",tg="auto",Wl=[Tr,ln,cn,$r],zi="start",Nl="end",WA="clippingParents",bN="viewport",So="popper",YA="reference",Ry=Wl.reduce(function(e,t){return e.concat([t+"-"+zi,t+"-"+Nl])},[]),rg=[].concat(Wl,[tg]).reduce(function(e,t){return e.concat([t,t+"-"+zi,t+"-"+Nl])},[]),HA="beforeRead",BA="read",VA="afterRead",GA="beforeMain",qA="main",KA="afterMain",QA="beforeWrite",XA="write",ZA="afterWrite",JA=[HA,BA,VA,GA,qA,KA,QA,XA,ZA];function Yn(e){return e.split("-")[0]}function Yr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Da(e){var t=Yr(e).Element;return e instanceof t||e instanceof Element}function Hn(e){var t=Yr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ng(e){if(typeof ShadowRoot>"u")return!1;var t=Yr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Sa=Math.max,Yu=Math.min,Ui=Math.round;function lp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wN(){return!/^((?!chrome|android).)*safari/i.test(lp())}function Wi(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&Hn(e)&&(s=e.offsetWidth>0&&Ui(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ui(n.height)/e.offsetHeight||1);var o=Da(e)?Yr(e):window,c=o.visualViewport,l=!wN()&&r,u=(n.left+(l&&c?c.offsetLeft:0))/s,d=(n.top+(l&&c?c.offsetTop:0))/a,m=n.width/s,f=n.height/a;return{width:m,height:f,top:d,right:u+m,bottom:d+f,left:u,x:u,y:d}}function sg(e){var t=Wi(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function NN(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&ng(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zs(e){return e?(e.nodeName||"").toLowerCase():null}function xs(e){return Yr(e).getComputedStyle(e)}function eO(e){return["table","td","th"].indexOf(Zs(e))>=0}function aa(e){return((Da(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cd(e){return Zs(e)==="html"?e:e.assignedSlot||e.parentNode||(ng(e)?e.host:null)||aa(e)}function Iy(e){return!Hn(e)||xs(e).position==="fixed"?null:e.offsetParent}function tO(e){var t=/firefox/i.test(lp()),r=/Trident/i.test(lp());if(r&&Hn(e)){var n=xs(e);if(n.position==="fixed")return null}var s=Cd(e);for(ng(s)&&(s=s.host);Hn(s)&&["html","body"].indexOf(Zs(s))<0;){var a=xs(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Yl(e){for(var t=Yr(e),r=Iy(e);r&&eO(r)&&xs(r).position==="static";)r=Iy(r);return r&&(Zs(r)==="html"||Zs(r)==="body"&&xs(r).position==="static")?t:r||tO(e)||t}function ag(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yo(e,t,r){return Sa(e,Yu(t,r))}function rO(e,t,r){var n=Yo(e,t,r);return n>r?r:n}function _N(){return{top:0,right:0,bottom:0,left:0}}function SN(e){return Object.assign({},_N(),e)}function jN(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var nO=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,SN(typeof t!="number"?t:jN(t,Wl))};function sO(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,c=Yn(r.placement),l=ag(c),u=[$r,cn].indexOf(c)>=0,d=u?"height":"width";if(!(!a||!o)){var m=nO(s.padding,r),f=sg(a),y=l==="y"?Tr:$r,v=l==="y"?ln:cn,p=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],w=o[l]-r.rects.reference[l],g=Yl(a),h=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,x=p/2-w/2,N=m[y],_=h-f[d]-m[v],P=h/2-f[d]/2+x,E=Yo(N,P,_),S=l;r.modifiersData[n]=(t={},t[S]=E,t.centerOffset=E-P,t)}}function aO(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||NN(t.elements.popper,s)&&(t.elements.arrow=s))}const iO={name:"arrow",enabled:!0,phase:"main",fn:sO,effect:aO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(e){return e.split("-")[1]}var oO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lO(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Ui(r*s)/s||0,y:Ui(n*s)/s||0}}function Fy(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,o=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,m=e.isFixed,f=o.x,y=f===void 0?0:f,v=o.y,p=v===void 0?0:v,w=typeof d=="function"?d({x:y,y:p}):{x:y,y:p};y=w.x,p=w.y;var g=o.hasOwnProperty("x"),h=o.hasOwnProperty("y"),x=$r,N=Tr,_=window;if(u){var P=Yl(r),E="clientHeight",S="clientWidth";if(P===Yr(r)&&(P=aa(r),xs(P).position!=="static"&&c==="absolute"&&(E="scrollHeight",S="scrollWidth")),P=P,s===Tr||(s===$r||s===cn)&&a===Nl){N=ln;var j=m&&P===_&&_.visualViewport?_.visualViewport.height:P[E];p-=j-n.height,p*=l?1:-1}if(s===$r||(s===Tr||s===ln)&&a===Nl){x=cn;var M=m&&P===_&&_.visualViewport?_.visualViewport.width:P[S];y-=M-n.width,y*=l?1:-1}}var F=Object.assign({position:c},u&&oO),Q=d===!0?lO({x:y,y:p},Yr(r)):{x:y,y:p};if(y=Q.x,p=Q.y,l){var B;return Object.assign({},F,(B={},B[N]=h?"0":"",B[x]=g?"0":"",B.transform=(_.devicePixelRatio||1)<=1?"translate("+y+"px, "+p+"px)":"translate3d("+y+"px, "+p+"px, 0)",B))}return Object.assign({},F,(t={},t[N]=h?p+"px":"",t[x]=g?y+"px":"",t.transform="",t))}function cO(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,c=r.roundOffsets,l=c===void 0?!0:c,u={placement:Yn(t.placement),variation:Yi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Fy(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fy(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const uO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cO,data:{}};var Tc={passive:!0};function dO(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,o=n.resize,c=o===void 0?!0:o,l=Yr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,Tc)}),c&&l.addEventListener("resize",r.update,Tc),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Tc)}),c&&l.removeEventListener("resize",r.update,Tc)}}const fO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dO,data:{}};var mO={left:"right",right:"left",bottom:"top",top:"bottom"};function eu(e){return e.replace(/left|right|bottom|top/g,function(t){return mO[t]})}var pO={start:"end",end:"start"};function zy(e){return e.replace(/start|end/g,function(t){return pO[t]})}function ig(e){var t=Yr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function og(e){return Wi(aa(e)).left+ig(e).scrollLeft}function hO(e,t){var r=Yr(e),n=aa(e),s=r.visualViewport,a=n.clientWidth,o=n.clientHeight,c=0,l=0;if(s){a=s.width,o=s.height;var u=wN();(u||!u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:a,height:o,x:c+og(e),y:l}}function gO(e){var t,r=aa(e),n=ig(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Sa(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Sa(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-n.scrollLeft+og(e),l=-n.scrollTop;return xs(s||r).direction==="rtl"&&(c+=Sa(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:c,y:l}}function lg(e){var t=xs(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function kN(e){return["html","body","#document"].indexOf(Zs(e))>=0?e.ownerDocument.body:Hn(e)&&lg(e)?e:kN(Cd(e))}function Ho(e,t){var r;t===void 0&&(t=[]);var n=kN(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=Yr(n),o=s?[a].concat(a.visualViewport||[],lg(n)?n:[]):n,c=t.concat(o);return s?c:c.concat(Ho(Cd(o)))}function cp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vO(e,t){var r=Wi(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Uy(e,t,r){return t===bN?cp(hO(e,r)):Da(t)?vO(t,r):cp(gO(aa(e)))}function yO(e){var t=Ho(Cd(e)),r=["absolute","fixed"].indexOf(xs(e).position)>=0,n=r&&Hn(e)?Yl(e):e;return Da(n)?t.filter(function(s){return Da(s)&&NN(s,n)&&Zs(s)!=="body"}):[]}function xO(e,t,r,n){var s=t==="clippingParents"?yO(e):[].concat(t),a=[].concat(s,[r]),o=a[0],c=a.reduce(function(l,u){var d=Uy(e,u,n);return l.top=Sa(d.top,l.top),l.right=Yu(d.right,l.right),l.bottom=Yu(d.bottom,l.bottom),l.left=Sa(d.left,l.left),l},Uy(e,o,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function CN(e){var t=e.reference,r=e.element,n=e.placement,s=n?Yn(n):null,a=n?Yi(n):null,o=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,l;switch(s){case Tr:l={x:o,y:t.y-r.height};break;case ln:l={x:o,y:t.y+t.height};break;case cn:l={x:t.x+t.width,y:c};break;case $r:l={x:t.x-r.width,y:c};break;default:l={x:t.x,y:t.y}}var u=s?ag(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case zi:l[u]=l[u]-(t[d]/2-r[d]/2);break;case Nl:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function _l(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,o=a===void 0?e.strategy:a,c=r.boundary,l=c===void 0?WA:c,u=r.rootBoundary,d=u===void 0?bN:u,m=r.elementContext,f=m===void 0?So:m,y=r.altBoundary,v=y===void 0?!1:y,p=r.padding,w=p===void 0?0:p,g=SN(typeof w!="number"?w:jN(w,Wl)),h=f===So?YA:So,x=e.rects.popper,N=e.elements[v?h:f],_=xO(Da(N)?N:N.contextElement||aa(e.elements.popper),l,d,o),P=Wi(e.elements.reference),E=CN({reference:P,element:x,placement:s}),S=cp(Object.assign({},x,E)),j=f===So?S:P,M={top:_.top-j.top+g.top,bottom:j.bottom-_.bottom+g.bottom,left:_.left-j.left+g.left,right:j.right-_.right+g.right},F=e.modifiersData.offset;if(f===So&&F){var Q=F[s];Object.keys(M).forEach(function(B){var O=[cn,ln].indexOf(B)>=0?1:-1,K=[Tr,ln].indexOf(B)>=0?"y":"x";M[B]+=Q[K]*O})}return M}function bO(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,o=r.padding,c=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?rg:l,d=Yi(n),m=d?c?Ry:Ry.filter(function(v){return Yi(v)===d}):Wl,f=m.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=m);var y=f.reduce(function(v,p){return v[p]=_l(e,{placement:p,boundary:s,rootBoundary:a,padding:o})[Yn(p)],v},{});return Object.keys(y).sort(function(v,p){return y[v]-y[p]})}function wO(e){if(Yn(e)===tg)return[];var t=eu(e);return[zy(e),t,zy(t)]}function NO(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,c=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,m=r.rootBoundary,f=r.altBoundary,y=r.flipVariations,v=y===void 0?!0:y,p=r.allowedAutoPlacements,w=t.options.placement,g=Yn(w),h=g===w,x=l||(h||!v?[eu(w)]:wO(w)),N=[w].concat(x).reduce(function(J,te){return J.concat(Yn(te)===tg?bO(t,{placement:te,boundary:d,rootBoundary:m,padding:u,flipVariations:v,allowedAutoPlacements:p}):te)},[]),_=t.rects.reference,P=t.rects.popper,E=new Map,S=!0,j=N[0],M=0;M<N.length;M++){var F=N[M],Q=Yn(F),B=Yi(F)===zi,O=[Tr,ln].indexOf(Q)>=0,K=O?"width":"height",T=_l(t,{placement:F,boundary:d,rootBoundary:m,altBoundary:f,padding:u}),Z=O?B?cn:$r:B?ln:Tr;_[K]>P[K]&&(Z=eu(Z));var D=eu(Z),U=[];if(a&&U.push(T[Q]<=0),c&&U.push(T[Z]<=0,T[D]<=0),U.every(function(J){return J})){j=F,S=!1;break}E.set(F,U)}if(S)for(var V=v?3:1,I=function(te){var de=N.find(function(me){var he=E.get(me);if(he)return he.slice(0,te).every(function(je){return je})});if(de)return j=de,"break"},z=V;z>0;z--){var G=I(z);if(G==="break")break}t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}}const _O={name:"flip",enabled:!0,phase:"main",fn:NO,requiresIfExists:["offset"],data:{_skip:!1}};function Wy(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yy(e){return[Tr,cn,ln,$r].some(function(t){return e[t]>=0})}function SO(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,o=_l(t,{elementContext:"reference"}),c=_l(t,{altBoundary:!0}),l=Wy(o,n),u=Wy(c,s,a),d=Yy(l),m=Yy(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const jO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SO};function kO(e,t,r){var n=Yn(e),s=[$r,Tr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],c=a[1];return o=o||0,c=(c||0)*s,[$r,cn].indexOf(n)>=0?{x:c,y:o}:{x:o,y:c}}function CO(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,o=rg.reduce(function(d,m){return d[m]=kO(m,t.rects,a),d},{}),c=o[t.placement],l=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const EO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:CO};function PO(e){var t=e.state,r=e.name;t.modifiersData[r]=CN({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const TO={name:"popperOffsets",enabled:!0,phase:"read",fn:PO,data:{}};function $O(e){return e==="x"?"y":"x"}function AO(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,c=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,m=r.padding,f=r.tether,y=f===void 0?!0:f,v=r.tetherOffset,p=v===void 0?0:v,w=_l(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:d}),g=Yn(t.placement),h=Yi(t.placement),x=!h,N=ag(g),_=$O(N),P=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,j=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,M=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(P){if(a){var B,O=N==="y"?Tr:$r,K=N==="y"?ln:cn,T=N==="y"?"height":"width",Z=P[N],D=Z+w[O],U=Z-w[K],V=y?-S[T]/2:0,I=h===zi?E[T]:S[T],z=h===zi?-S[T]:-E[T],G=t.elements.arrow,J=y&&G?sg(G):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_N(),de=te[O],me=te[K],he=Yo(0,E[T],J[T]),je=x?E[T]/2-V-he-de-M.mainAxis:I-he-de-M.mainAxis,Te=x?-E[T]/2+V+he+me+M.mainAxis:z+he+me+M.mainAxis,Ce=t.elements.arrow&&Yl(t.elements.arrow),Ee=Ce?N==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,ze=(B=F==null?void 0:F[N])!=null?B:0,bt=Z+je-ze-Ee,Rt=Z+Te-ze,Ne=Yo(y?Yu(D,bt):D,Z,y?Sa(U,Rt):U);P[N]=Ne,Q[N]=Ne-Z}if(c){var Ct,qr=N==="x"?Tr:$r,Ke=N==="x"?ln:cn,Ht=P[_],at=_==="y"?"height":"width",_e=Ht+w[qr],It=Ht-w[Ke],ir=[Tr,$r].indexOf(g)!==-1,or=(Ct=F==null?void 0:F[_])!=null?Ct:0,Ft=ir?_e:Ht-E[at]-S[at]-or+M.altAxis,Bt=ir?Ht+E[at]+S[at]-or-M.altAxis:It,it=y&&ir?rO(Ft,Ht,Bt):Yo(y?Ft:_e,Ht,y?Bt:It);P[_]=it,Q[_]=it-Ht}t.modifiersData[n]=Q}}const OO={name:"preventOverflow",enabled:!0,phase:"main",fn:AO,requiresIfExists:["offset"]};function MO(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function DO(e){return e===Yr(e)||!Hn(e)?ig(e):MO(e)}function LO(e){var t=e.getBoundingClientRect(),r=Ui(t.width)/e.offsetWidth||1,n=Ui(t.height)/e.offsetHeight||1;return r!==1||n!==1}function RO(e,t,r){r===void 0&&(r=!1);var n=Hn(t),s=Hn(t)&&LO(t),a=aa(t),o=Wi(e,s,r),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Zs(t)!=="body"||lg(a))&&(c=DO(t)),Hn(t)?(l=Wi(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=og(a))),{x:o.left+c.scrollLeft-l.x,y:o.top+c.scrollTop-l.y,width:o.width,height:o.height}}function IO(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(c){if(!r.has(c)){var l=t.get(c);l&&s(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function FO(e){var t=IO(e);return JA.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function zO(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function UO(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Hy={placement:"bottom",modifiers:[],strategy:"absolute"};function By(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function WO(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?Hy:s;return function(c,l,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hy,a),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},m=[],f=!1,y={state:d,setOptions:function(g){var h=typeof g=="function"?g(d.options):g;p(),d.options=Object.assign({},a,d.options,h),d.scrollParents={reference:Da(c)?Ho(c):c.contextElement?Ho(c.contextElement):[],popper:Ho(l)};var x=FO(UO([].concat(n,d.options.modifiers)));return d.orderedModifiers=x.filter(function(N){return N.enabled}),v(),y.update()},forceUpdate:function(){if(!f){var g=d.elements,h=g.reference,x=g.popper;if(By(h,x)){d.rects={reference:RO(h,Yl(x),d.options.strategy==="fixed"),popper:sg(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(M){return d.modifiersData[M.name]=Object.assign({},M.data)});for(var N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var _=d.orderedModifiers[N],P=_.fn,E=_.options,S=E===void 0?{}:E,j=_.name;typeof P=="function"&&(d=P({state:d,options:S,name:j,instance:y})||d)}}}},update:zO(function(){return new Promise(function(w){y.forceUpdate(),w(d)})}),destroy:function(){p(),f=!0}};if(!By(c,l))return y;y.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function v(){d.orderedModifiers.forEach(function(w){var g=w.name,h=w.options,x=h===void 0?{}:h,N=w.effect;if(typeof N=="function"){var _=N({state:d,name:g,instance:y,options:x}),P=function(){};m.push(_||P)}})}function p(){m.forEach(function(w){return w()}),m=[]}return y}}var YO=WO({defaultModifiers:[jO,TO,uO,fO,EO,_O,OO,iO]}),Vy=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},HO={name:"applyStyles",enabled:!1},BO={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var o=(s.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==a.id});o.length?s.setAttribute("aria-describedby",o.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,o=s.reference,c=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&c==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},VO=[];function GO(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,o=n.placement,c=o===void 0?"bottom":o,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,m=d===void 0?VO:d,f=Sd(n,["enabled","placement","strategy","modifiers"]),y=b.useRef(),v=b.useCallback(function(){var N;(N=y.current)==null||N.update()},[]),p=b.useCallback(function(){var N;(N=y.current)==null||N.forceUpdate()},[]),w=UA(b.useState({placement:c,update:v,forceUpdate:p,attributes:{},styles:{popper:Vy(u),arrow:{}}})),g=w[0],h=w[1],x=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(_){var P=_.state,E={},S={};Object.keys(P.elements).forEach(function(j){E[j]=P.styles[j],S[j]=P.attributes[j]}),h({state:P,styles:E,attributes:S,update:v,forceUpdate:p,placement:P.placement})}}},[v,p,h]);return b.useEffect(function(){!y.current||!a||y.current.setOptions({placement:c,strategy:u,modifiers:[].concat(m,[x,HO])})},[u,c,x,a]),b.useEffect(function(){if(!(!a||e==null||t==null))return y.current=YO(e,t,yt({},f,{placement:c,strategy:u,modifiers:[].concat(m,[BO,x])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,h(function(N){return yt({},N,{attributes:{},styles:{popper:Vy(u)}})}))}},[a,e,t]),g}function qO(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function To(e,t,r,n){return IA(e,t,r,n),function(){qO(e,t,r,n)}}var KO=function(){},QO=KO;const XO=pr(QO);function ZO(e){return e&&"setState"in e?Ww.findDOMNode(e):e??null}const JO=function(e){return Ul(ZO(e))};var eM=27,Gy=function(){};function tM(e){return e.button===0}function rM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var qy=function(t){return t&&("current"in t?t.current:t)};function nM(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,c=b.useRef(!1),l=t||Gy,u=b.useCallback(function(f){var y,v=qy(e);XO(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!v||rM(f)||!tM(f)||!!wl(v,(y=f.composedPath==null?void 0:f.composedPath()[0])!=null?y:f.target)},[e]),d=Dy(function(f){c.current||l(f)}),m=Dy(function(f){f.keyCode===eM&&l(f)});b.useEffect(function(){if(!(s||e==null)){var f=window.event,y=JO(qy(e)),v=To(y,o,u,!0),p=To(y,o,function(h){if(h===f){f=void 0;return}d(h)}),w=To(y,"keyup",function(h){if(h===f){f=void 0;return}m(h)}),g=[];return"ontouchstart"in y.documentElement&&(g=[].slice.call(y.body.children).map(function(h){return To(h,"mousemove",Gy)})),function(){v(),p(),w(),g.forEach(function(h){return h()})}}},[e,s,o,u,d,m])}function sM(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function aM(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function iM(e){var t,r,n,s,a=e.enabled,o=e.enableEvents,c=e.placement,l=e.flip,u=e.offset,d=e.fixed,m=e.containerPadding,f=e.arrowElement,y=e.popperConfig,v=y===void 0?{}:y,p=sM(v.modifiers);return yt({},v,{placement:c,enabled:a,strategy:d?"fixed":v.strategy,modifiers:aM(yt({},p,{eventListeners:{enabled:o},preventOverflow:yt({},p.preventOverflow,{options:m?yt({padding:m},(t=p.preventOverflow)==null?void 0:t.options):(r=p.preventOverflow)==null?void 0:r.options}),offset:{options:yt({offset:u},(n=p.offset)==null?void 0:n.options)},arrow:yt({},p.arrow,{enabled:!!f,options:yt({},(s=p.arrow)==null?void 0:s.options,{element:f})}),flip:yt({enabled:!!l},p.flip)}))})}function oM(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function lM(e,t){e.classList?e.classList.add(t):oM(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Ky(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function cM(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Ky(e.className,t):e.setAttribute("class",Ky(e.className&&e.className.baseVal||"",t))}var $c;function cg(e){if((!$c&&$c!==0||e)&&eg){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),$c=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return $c}var Lf=function(t){var r;return typeof document>"u"?null:t==null?Ul().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Qy(e,t){var r=b.useState(function(){return Lf(e)}),n=r[0],s=r[1];if(!n){var a=Lf(e);a&&s(a)}return b.useEffect(function(){},[t,n]),b.useEffect(function(){var o=Lf(e);o!==n&&s(o)},[e,n]),n}const Xy=e=>!e||typeof e=="function"?e:t=>{e.current=t};function uM(e,t){const r=Xy(e),n=Xy(t);return s=>{r&&r(s),n&&n(s)}}function dM(e,t){return b.useMemo(()=>uM(e,t),[e,t])}var ug=R.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,o=a===void 0?5:a,c=e.popperConfig,l=c===void 0?{}:c,u=e.transition,d=Ly(),m=d[0],f=d[1],y=Ly(),v=y[0],p=y[1],w=dM(f,t),g=Qy(e.container),h=Qy(e.target),x=b.useState(!e.show),N=x[0],_=x[1],P=GO(h,m,iM({placement:s,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:v,popperConfig:l})),E=P.styles,S=P.attributes,j=Sd(P,["styles","attributes"]);e.show?N&&_(!1):!e.transition&&!N&&_(!0);var M=function(){_(!0),e.onExited&&e.onExited.apply(e,arguments)},F=e.show||u&&!N;if(nM(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!F)return null;var Q=e.children(yt({},j,{show:!!e.show,props:yt({},S.popper,{style:E.popper,ref:w}),arrowProps:yt({},S.arrow,{style:E.arrow,ref:p})}));if(u){var B=e.onExit,O=e.onExiting,K=e.onEnter,T=e.onEntering,Z=e.onEntered;Q=R.createElement(u,{in:e.show,appear:!0,onExit:B,onExiting:O,onExited:M,onEnter:K,onEntering:T,onEntered:Z},Q)}return g?Ww.createPortal(Q,g):null});ug.displayName="Overlay";ug.propTypes={show:ie.bool,placement:ie.oneOf(rg),target:ie.any,container:ie.any,flip:ie.bool,children:ie.func.isRequired,containerPadding:ie.number,popperConfig:ie.object,rootClose:ie.bool,rootCloseEvent:ie.oneOf(["click","mousedown"]),rootCloseDisabled:ie.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=ie.func).isRequired.apply(a,[t].concat(n))}return ie.func.apply(ie,[t].concat(n))},transition:ie.elementType,onEnter:ie.func,onEntering:ie.func,onEntered:ie.func,onExit:ie.func,onExiting:ie.func,onExited:ie.func};function fM(){this.__data__=[],this.size=0}var mM=fM,pM=Il;function hM(e,t){for(var r=e.length;r--;)if(pM(e[r][0],t))return r;return-1}var Ed=hM,gM=Ed,vM=Array.prototype,yM=vM.splice;function xM(e){var t=this.__data__,r=gM(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yM.call(t,r,1),--this.size,!0}var bM=xM,wM=Ed;function NM(e){var t=this.__data__,r=wM(t,e);return r<0?void 0:t[r][1]}var _M=NM,SM=Ed;function jM(e){return SM(this.__data__,e)>-1}var kM=jM,CM=Ed;function EM(e,t){var r=this.__data__,n=CM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var PM=EM,TM=mM,$M=bM,AM=_M,OM=kM,MM=PM;function ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ro.prototype.clear=TM;ro.prototype.delete=$M;ro.prototype.get=AM;ro.prototype.has=OM;ro.prototype.set=MM;var Pd=ro,DM=Pd;function LM(){this.__data__=new DM,this.size=0}var RM=LM;function IM(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var FM=IM;function zM(e){return this.__data__.get(e)}var UM=zM;function WM(e){return this.__data__.has(e)}var YM=WM,HM=Kn,BM=HM["__core-js_shared__"],VM=BM,Rf=VM,Zy=function(){var e=/[^.]+$/.exec(Rf&&Rf.keys&&Rf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GM(e){return!!Zy&&Zy in e}var qM=GM,KM=Function.prototype,QM=KM.toString;function XM(e){if(e!=null){try{return QM.call(e)}catch{}try{return e+""}catch{}}return""}var EN=XM,ZM=Qh,JM=qM,eD=_s,tD=EN,rD=/[\\^$.*+?()[\]{}|]/g,nD=/^\[object .+?Constructor\]$/,sD=Function.prototype,aD=Object.prototype,iD=sD.toString,oD=aD.hasOwnProperty,lD=RegExp("^"+iD.call(oD).replace(rD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cD(e){if(!eD(e)||JM(e))return!1;var t=ZM(e)?lD:nD;return t.test(tD(e))}var uD=cD;function dD(e,t){return e==null?void 0:e[t]}var fD=dD,mD=uD,pD=fD;function hD(e,t){var r=pD(e,t);return mD(r)?r:void 0}var za=hD,gD=za,vD=Kn,yD=gD(vD,"Map"),dg=yD,xD=za,bD=xD(Object,"create"),Td=bD,Jy=Td;function wD(){this.__data__=Jy?Jy(null):{},this.size=0}var ND=wD;function _D(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SD=_D,jD=Td,kD="__lodash_hash_undefined__",CD=Object.prototype,ED=CD.hasOwnProperty;function PD(e){var t=this.__data__;if(jD){var r=t[e];return r===kD?void 0:r}return ED.call(t,e)?t[e]:void 0}var TD=PD,$D=Td,AD=Object.prototype,OD=AD.hasOwnProperty;function MD(e){var t=this.__data__;return $D?t[e]!==void 0:OD.call(t,e)}var DD=MD,LD=Td,RD="__lodash_hash_undefined__";function ID(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=LD&&t===void 0?RD:t,this}var FD=ID,zD=ND,UD=SD,WD=TD,YD=DD,HD=FD;function no(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}no.prototype.clear=zD;no.prototype.delete=UD;no.prototype.get=WD;no.prototype.has=YD;no.prototype.set=HD;var BD=no,e0=BD,VD=Pd,GD=dg;function qD(){this.size=0,this.__data__={hash:new e0,map:new(GD||VD),string:new e0}}var KD=qD;function QD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var XD=QD,ZD=XD;function JD(e,t){var r=e.__data__;return ZD(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $d=JD,eL=$d;function tL(e){var t=eL(this,e).delete(e);return this.size-=t?1:0,t}var rL=tL,nL=$d;function sL(e){return nL(this,e).get(e)}var aL=sL,iL=$d;function oL(e){return iL(this,e).has(e)}var lL=oL,cL=$d;function uL(e,t){var r=cL(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dL=uL,fL=KD,mL=rL,pL=aL,hL=lL,gL=dL;function so(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}so.prototype.clear=fL;so.prototype.delete=mL;so.prototype.get=pL;so.prototype.has=hL;so.prototype.set=gL;var fg=so,vL=Pd,yL=dg,xL=fg,bL=200;function wL(e,t){var r=this.__data__;if(r instanceof vL){var n=r.__data__;if(!yL||n.length<bL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xL(n)}return r.set(e,t),this.size=r.size,this}var NL=wL,_L=Pd,SL=RM,jL=FM,kL=UM,CL=YM,EL=NL;function ao(e){var t=this.__data__=new _L(e);this.size=t.size}ao.prototype.clear=SL;ao.prototype.delete=jL;ao.prototype.get=kL;ao.prototype.has=CL;ao.prototype.set=EL;var mg=ao,PL="__lodash_hash_undefined__";function TL(e){return this.__data__.set(e,PL),this}var $L=TL;function AL(e){return this.__data__.has(e)}var OL=AL,ML=fg,DL=$L,LL=OL;function Hu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ML;++t<r;)this.add(e[t])}Hu.prototype.add=Hu.prototype.push=DL;Hu.prototype.has=LL;var RL=Hu;function IL(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FL=IL;function zL(e,t){return e.has(t)}var UL=zL,WL=RL,YL=FL,HL=UL,BL=1,VL=2;function GL(e,t,r,n,s,a){var o=r&BL,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var m=-1,f=!0,y=r&VL?new WL:void 0;for(a.set(e,t),a.set(t,e);++m<c;){var v=e[m],p=t[m];if(n)var w=o?n(p,v,m,t,e,a):n(v,p,m,e,t,a);if(w!==void 0){if(w)continue;f=!1;break}if(y){if(!YL(t,function(g,h){if(!HL(y,h)&&(v===g||s(v,g,r,n,a)))return y.push(h)})){f=!1;break}}else if(!(v===p||s(v,p,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var PN=GL,qL=Kn,KL=qL.Uint8Array,TN=KL;function QL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var XL=QL;function ZL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JL=ZL,t0=eo,r0=TN,e3=Il,t3=PN,r3=XL,n3=JL,s3=1,a3=2,i3="[object Boolean]",o3="[object Date]",l3="[object Error]",c3="[object Map]",u3="[object Number]",d3="[object RegExp]",f3="[object Set]",m3="[object String]",p3="[object Symbol]",h3="[object ArrayBuffer]",g3="[object DataView]",n0=t0?t0.prototype:void 0,If=n0?n0.valueOf:void 0;function v3(e,t,r,n,s,a,o){switch(r){case g3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case h3:return!(e.byteLength!=t.byteLength||!a(new r0(e),new r0(t)));case i3:case o3:case u3:return e3(+e,+t);case l3:return e.name==t.name&&e.message==t.message;case d3:case m3:return e==t+"";case c3:var c=r3;case f3:var l=n&s3;if(c||(c=n3),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=a3,o.set(e,t);var d=t3(c(e),c(t),n,s,a,o);return o.delete(e),d;case p3:if(If)return If.call(e)==If.call(t)}return!1}var y3=v3;function x3(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var pg=x3,b3=Array.isArray,fn=b3,w3=pg,N3=fn;function _3(e,t,r){var n=t(e);return N3(e)?n:w3(n,r(e))}var $N=_3;function S3(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var j3=S3;function k3(){return[]}var AN=k3,C3=j3,E3=AN,P3=Object.prototype,T3=P3.propertyIsEnumerable,s0=Object.getOwnPropertySymbols,$3=s0?function(e){return e==null?[]:(e=Object(e),C3(s0(e),function(t){return T3.call(e,t)}))}:E3,hg=$3;function A3(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var O3=A3,M3=to,D3=sa,L3="[object Arguments]";function R3(e){return D3(e)&&M3(e)==L3}var I3=R3,a0=I3,F3=sa,ON=Object.prototype,z3=ON.hasOwnProperty,U3=ON.propertyIsEnumerable,W3=a0(function(){return arguments}())?a0:function(e){return F3(e)&&z3.call(e,"callee")&&!U3.call(e,"callee")},gg=W3,Bu={exports:{}};function Y3(){return!1}var H3=Y3;Bu.exports;(function(e,t){var r=Kn,n=H3,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Bu,Bu.exports);var Ad=Bu.exports,B3=to,V3=Xh,G3=sa,q3="[object Arguments]",K3="[object Array]",Q3="[object Boolean]",X3="[object Date]",Z3="[object Error]",J3="[object Function]",e4="[object Map]",t4="[object Number]",r4="[object Object]",n4="[object RegExp]",s4="[object Set]",a4="[object String]",i4="[object WeakMap]",o4="[object ArrayBuffer]",l4="[object DataView]",c4="[object Float32Array]",u4="[object Float64Array]",d4="[object Int8Array]",f4="[object Int16Array]",m4="[object Int32Array]",p4="[object Uint8Array]",h4="[object Uint8ClampedArray]",g4="[object Uint16Array]",v4="[object Uint32Array]",et={};et[c4]=et[u4]=et[d4]=et[f4]=et[m4]=et[p4]=et[h4]=et[g4]=et[v4]=!0;et[q3]=et[K3]=et[o4]=et[Q3]=et[l4]=et[X3]=et[Z3]=et[J3]=et[e4]=et[t4]=et[r4]=et[n4]=et[s4]=et[a4]=et[i4]=!1;function y4(e){return G3(e)&&V3(e.length)&&!!et[B3(e)]}var x4=y4;function b4(e){return function(t){return e(t)}}var Od=b4,Vu={exports:{}};Vu.exports;(function(e,t){var r=dN,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Vu,Vu.exports);var vg=Vu.exports,w4=x4,N4=Od,i0=vg,o0=i0&&i0.isTypedArray,_4=o0?N4(o0):w4,yg=_4,S4=O3,j4=gg,k4=fn,C4=Ad,E4=Zh,P4=yg,T4=Object.prototype,$4=T4.hasOwnProperty;function A4(e,t){var r=k4(e),n=!r&&j4(e),s=!r&&!n&&C4(e),a=!r&&!n&&!s&&P4(e),o=r||n||s||a,c=o?S4(e.length,String):[],l=c.length;for(var u in e)(t||$4.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||E4(u,l)))&&c.push(u);return c}var MN=A4,O4=Object.prototype;function M4(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||O4;return e===r}var xg=M4;function D4(e,t){return function(r){return e(t(r))}}var DN=D4,L4=DN,R4=L4(Object.keys,Object),I4=R4,F4=xg,z4=I4,U4=Object.prototype,W4=U4.hasOwnProperty;function Y4(e){if(!F4(e))return z4(e);var t=[];for(var r in Object(e))W4.call(e,r)&&r!="constructor"&&t.push(r);return t}var H4=Y4,B4=MN,V4=H4,G4=Fl;function q4(e){return G4(e)?B4(e):V4(e)}var Hl=q4,K4=$N,Q4=hg,X4=Hl;function Z4(e){return K4(e,X4,Q4)}var LN=Z4,l0=LN,J4=1,eR=Object.prototype,tR=eR.hasOwnProperty;function rR(e,t,r,n,s,a){var o=r&J4,c=l0(e),l=c.length,u=l0(t),d=u.length;if(l!=d&&!o)return!1;for(var m=l;m--;){var f=c[m];if(!(o?f in t:tR.call(t,f)))return!1}var y=a.get(e),v=a.get(t);if(y&&v)return y==t&&v==e;var p=!0;a.set(e,t),a.set(t,e);for(var w=o;++m<l;){f=c[m];var g=e[f],h=t[f];if(n)var x=o?n(h,g,f,t,e,a):n(g,h,f,e,t,a);if(!(x===void 0?g===h||s(g,h,r,n,a):x)){p=!1;break}w||(w=f=="constructor")}if(p&&!w){var N=e.constructor,_=t.constructor;N!=_&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}var nR=rR,sR=za,aR=Kn,iR=sR(aR,"DataView"),oR=iR,lR=za,cR=Kn,uR=lR(cR,"Promise"),dR=uR,fR=za,mR=Kn,pR=fR(mR,"Set"),hR=pR,gR=za,vR=Kn,yR=gR(vR,"WeakMap"),xR=yR,up=oR,dp=dg,fp=dR,mp=hR,pp=xR,RN=to,io=EN,c0="[object Map]",bR="[object Object]",u0="[object Promise]",d0="[object Set]",f0="[object WeakMap]",m0="[object DataView]",wR=io(up),NR=io(dp),_R=io(fp),SR=io(mp),jR=io(pp),pa=RN;(up&&pa(new up(new ArrayBuffer(1)))!=m0||dp&&pa(new dp)!=c0||fp&&pa(fp.resolve())!=u0||mp&&pa(new mp)!=d0||pp&&pa(new pp)!=f0)&&(pa=function(e){var t=RN(e),r=t==bR?e.constructor:void 0,n=r?io(r):"";if(n)switch(n){case wR:return m0;case NR:return c0;case _R:return u0;case SR:return d0;case jR:return f0}return t});var Md=pa,Ff=mg,kR=PN,CR=y3,ER=nR,p0=Md,h0=fn,g0=Ad,PR=yg,TR=1,v0="[object Arguments]",y0="[object Array]",Ac="[object Object]",$R=Object.prototype,x0=$R.hasOwnProperty;function AR(e,t,r,n,s,a){var o=h0(e),c=h0(t),l=o?y0:p0(e),u=c?y0:p0(t);l=l==v0?Ac:l,u=u==v0?Ac:u;var d=l==Ac,m=u==Ac,f=l==u;if(f&&g0(e)){if(!g0(t))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Ff),o||PR(e)?kR(e,t,r,n,s,a):CR(e,t,l,r,n,s,a);if(!(r&TR)){var y=d&&x0.call(e,"__wrapped__"),v=m&&x0.call(t,"__wrapped__");if(y||v){var p=y?e.value():e,w=v?t.value():t;return a||(a=new Ff),s(p,w,r,n,a)}}return f?(a||(a=new Ff),ER(e,t,r,n,s,a)):!1}var OR=AR,MR=OR,b0=sa;function IN(e,t,r,n,s){return e===t?!0:e==null||t==null||!b0(e)&&!b0(t)?e!==e&&t!==t:MR(e,t,r,n,IN,s)}var bg=IN,DR=bg;function LR(e,t){return DR(e,t)}var RR=LR;const IR=pr(RR);function zf(e,t){var r=Jh(e);return r?r.innerHeight:_a(e).height}function FN(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(DA(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function FR(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var zR=FR,UR=mg,WR=bg,YR=1,HR=2;function BR(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var c=r[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){c=r[s];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var m=new UR;if(n)var f=n(u,d,l,e,t,m);if(!(f===void 0?WR(d,u,YR|HR,n,m):f))return!1}}return!0}var VR=BR,GR=_s;function qR(e){return e===e&&!GR(e)}var zN=qR,KR=zN,QR=Hl;function XR(e){for(var t=QR(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,KR(s)]}return t}var ZR=XR;function JR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var UN=JR,e5=VR,t5=ZR,r5=UN;function n5(e){var t=t5(e);return t.length==1&&t[0][2]?r5(t[0][0],t[0][1]):function(r){return r===e||e5(r,e,t)}}var s5=n5,a5=fn,i5=zl,o5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l5=/^\w*$/;function c5(e,t){if(a5(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||i5(e)?!0:l5.test(e)||!o5.test(e)||t!=null&&e in Object(t)}var wg=c5,WN=fg,u5="Expected a function";function Ng(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(u5);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(Ng.Cache||WN),r}Ng.Cache=WN;var d5=Ng,f5=d5,m5=500;function p5(e){var t=f5(e,function(n){return r.size===m5&&r.clear(),n}),r=t.cache;return t}var h5=p5,g5=h5,v5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y5=/\\(\\)?/g,x5=g5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(v5,function(r,n,s,a){t.push(s?a.replace(y5,"$1"):n||r)}),t}),b5=x5;function w5(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var _g=w5,w0=eo,N5=_g,_5=fn,S5=zl,N0=w0?w0.prototype:void 0,_0=N0?N0.toString:void 0;function YN(e){if(typeof e=="string")return e;if(_5(e))return N5(e,YN)+"";if(S5(e))return _0?_0.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var j5=YN,k5=j5;function C5(e){return e==null?"":k5(e)}var E5=C5,P5=fn,T5=wg,$5=b5,A5=E5;function O5(e,t){return P5(e)?e:T5(e,t)?[e]:$5(A5(e))}var Dd=O5,M5=zl;function D5(e){if(typeof e=="string"||M5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Bl=D5,L5=Dd,R5=Bl;function I5(e,t){t=L5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[R5(t[r++])];return r&&r==n?e:void 0}var Ld=I5,F5=Ld;function z5(e,t,r){var n=e==null?void 0:F5(e,t);return n===void 0?r:n}var U5=z5;function W5(e,t){return e!=null&&t in Object(e)}var Y5=W5,H5=Dd,B5=gg,V5=fn,G5=Zh,q5=Xh,K5=Bl;function Q5(e,t,r){t=H5(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=K5(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&q5(s)&&G5(o,s)&&(V5(e)||B5(e)))}var X5=Q5,Z5=Y5,J5=X5;function eI(e,t){return e!=null&&J5(e,t,Z5)}var tI=eI,rI=bg,nI=U5,sI=tI,aI=wg,iI=zN,oI=UN,lI=Bl,cI=1,uI=2;function dI(e,t){return aI(e)&&iI(t)?oI(lI(e),t):function(r){var n=nI(r,e);return n===void 0&&n===t?sI(r,e):rI(t,n,cI|uI)}}var fI=dI;function mI(e){return e}var Rd=mI;function pI(e){return function(t){return t==null?void 0:t[e]}}var hI=pI,gI=Ld;function vI(e){return function(t){return gI(t,e)}}var yI=vI,xI=hI,bI=yI,wI=wg,NI=Bl;function _I(e){return wI(e)?xI(NI(e)):bI(e)}var SI=_I,jI=s5,kI=fI,CI=Rd,EI=fn,PI=SI;function TI(e){return typeof e=="function"?e:e==null?CI:typeof e=="object"?EI(e)?kI(e[0],e[1]):jI(e):PI(e)}var Id=TI,$I=zR,AI=Id,OI=pN,MI=Math.max;function DI(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:OI(r);return s<0&&(s=MI(n+s,0)),$I(e,AI(t),s)}var LI=DI;const RI=pr(LI);var II=Math.ceil,FI=Math.max;function zI(e,t,r,n){for(var s=-1,a=FI(II((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var UI=zI,WI=UI,YI=kd,Uf=mN;function HI(e){return function(t,r,n){return n&&typeof n!="number"&&YI(t,r,n)&&(r=n=void 0),t=Uf(t),r===void 0?(r=t,t=0):r=Uf(r),n=n===void 0?t<r?1:-1:Uf(n),WI(t,r,n,e)}}var BI=HI,VI=BI,GI=VI(),qI=GI;const KI=pr(qI);var S0=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function QI(e,t){return!!(e===t||S0(e)&&S0(t))}function XI(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!QI(e[r],t[r]))return!1;return!0}function HN(e,t){t===void 0&&(t=XI);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}function hp(e,t){var r=Jh(e);return r?r.innerWidth:_a(e).width}var j0=eo,ZI=gg,JI=fn,k0=j0?j0.isConcatSpreadable:void 0;function eF(e){return JI(e)||ZI(e)||!!(k0&&e&&e[k0])}var tF=eF,rF=pg,nF=tF;function BN(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=nF),s||(s=[]);++a<o;){var c=e[a];t>0&&r(c)?t>1?BN(c,t-1,r,n,s):rF(s,c):n||(s[s.length]=c)}return s}var VN=BN;function sF(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++s];if(r(a[l],l,a)===!1)break}return t}}var aF=sF,iF=aF,oF=iF(),lF=oF,cF=lF,uF=Hl;function dF(e,t){return e&&cF(e,t,uF)}var Sg=dF,fF=Fl;function mF(e,t){return function(r,n){if(r==null)return r;if(!fF(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var pF=mF,hF=Sg,gF=pF,vF=gF(hF),yF=vF,xF=yF,bF=Fl;function wF(e,t){var r=-1,n=bF(e)?Array(e.length):[];return xF(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var NF=wF;function _F(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var SF=_F,C0=zl;function jF(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=C0(e),o=t!==void 0,c=t===null,l=t===t,u=C0(t);if(!c&&!u&&!a&&e>t||a&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||c&&r&&s||!o&&s||!l)return-1}return 0}var kF=jF,CF=kF;function EF(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,c=r.length;++n<o;){var l=CF(s[n],a[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var PF=EF,Wf=_g,TF=Ld,$F=Id,AF=NF,OF=SF,MF=Od,DF=PF,LF=Rd,RF=fn;function IF(e,t,r){t.length?t=Wf(t,function(a){return RF(a)?function(o){return TF(o,a.length===1?a[0]:a)}:a}):t=[LF];var n=-1;t=Wf(t,MF($F));var s=AF(e,function(a,o,c){var l=Wf(t,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return OF(s,function(a,o){return DF(a,o,r)})}var FF=IF;function zF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var UF=zF,WF=UF,E0=Math.max;function YF(e,t,r){return t=E0(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=E0(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(o),WF(e,this,c)}}var GN=YF;function HF(e){return function(){return e}}var BF=HF,VF=za,GF=function(){try{var e=VF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qN=GF,qF=BF,P0=qN,KF=Rd,QF=P0?function(e,t){return P0(e,"toString",{configurable:!0,enumerable:!1,value:qF(t),writable:!0})}:KF,XF=QF,ZF=800,JF=16,e6=Date.now;function t6(e){var t=0,r=0;return function(){var n=e6(),s=JF-(n-r);if(r=n,s>0){if(++t>=ZF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r6=t6,n6=XF,s6=r6,a6=s6(n6),KN=a6,i6=Rd,o6=GN,l6=KN;function c6(e,t){return l6(o6(e,t,i6),e+"")}var QN=c6,u6=VN,d6=FF,f6=QN,T0=kd,m6=f6(function(e,t){if(e==null)return[];var r=t.length;return r>1&&T0(e,t[0],t[1])?t=[]:r>2&&T0(t[0],t[1],t[2])&&(t=[t[0]]),d6(e,u6(t,1),[])}),p6=m6;const h6=pr(p6);function XN(e){return B1(e)||cN(e)||Gh(e)||V1()}function g6(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var v6=g6,y6=_s,x6=xg,b6=v6,w6=Object.prototype,N6=w6.hasOwnProperty;function _6(e){if(!y6(e))return b6(e);var t=x6(e),r=[];for(var n in e)n=="constructor"&&(t||!N6.call(e,n))||r.push(n);return r}var S6=_6,j6=MN,k6=S6,C6=Fl;function E6(e){return C6(e)?j6(e,!0):k6(e)}var Fd=E6,P6=QN,T6=Il,$6=kd,A6=Fd,ZN=Object.prototype,O6=ZN.hasOwnProperty,M6=P6(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&$6(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],o=A6(a),c=-1,l=o.length;++c<l;){var u=o[c],d=e[u];(d===void 0||T6(d,ZN[u])&&!O6.call(e,u))&&(e[u]=a[u])}return e}),D6=M6;const L6=pr(D6);var $0=qN;function R6(e,t,r){t=="__proto__"&&$0?$0(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jg=R6,I6=jg,F6=Sg,z6=Id;function U6(e,t){var r={};return t=z6(t),F6(e,function(n,s,a){I6(r,s,t(n,s,a))}),r}var W6=U6;const Y6=pr(W6);function H6(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var JN=H6,B6=jg,V6=Il,G6=Object.prototype,q6=G6.hasOwnProperty;function K6(e,t,r){var n=e[t];(!(q6.call(e,t)&&V6(n,r))||r===void 0&&!(t in e))&&B6(e,t,r)}var e_=K6,Q6=e_,X6=jg;function Z6(e,t,r,n){var s=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var c=t[a],l=n?n(r[c],e[c],c,r,e):void 0;l===void 0&&(l=e[c]),s?X6(r,c,l):Q6(r,c,l)}return r}var Vl=Z6,J6=Vl,ez=Hl;function tz(e,t){return e&&J6(t,ez(t),e)}var rz=tz,nz=Vl,sz=Fd;function az(e,t){return e&&nz(t,sz(t),e)}var iz=az,Gu={exports:{}};Gu.exports;(function(e,t){var r=Kn,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a?r.Buffer:void 0,c=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var m=u.length,f=c?c(m):new u.constructor(m);return u.copy(f),f}e.exports=l})(Gu,Gu.exports);var oz=Gu.exports;function lz(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var cz=lz,uz=Vl,dz=hg;function fz(e,t){return uz(e,dz(e),t)}var mz=fz,pz=DN,hz=pz(Object.getPrototypeOf,Object),zd=hz,gz=pg,vz=zd,yz=hg,xz=AN,bz=Object.getOwnPropertySymbols,wz=bz?function(e){for(var t=[];e;)gz(t,yz(e)),e=vz(e);return t}:xz,t_=wz,Nz=Vl,_z=t_;function Sz(e,t){return Nz(e,_z(e),t)}var jz=Sz,kz=$N,Cz=t_,Ez=Fd;function Pz(e){return kz(e,Ez,Cz)}var r_=Pz,Tz=Object.prototype,$z=Tz.hasOwnProperty;function Az(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&$z.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Oz=Az,A0=TN;function Mz(e){var t=new e.constructor(e.byteLength);return new A0(t).set(new A0(e)),t}var kg=Mz,Dz=kg;function Lz(e,t){var r=t?Dz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Rz=Lz,Iz=/\w*$/;function Fz(e){var t=new e.constructor(e.source,Iz.exec(e));return t.lastIndex=e.lastIndex,t}var zz=Fz,O0=eo,M0=O0?O0.prototype:void 0,D0=M0?M0.valueOf:void 0;function Uz(e){return D0?Object(D0.call(e)):{}}var Wz=Uz,Yz=kg;function Hz(e,t){var r=t?Yz(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Bz=Hz,Vz=kg,Gz=Rz,qz=zz,Kz=Wz,Qz=Bz,Xz="[object Boolean]",Zz="[object Date]",Jz="[object Map]",eU="[object Number]",tU="[object RegExp]",rU="[object Set]",nU="[object String]",sU="[object Symbol]",aU="[object ArrayBuffer]",iU="[object DataView]",oU="[object Float32Array]",lU="[object Float64Array]",cU="[object Int8Array]",uU="[object Int16Array]",dU="[object Int32Array]",fU="[object Uint8Array]",mU="[object Uint8ClampedArray]",pU="[object Uint16Array]",hU="[object Uint32Array]";function gU(e,t,r){var n=e.constructor;switch(t){case aU:return Vz(e);case Xz:case Zz:return new n(+e);case iU:return Gz(e,r);case oU:case lU:case cU:case uU:case dU:case fU:case mU:case pU:case hU:return Qz(e,r);case Jz:return new n;case eU:case nU:return new n(e);case tU:return qz(e);case rU:return new n;case sU:return Kz(e)}}var vU=gU,yU=_s,L0=Object.create,xU=function(){function e(){}return function(t){if(!yU(t))return{};if(L0)return L0(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),n_=xU,bU=n_,wU=zd,NU=xg;function _U(e){return typeof e.constructor=="function"&&!NU(e)?bU(wU(e)):{}}var SU=_U,jU=Md,kU=sa,CU="[object Map]";function EU(e){return kU(e)&&jU(e)==CU}var PU=EU,TU=PU,$U=Od,R0=vg,I0=R0&&R0.isMap,AU=I0?$U(I0):TU,OU=AU,MU=Md,DU=sa,LU="[object Set]";function RU(e){return DU(e)&&MU(e)==LU}var IU=RU,FU=IU,zU=Od,F0=vg,z0=F0&&F0.isSet,UU=z0?zU(z0):FU,WU=UU,YU=mg,HU=JN,BU=e_,VU=rz,GU=iz,qU=oz,KU=cz,QU=mz,XU=jz,ZU=LN,JU=r_,e7=Md,t7=Oz,r7=vU,n7=SU,s7=fn,a7=Ad,i7=OU,o7=_s,l7=WU,c7=Hl,u7=Fd,d7=1,f7=2,m7=4,s_="[object Arguments]",p7="[object Array]",h7="[object Boolean]",g7="[object Date]",v7="[object Error]",a_="[object Function]",y7="[object GeneratorFunction]",x7="[object Map]",b7="[object Number]",i_="[object Object]",w7="[object RegExp]",N7="[object Set]",_7="[object String]",S7="[object Symbol]",j7="[object WeakMap]",k7="[object ArrayBuffer]",C7="[object DataView]",E7="[object Float32Array]",P7="[object Float64Array]",T7="[object Int8Array]",$7="[object Int16Array]",A7="[object Int32Array]",O7="[object Uint8Array]",M7="[object Uint8ClampedArray]",D7="[object Uint16Array]",L7="[object Uint32Array]",Qe={};Qe[s_]=Qe[p7]=Qe[k7]=Qe[C7]=Qe[h7]=Qe[g7]=Qe[E7]=Qe[P7]=Qe[T7]=Qe[$7]=Qe[A7]=Qe[x7]=Qe[b7]=Qe[i_]=Qe[w7]=Qe[N7]=Qe[_7]=Qe[S7]=Qe[O7]=Qe[M7]=Qe[D7]=Qe[L7]=!0;Qe[v7]=Qe[a_]=Qe[j7]=!1;function tu(e,t,r,n,s,a){var o,c=t&d7,l=t&f7,u=t&m7;if(r&&(o=s?r(e,n,s,a):r(e)),o!==void 0)return o;if(!o7(e))return e;var d=s7(e);if(d){if(o=t7(e),!c)return KU(e,o)}else{var m=e7(e),f=m==a_||m==y7;if(a7(e))return qU(e,c);if(m==i_||m==s_||f&&!s){if(o=l||f?{}:n7(e),!c)return l?XU(e,GU(o,e)):QU(e,VU(o,e))}else{if(!Qe[m])return s?e:{};o=r7(e,m,c)}}a||(a=new YU);var y=a.get(e);if(y)return y;a.set(e,o),l7(e)?e.forEach(function(w){o.add(tu(w,t,r,w,e,a))}):i7(e)&&e.forEach(function(w,g){o.set(g,tu(w,t,r,g,e,a))});var v=u?l?JU:ZU:l?u7:c7,p=d?void 0:v(e);return HU(p||e,function(w,g){p&&(g=w,w=e[g]),BU(o,g,tu(w,t,r,g,e,a))}),o}var R7=tu;function I7(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var F7=I7,z7=Ld,U7=uN;function W7(e,t){return t.length<2?e:z7(e,U7(t,0,-1))}var Y7=W7,H7=Dd,B7=F7,V7=Y7,G7=Bl;function q7(e,t){return t=H7(t,e),e=V7(e,t),e==null||delete e[G7(B7(t))]}var K7=q7,Q7=to,X7=zd,Z7=sa,J7="[object Object]",e8=Function.prototype,t8=Object.prototype,o_=e8.toString,r8=t8.hasOwnProperty,n8=o_.call(Object);function s8(e){if(!Z7(e)||Q7(e)!=J7)return!1;var t=X7(e);if(t===null)return!0;var r=r8.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&o_.call(r)==n8}var a8=s8,i8=a8;function o8(e){return i8(e)?void 0:e}var l8=o8,c8=VN;function u8(e){var t=e==null?0:e.length;return t?c8(e,1):[]}var d8=u8,f8=d8,m8=GN,p8=KN;function h8(e){return p8(m8(e,void 0,f8),e+"")}var g8=h8,v8=_g,y8=R7,x8=K7,b8=Dd,w8=Vl,N8=l8,_8=g8,S8=r_,j8=1,k8=2,C8=4,E8=_8(function(e,t){var r={};if(e==null)return r;var n=!1;t=v8(t,function(a){return a=b8(a,e),n||(n=a.length>1),a}),w8(e,S8(e),r),n&&(r=y8(r,j8|k8|C8,N8));for(var s=t.length;s--;)x8(r,t[s]);return r}),P8=E8;const T8=pr(P8);var $8=JN,A8=n_,O8=Sg,M8=Id,D8=zd,L8=fn,R8=Ad,I8=Qh,F8=_s,z8=yg;function U8(e,t,r){var n=L8(e),s=n||R8(e)||z8(e);if(t=M8(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:F8(e)?r=I8(a)?A8(D8(e)):{}:r={}}return(s?$8:O8)(e,function(o,c,l){return t(r,o,c,l)}),r}var W8=U8;const Y8=pr(W8);var H8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n,s){n.prototype.isBetween=function(a,o,c,l){var u=s(a),d=s(o),m=(l=l||"()")[0]==="(",f=l[1]===")";return(m?this.isAfter(u,c):!this.isBefore(u,c))&&(f?this.isBefore(d,c):!this.isAfter(d,c))||(m?this.isBefore(u,c):!this.isAfter(u,c))&&(f?this.isAfter(d,c):!this.isBefore(d,c))}}})})(H8);var B8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(B8);var V8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(V8);var G8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n,s){var a=n.prototype,o=function(m){return m&&(m.indexOf?m:m.s)},c=function(m,f,y,v,p){var w=m.name?m:m.$locale(),g=o(w[f]),h=o(w[y]),x=g||h.map(function(_){return _.slice(0,v)});if(!p)return x;var N=w.weekStart;return x.map(function(_,P){return x[(P+(N||0))%7]})},l=function(){return s.Ls[s.locale()]},u=function(m,f){return m.formats[f]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,w){return p||w.slice(1)})}(m.formats[f.toUpperCase()])},d=function(){var m=this;return{months:function(f){return f?f.format("MMMM"):c(m,"months")},monthsShort:function(f){return f?f.format("MMM"):c(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):c(m,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):c(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):c(m,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(m.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var m=l();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return u(m,f)},meridiem:m.meridiem,ordinal:m.ordinal}},s.months=function(){return c(l(),"months")},s.monthsShort=function(){return c(l(),"monthsShort","months",3)},s.weekdays=function(m){return c(l(),"weekdays",null,null,m)},s.weekdaysShort=function(m){return c(l(),"weekdaysShort","weekdays",3,m)},s.weekdaysMin=function(m){return c(l(),"weekdaysMin","weekdays",2,m)}}})})(G8);var q8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var o=s.prototype,c=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(m,f){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(y,v,p){var w=p&&p.toUpperCase();return v||f[p]||r[p]||f[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,h,x){return h||x.slice(1)})})}(l,u===void 0?{}:u);return c.call(this,d)}}})})(q8);var K8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n,s){var a=function(o,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var l;c.length===1&&c[0].length>0&&(c=c[0]),l=(c=c.filter(function(d){return d}))[0];for(var u=1;u<c.length;u+=1)c[u].isValid()&&!c[u][o](l)||(l=c[u]);return l};s.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},s.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(K8);var Q8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,o,c){var l=o.prototype;c.utc=function(p){var w={date:p,utc:!0,args:arguments};return new o(w)},l.utc=function(p){var w=c(this.toDate(),{locale:this.$L,utc:!0});return p?w.add(this.utcOffset(),r):w},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var d=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else d.call(this)};var m=l.utcOffset;l.utcOffset=function(p,w){var g=this.$utils().u;if(g(p))return this.$u?0:g(this.$offset)?m.call(this):this.$offset;if(typeof p=="string"&&(p=function(_){_===void 0&&(_="");var P=_.match(n);if(!P)return null;var E=(""+P[0]).match(s)||["-",0,0],S=E[0],j=60*+E[1]+ +E[2];return j===0?0:S==="+"?j:-j}(p),p===null))return this;var h=Math.abs(p)<=16?60*p:p;if(h===0)return this.utc(w);var x=this.clone();if(w)return x.$offset=h,x.$u=!1,x;var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(x=this.local().add(h+N,r)).$offset=h,x.$x.$localOffset=N,x};var f=l.format;l.format=function(p){var w=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,w)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var v=l.diff;l.diff=function(p,w,g){if(p&&this.$u===p.$u)return v.call(this,p,w,g);var h=this.local(),x=c(p).local();return v.call(h,x,w,g)}}})})(Q8);var X8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rn,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(X8);function Rn(e){return e.children}var Ar={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},fr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},U0=Object.keys(fr).map(function(e){return fr[e]});ie.oneOfType([ie.string,ie.func]);ie.any;ie.func;ie.oneOfType([ie.arrayOf(ie.oneOf(U0)),ie.objectOf(function(e,t){var r=U0.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return ie.elementType.apply(ie,[e,t].concat(s))})]);ie.oneOfType([ie.oneOf(["overlap","no-overlap"]),ie.func]);var W0={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function l_(e,t){var r=Xt(e,"month");return Xt(r,"week",t.startOfWeek())}function c_(e,t){var r=Uu(e,"month");return Uu(r,"week",t.startOfWeek())}function Z8(e,t){for(var r=l_(e,t),n=c_(e,t),s=[];Zi(r,n,"day");)s.push(r),r=Tn(r,1,"day");return s}function J8(e,t){var r=Xt(e,t);return Ll(r,e)?r:Tn(r,1,t)}function eW(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];Zi(n,t,r);)s.push(n),n=Tn(n,1,r);return s}function tW(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Xt(e,"day"),e=bl(e,bl(t)),e=Fi(e,Fi(t)),e=xl(e,xl(t)),yl(e,yl(t)))}function Y0(e){return bl(e)===0&&Fi(e)===0&&xl(e)===0&&yl(e)===0}function rW(e,t,r,n){return r==="day"&&(r="date"),Math.abs(jy[r](e,void 0,n)-jy[r](t,void 0,n))}function Cg(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Xt(e,r)/W0[r]-+Xt(t,r)/W0[r]))}var nW=ie.oneOfType([ie.string,ie.func]);function sW(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return fl(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function aW(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Eg(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function iW(e,t){return Cg(e,t,"minutes")+Eg(e,t)}function oW(e){var t=Xt(e,"day");return Cg(t,e,"minutes")+Eg(t,e)}function lW(e,t){return Kh(e,t,"day")}function cW(e,t,r){var n=Ll(e,t,"minutes");return n?Rl(t,r,"minutes"):jd(t,r,"minutes")}function gp(e,t){return rW(e,t,"day")}function uW(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,o=a.start,c=a.end,l=a.allDay,u=+Xt(r,"day")-+Xt(o,"day"),d=gp(r,n),m=gp(o,c);return u||m-d||!!l-!!s||+r-+o||+n-+c}function dW(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,o=s.end,c=Xt(r,"day"),l=Zi(c,o,"day"),u=qh(c,n,"minutes"),d=u?jd(n,a,"minutes"):Rl(n,a,"minutes");return l&&d}function fW(e,t){return Ll(e,t,"day")}function mW(e,t){return Y0(e)&&Y0(t)}var pW=Lt(function e(t){var r=this;Dt(this,e),fl(typeof t.format=="function","date localizer `format(..)` must be a function"),fl(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||nW,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return sW.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||tW,this.inRange=t.inRange||aN,this.lt=t.lt||Kh,this.lte=t.lte||Zi,this.gt=t.gt||jd,this.gte=t.gte||Rl,this.eq=t.eq||Ll,this.neq=t.neq||qh,this.startOf=t.startOf||Xt,this.endOf=t.endOf||Uu,this.add=t.add||Tn,this.range=t.range||eW,this.diff=t.diff||Cg,this.ceil=t.ceil||J8,this.min=t.min||nN,this.max=t.max||sN,this.minutes=t.minutes||Fi,this.daySpan=t.daySpan||gp,this.firstVisibleDay=t.firstVisibleDay||l_,this.lastVisibleDay=t.lastVisibleDay||c_,this.visibleDays=t.visibleDays||Z8,this.getSlotDate=t.getSlotDate||aW,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Eg,this.getTotalMin=t.getTotalMin||iW,this.getMinutesFromMidnight=t.getMinutesFromMidnight||oW,this.continuesPrior=t.continuesPrior||lW,this.continuesAfter=t.continuesAfter||cW,this.sortEvents=t.sortEvents||uW,this.inEventRange=t.inEventRange||dW,this.isSameDate=t.isSameDate||fW,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||mW,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function hW(e,t,r,n){var s=qe(qe({},e.formats),r);return qe(qe({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,c){return e.format(o,s[c]||c,t)}})}var gW=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return R.createElement("div",{className:"rbc-toolbar"},R.createElement("span",{className:"rbc-btn-group"},R.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ar.TODAY)},s.today),R.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ar.PREVIOUS)},s.previous),R.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ar.NEXT)},s.next)),R.createElement("span",{className:"rbc-toolbar-label"},a),R.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(c){return R.createElement("button",{type:"button",key:c,className:xt({"rbc-active":o===c}),onClick:s.view.bind(null,c)},n[c])})}}])}(R.Component);function tt(e,t){e&&e.apply(null,[].concat(t))}var vW={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function yW(e){return qe(qe({},vW),e)}function xW(e){var t=e.ref,r=e.callback;b.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var bW=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],u_=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,o=n.event,c=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,m=n.onKeyPress,f=n.localizer,y=n.continuesPrior,v=n.continuesAfter,p=n.accessors,w=n.getters,g=n.children,h=n.components,x=h.event,N=h.eventWrapper,_=n.slotStart,P=n.slotEnd,E=Vn(n,bW);delete E.resizable;var S=p.title(o),j=p.tooltip(o),M=p.end(o),F=p.start(o),Q=p.allDay(o),B=l||Q||f.diff(F,f.ceil(M,"day"),"day")>1,O=w.eventProp(o,F,M,c),K=R.createElement("div",{className:"rbc-event-content",title:j||void 0},x?R.createElement(x,{event:o,continuesPrior:y,continuesAfter:v,title:S,isAllDay:Q,localizer:f,slotStart:_,slotEnd:P}):S);return R.createElement(N,Object.assign({},this.props,{type:"date"}),R.createElement("div",Object.assign({},E,{style:qe(qe({},O.style),s),className:xt("rbc-event",a,O.className,{"rbc-selected":c,"rbc-event-allday":B,"rbc-event-continues-prior":y,"rbc-event-continues-after":v}),onClick:function(Z){return u&&u(o,Z)},onDoubleClick:function(Z){return d&&d(o,Z)},onKeyDown:function(Z){return m&&m(o,Z)}}),typeof g=="function"?g(K):K))}}])}(R.Component);function Ud(e,t){return!e||t==null?!1:IR(e,t)}function d_(e,t){var r=e.right-e.left,n=r/t;return n}function f_(e,t,r,n){var s=d_(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function wW(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function NW(e,t,r,n,s){var a=-1,o=-1,c=n-1,l=d_(t,n),u=f_(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,m=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,y=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(a=0,o=c),d&&(y?(a=0,o=u):f&&(a=u,o=c)),m&&(a=o=s?c-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<a?a=u:o=u:e.y<r.y?o=c:a=0),{startIdx:a,endIdx:o}}function _W(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=_a(t),o=a.top,c=a.left,l=a.width,u=a.height,d=_a(n),m=d.top,f=d.left,y=d.width,v=d.height,p=_a(s),w=p.width,g=p.height,h=m+v,x=f+y,N=o+g,_=c+w,P=r.x,E=r.y,S=N>h?o-g-E:o+E+u,j=_>x?c+P-w+l:c+P;return{topOffset:S,leftOffset:j}}function SW(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,o=e.localizer,c=e.position,l=e.show,u=e.events,d=e.slotStart,m=e.slotEnd,f=e.onSelect,y=e.onDoubleClick,v=e.onKeyPress,p=e.handleDragStart,w=e.popperRef,g=e.target,h=e.offset;xW({ref:w,callback:l}),b.useLayoutEffect(function(){var _=_W({target:g,offset:h,container:t.current,box:w.current}),P=_.topOffset,E=_.leftOffset;w.current.style.top="".concat(P,"px"),w.current.style.left="".concat(E,"px")},[h.x,h.y,g]);var x=c.width,N={minWidth:x+x/2};return R.createElement("div",{style:N,className:"rbc-overlay",ref:w},R.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(_,P){return R.createElement(u_,{key:P,type:"popup",localizer:o,event:_,getters:n,onSelect:f,accessors:r,components:a,onDoubleClick:y,onKeyPress:v,continuesPrior:o.lt(r.end(_),d,"day"),continuesAfter:o.gte(r.start(_),m,"day"),slotStart:d,slotEnd:m,selected:Ud(_,s),draggable:!0,onDragStart:function(){return p(_)},onDragEnd:function(){return l()}})}))}var m_=R.forwardRef(function(e,t){return R.createElement(SW,Object.assign({},e,{popperRef:t}))});m_.propTypes={accessors:ie.object.isRequired,getters:ie.object.isRequired,selected:ie.object,components:ie.object.isRequired,localizer:ie.object.isRequired,position:ie.object.isRequired,show:ie.func.isRequired,events:ie.array.isRequired,slotStart:ie.instanceOf(Date).isRequired,slotEnd:ie.instanceOf(Date),onSelect:ie.func,onDoubleClick:ie.func,onKeyPress:ie.func,handleDragStart:ie.func,style:ie.object,offset:ie.shape({x:ie.number,y:ie.number})};function jW(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,o=e.localizer,c=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,m=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,y=e.handleDragStart,v=e.onHide,p=e.overlayDisplay,w=b.useRef(null);if(!s.position)return null;var g=n;isNaN(n)||(g={x:n,y:n});var h=s.position,x=s.events,N=s.date,_=s.end;return R.createElement(ug,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:s.target},function(P){var E=P.props;return R.createElement(m_,Object.assign({},E,{containerRef:t,ref:w,target:s.target,offset:g,accessors:a,getters:l,selected:u,components:c,localizer:o,position:h,show:p,events:x,slotStart:N,slotEnd:_,onSelect:d,onDoubleClick:m,onKeyPress:f,handleDragStart:y}))})}var Pg=R.forwardRef(function(e,t){return R.createElement(jW,Object.assign({},e,{containerRef:t}))});Pg.propTypes={popupOffset:ie.oneOfType([ie.number,ie.shape({x:ie.number,y:ie.number})]),overlay:ie.shape({position:ie.object,events:ie.array,date:ie.instanceOf(Date),end:ie.instanceOf(Date)}),accessors:ie.object.isRequired,localizer:ie.object.isRequired,components:ie.object.isRequired,getters:ie.object.isRequired,selected:ie.object,handleSelectEvent:ie.func,handleDoubleClickEvent:ie.func,handleKeyPressEvent:ie.func,handleDragStart:ie.func,onHide:ie.func,overlayDisplay:ie.func};function er(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return To(r,e,t,{passive:!1})}function kW(e,t,r){return!e||wl(e,document.elementFromPoint(t,r))}function CW(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return FN(s,".rbc-event",e)}function EW(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return FN(s,".rbc-show-more",e)}function qu(e,t){return!!CW(e,t)}function PW(e,t){return!!EW(e,t)}function jo(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var H0=5,TW=250,p_=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,c=r.validContainers,l=c===void 0?[]:c;Dt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=er("touchmove",function(){},window),this._removeKeyDownListener=er("keydown",this._keyListener),this._removeKeyUpListener=er("keyup",this._keyListener),this._removeDropFromOutsideListener=er("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=er("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Lt(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var o=s.indexOf(n);o!==-1&&s.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var o,c=this._listeners[r]||[];return c.forEach(function(l){o===void 0&&(o=l.apply(void 0,s))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:B0(n,La(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,o=null,c=null,l=function(f){a=setTimeout(function(){d(),r(f)},s.longPressThreshold),o=er("touchmove",function(){return d()}),c=er("touchend",function(){return d()})},u=er("touchstart",l),d=function(){a&&clearTimeout(a),o&&o(),c&&c(),a=null,o=null,c=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=er("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=er("mousedown",r._handleInitialEvent)}),s=er("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=jo(r),s=n.pageX,a=n.pageY,o=n.clientX,c=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:o,clientY:c}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=jo(r),s=n.pageX,a=n.pageY,o=n.clientX,c=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:o,clientY:c}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=jo(r),s=n.clientX,a=n.clientY,o=n.pageX,c=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!kW(l,s,a))){if(!this.globalMouse&&l&&!wl(l,r.target)){var m=$W(0),f=m.top,y=m.left,v=m.bottom,p=m.right;if(d=La(l),u=B0({top:d.top-f,left:d.left-y,bottom:d.bottom+v,right:d.right+p},{top:c,left:o}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:c,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=er("mouseup",this._handleTerminatingEvent),this._onEscListener=er("keydown",this._handleTerminatingEvent),this._removeMoveListener=er("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=er("touchend",this._handleTerminatingEvent),this._removeMoveListener=er("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||wl(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=jo(r),s=n.pageX,a=n.pageY,o=n.clientX,c=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<TW?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:o,clientY:c})):(this._lastClickData={timestamp:l},this.emit("click",{x:s,y:a,clientX:o,clientY:c}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,o=jo(r),c=o.pageX,l=o.pageY,u=Math.abs(s-c),d=Math.abs(a-l),m=Math.min(c,s),f=Math.min(l,a),y=this.selecting,v=this.isClick(c,l);v&&!y&&!(u||d)||(!y&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:f,left:m,x:c,y:l,right:m+u,bottom:f+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,o=s.y,c=s.isTouch;return!c&&Math.abs(r-a)<=H0&&Math.abs(n-o)<=H0}}])}();function $W(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ys(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function B0(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=La(e),s=n.top,a=n.left,o=n.right,c=o===void 0?a:o,l=n.bottom,u=l===void 0?s:l,d=La(t),m=d.top,f=d.left,y=d.right,v=y===void 0?f:y,p=d.bottom,w=p===void 0?m:p;return!(u-r<m||s+r>w||c-r<f||a+r>v)}function La(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+V0("left"),n=t.top+V0("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function V0(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var AW=function(e){function t(r,n){var s;return Dt(this,t),s=sr(this,t,[r,n]),s.state={selecting:!1},s.containerRef=b.createRef(),s}return ar(t,e),Lt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,o=n.getters,c=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,m=d.selecting,f=d.startIdx,y=d.endIdx,v=a();return R.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(p,w){var g=m&&w>=f&&w<=y,h=o.dayProp(p),x=h.className,N=h.style;return R.createElement(l,{key:w,value:p,range:s},R.createElement("div",{style:N,className:xt("rbc-day-bg",x,g&&"rbc-selected-cell",u.isSameDate(p,v)&&"rbc-today",c&&u.neq(c,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new p_(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qu(s,l)&&!PW(s,l)){var d=La(s),m=n.props,f=m.range,y=m.rtl;if(wW(d,l)){var v=f_(d,l.x,y,f.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(c){var l=n.props,u=l.range,d=l.rtl,m=-1,f=-1;if(n.state.selecting||(tt(n.props.onSelectStart,[c]),n._initial={x:c.x,y:c.y}),a.isSelected(s)){var y=La(s),v=NW(n._initial,y,c,u.length,d);m=v.startIdx,f=v.endIdx}n.setState({selecting:!0,startIdx:m,endIdx:f})}),a.on("beforeSelect",function(c){if(n.props.selectable==="ignoreEvents")return!qu(n.containerRef.current,c)}),a.on("click",function(c){return o(c,"click")}),a.on("doubleClick",function(c){return o(c,"doubleClick")}),a.on("select",function(c){n._selectSlot(qe(qe({},n.state),{},{action:"select",bounds:c})),n._initial={},n.setState({selecting:!1}),tt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,o=n.action,c=n.bounds,l=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:o,bounds:c,box:l,resourceId:this.props.resourceId})}}])}(R.Component),Qr={propTypes:{slotMetrics:ie.object.isRequired,selected:ie.object,isAllDay:ie.bool,accessors:ie.object.isRequired,localizer:ie.object.isRequired,components:ie.object.isRequired,getters:ie.object.isRequired,onSelect:ie.func,onDoubleClick:ie.func,onKeyPress:ie.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,o=t.onSelect,c=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,m=t.components,f=t.resizable,y=d.continuesPrior(r),v=d.continuesAfter(r);return R.createElement(u_,{event:r,getters:a,localizer:u,accessors:s,components:m,onSelect:o,onDoubleClick:c,onKeyPress:l,continuesPrior:y,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:Ud(r,n),resizable:f})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return R.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},h_=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,o=s.slotMetrics.slots,c=s.className,l=1;return R.createElement("div",{className:xt(c,"rbc-row")},a.reduce(function(u,d,m){var f=d.event,y=d.left,v=d.right,p=d.span,w="_lvl_"+m,g=y-l,h=Qr.renderEvent(n.props,f);return g&&u.push(Qr.renderSpan(o,g,"".concat(w,"_gap"))),u.push(Qr.renderSpan(o,p,w,h)),l=v+1,u},[]))}}])}(R.Component);h_.defaultProps=qe({},Qr.defaultProps);function g_(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function OW(e,t,r,n){var s=g_({dateRange:t,localizer:n}),a=s.first,o=s.last,c=n.diff(a,o,"day"),l=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),o),d=RI(t,function(f){return n.isSameDate(f,l)}),m=n.diff(l,u,"day");return m=Math.min(m,c),m=Math.max(m-n.segmentOffset,1),{event:e,span:m,left:d+1,right:Math.max(d+m,1)}}function vp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],o=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&MW(s,a[n]);n++);n>=t?o.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(c,l){return c.left-l.left});return{levels:a,extra:o}}function Sl(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},o={start:t,end:r};return s.inEventRange({event:a,range:o})}function MW(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function DW(e,t,r){var n=Jc(e),s=[],a=[];n.forEach(function(l){var u=t.start(l),d=t.end(l);r.daySpan(u,d)>1?s.push(l):a.push(l)});var o=s.sort(function(l,u){return yp(l,u,t,r)}),c=a.sort(function(l,u){return yp(l,u,t,r)});return[].concat(Jc(o),Jc(c))}function yp(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var xp=function(t,r){return t.left<=r&&t.right>=r},Yf=function(t,r){return t.filter(function(n){return xp(n,r)}).map(function(n){return n.event})},v_=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,o=vp(s).levels[0],c=1,l=1,u=[];c<=a;){var d="_lvl_"+c,m=o.filter(function(N){return xp(N,c)})[0]||{},f=m.event,y=m.left,v=m.right,p=m.span;if(!f){var w=this.getHiddenEventsForSlot(s,c);if(w.length>0){var g=c-l;g&&u.push(Qr.renderSpan(a,g,d+"_gap")),u.push(Qr.renderSpan(a,1,d,this.renderShowMore(s,c))),l=c=c+1;continue}c++;continue}var h=Math.max(0,y-l);if(this.canRenderSlotEvent(y,p)){var x=Qr.renderEvent(this.props,f);h&&u.push(Qr.renderSpan(a,h,d+"_gap")),u.push(Qr.renderSpan(a,p,d,x)),l=c=v+1}else h&&u.push(Qr.renderSpan(a,h,d+"_gap")),u.push(Qr.renderSpan(a,1,d,this.renderShowMore(s,c))),l=c=c+1}return R.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=Yf(n,s),o=vp(n).levels[0],c=o.filter(function(l){return xp(l,s)}).map(function(l){return l.event});return a.filter(function(l){return!c.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return KI(n,n+s).every(function(o){var c=Yf(a,o).length;return c===1})}},{key:"renderShowMore",value:function(n,s){var a=this,o=this.props,c=o.localizer,l=o.slotMetrics,u=o.components,d=l.getEventsForSlot(s),m=Yf(n,s),f=m.length;if(u!=null&&u.showMore){var y=u.showMore,v=l.getDateForSlot(s-1);return f?R.createElement(y,{localizer:c,slotDate:v,slot:s,count:f,events:d,remainingEvents:m}):!1}return f?R.createElement("button",{type:"button",key:"sm_"+s,className:xt("rbc-button-link","rbc-show-more"),onClick:function(w){return a.showMore(s,w)}},c.messages.showMore(f,m,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(R.Component);v_.defaultProps=qe({},Qr.defaultProps);var LW=function(t){var r=t.children;return R.createElement("div",{className:"rbc-row-content-scroll-container"},r)},RW=function(t,r){return t.left<=r&&t.right>=r},IW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function y_(){return HN(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,o=e.localizer,c=g_({dateRange:t,localizer:o}),l=c.first,u=c.last,d=r.map(function(p){return OW(p,t,a,o)}),m=vp(d,Math.max(n-1,1)),f=m.levels,y=m.extra,v=y.length>0?s-1:s;f.length<v;)f.push([]);return{first:l,last:u,levels:f,extra:y,range:t,slots:t.length,clone:function(w){var g=y_();return g(qe(qe({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(g){return o.isSameDate(g,w)})},getEventsForSlot:function(w){return d.filter(function(g){return RW(g,w)}).map(function(g){return g.event})},continuesPrior:function(w){return o.continuesPrior(a.start(w),l)},continuesAfter:function(w){var g=a.start(w),h=a.end(w);return o.continuesAfter(g,h,u)}}},IW)}var jl=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.handleSelectSlot=function(o){var c=r.props,l=c.range,u=c.onSelectSlot;u(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,c){var l=r.props,u=l.range,d=l.onShowMore,m=r.slotMetrics(r.props),f=RA(r.containerRef.current,".rbc-row-bg")[0],y;f&&(y=f.children[o-1]);var v=m.getEventsForSlot(o);d(v,u[o-1],y,o,c)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,c){var l=r.props,u=l.renderHeader,d=l.getNow,m=l.localizer;return u({date:o,key:"header_".concat(c),className:xt("rbc-date-cell",m.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,c=o.className,l=o.range,u=o.renderHeader,d=o.showAllEvents;return R.createElement("div",{className:c,ref:r.containerRef},R.createElement("div",{className:xt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&R.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),R.createElement("div",{className:"rbc-row",ref:r.eventRowRef},R.createElement("div",{className:"rbc-row-segment"},R.createElement("div",{className:"rbc-event"},R.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=b.createRef(),r.headingRowRef=b.createRef(),r.eventRowRef=b.createRef(),r.slotMetrics=y_(),r}return ar(t,e),Lt(t,[{key:"getRowLimit",value:function(){var n,s=zf(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?zf(this.headingRowRef.current):0,o=zf(this.containerRef.current)-a;return Math.max(Math.floor(o/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,o=n.range,c=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,m=n.accessors,f=n.getters,y=n.components,v=n.getNow,p=n.renderHeader,w=n.onSelect,g=n.localizer,h=n.onSelectStart,x=n.onSelectEnd,N=n.onDoubleClick,_=n.onKeyPress,P=n.resourceId,E=n.longPressThreshold,S=n.isAllDay,j=n.resizable,M=n.showAllEvents;if(d)return this.renderDummy();var F=this.slotMetrics(this.props),Q=F.levels,B=F.extra,O=M?LW:Rn,K=y.weekWrapper,T={selected:l,accessors:m,getters:f,localizer:g,components:y,onSelect:w,onDoubleClick:N,onKeyPress:_,resourceId:P,slotMetrics:F,resizable:j};return R.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},R.createElement(AW,{localizer:g,date:s,getNow:v,rtl:a,range:o,selectable:u,container:this.getContainer,getters:f,onSelectStart:h,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:E,resourceId:P}),R.createElement("div",{className:xt("rbc-row-content",M&&"rbc-row-content-scrollable"),role:"row"},p&&R.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),R.createElement(O,null,R.createElement(K,Object.assign({isAllDay:S},T,{rtl:this.props.rtl}),Q.map(function(Z,D){return R.createElement(h_,Object.assign({key:D,segments:Z},T))}),!!B.length&&R.createElement(v_,Object.assign({segments:B,onShowMore:this.handleShowMore},T))))))}}])}(R.Component);jl.defaultProps={minRows:0,maxRows:1/0};var Tg=function(t){var r=t.label;return R.createElement("span",{role:"columnheader","aria-sort":"none"},r)},FW=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?R.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):R.createElement("span",null,r)},zW=["date","className"],UW=function(t,r,n,s,a){return t.filter(function(o){return Sl(o,r,n,s,a)})},Wd=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,c){var l=r.props,u=l.events,d=l.components,m=l.selectable,f=l.getNow,y=l.selected,v=l.date,p=l.localizer,w=l.longPressThreshold,g=l.accessors,h=l.getters,x=l.showAllEvents,N=r.state,_=N.needLimitMeasure,P=N.rowLimit,E=UW(Jc(u),o[0],o[o.length-1],g,p),S=DW(E,g,p);return R.createElement(jl,{key:c,ref:c===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:f,date:v,range:o,events:S,maxRows:x?1/0:P,selected:y,selectable:m,components:d,accessors:g,getters:h,localizer:p,renderHeader:r.readerDateHeading,renderForMeasure:_,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:x})},r.readerDateHeading=function(o){var c=o.date,l=o.className,u=Vn(o,zW),d=r.props,m=d.date,f=d.getDrilldownView,y=d.localizer,v=y.neq(m,c,"month"),p=y.isSameDate(c,m),w=f(c),g=y.format(c,"dateFormat"),h=r.props.components.dateHeader||FW;return R.createElement("div",Object.assign({},u,{className:xt(l,v&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),R.createElement(h,{label:g,date:c,drilldownView:w,isOffRange:v,onDrillDown:function(N){return r.handleHeadingClick(c,w,N)}}))},r.handleSelectSlot=function(o,c){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(c)})},r.handleHeadingClick=function(o,c,l){l.preventDefault(),r.clearSelection(),tt(r.props.onDrillDown,[o,c])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onKeyPressEvent,c)},r.handleShowMore=function(o,c,l,u,d){var m=r.props,f=m.popup,y=m.onDrillDown,v=m.onShowMore,p=m.getDrilldownView,w=m.doShowMoreDrillDown;if(r.clearSelection(),f){var g=yN(l,r.containerRef.current);r.setState({overlay:{date:c,events:o,position:g,target:d}})}else w&&tt(y,[c,p(c)||fr.DAY]);tt(v,[o,c,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=b.createRef(),r.slotRowRef=b.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ar(t,e),Lt(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||xN(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.className,c=a.visibleDays(s,a),l=wA(c,7);return this._weekCount=l.length,R.createElement("div",{className:xt("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},R.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,o=s.components,c=n[0],l=n[n.length-1],u=o.header||Tg;return a.range(c,l,"day").map(function(d,m){return R.createElement("div",{key:"header_"+m,className:"rbc-header"},R.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,m=c.getters,f=c.selected,y=c.popupOffset,v=c.handleDragStart,p=function(){return a.setState({overlay:null})};return R.createElement(Pg,{overlay:o,accessors:l,localizer:u,components:d,getters:m,selected:f,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(c,l){return+c-+l});var a=new Date(s[0]),o=new Date(s[s.length-1]);o.setDate(s[s.length-1].getDate()+1),tt(this.props.onSelectSlot,{slots:s,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,s.date,"month")}}}])}(R.Component);Wd.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};Wd.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ar.PREVIOUS:return n.add(e,-1,"month");case Ar.NEXT:return n.add(e,1,"month");default:return e}};Wd.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var G0=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function $g(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,o=G0({step:n,localizer:a}),c=1+a.getTotalMin(t,r),l=a.getMinutesFromMidnight(t),u=Math.ceil((c-1)/(n*s)),d=u*s,m=new Array(u),f=new Array(d),y=0;y<u;y++){m[y]=new Array(s);for(var v=0;v<s;v++){var p=y*s+v,w=p*n;f[p]=m[y][v]=a.getSlotDate(t,l,w)}}var g=f.length*n;f.push(a.getSlotDate(t,l,g));function h(x){var N=a.diff(t,x,"minutes")+a.getDstOffset(t,x);return Math.min(N,c)}return{groups:m,update:function(N){return G0(N)!==o?$g(N):this},dateIsInGroup:function(N,_){var P=m[_+1];return a.inRange(N,m[_][0],P?P[0]:r,"minutes")},nextSlot:function(N){var _=f[Math.min(f.findIndex(function(P){return P===N||a.eq(P,N)})+1,f.length-1)];return a.eq(_,N)&&(_=a.add(N,n,"minutes")),_},closestSlotToPosition:function(N){var _=Math.min(f.length-1,Math.max(0,Math.floor(N*d)));return f[_]},closestSlotFromPoint:function(N,_){var P=Math.abs(_.top-_.bottom);return this.closestSlotToPosition((N.y-_.top)/P)},closestSlotFromDate:function(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(N,t,"minutes"))return f[0];if(a.gt(N,r,"minutes"))return f[f.length-1];var P=a.diff(t,N,"minutes");return f[(P-P%n)/n+_]},startsBeforeDay:function(N){return a.lt(N,t,"day")},startsAfterDay:function(N){return a.gt(N,r,"day")},startsBefore:function(N){return a.lt(a.merge(t,N),t,"minutes")},startsAfter:function(N){return a.gt(a.merge(r,N),r,"minutes")},getRange:function(N,_,P,E){P||(N=a.min(r,a.max(t,N))),E||(_=a.min(r,a.max(t,_)));var S=h(N),j=h(_),M=j>n*d&&!a.eq(r,_)?(S-n)/(n*d)*100:S/(n*d)*100;return{top:M,height:j/(n*d)*100-M,start:h(N),startDate:N,end:h(_),endDate:_}},getCurrentTimePosition:function(N){var _=h(N),P=_/(n*d)*100;return P}}}var WW=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Dt(this,e);var a=s.getRange(n.start(t),n.end(t)),o=a.start,c=a.startDate,l=a.end,u=a.endDate,d=a.top,m=a.height;this.start=o,this.end=l,this.startMs=+c,this.endMs=+u,this.top=d,this.height=m,this.data=t}return Lt(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,o=n.indexOf(this)+1;return s+o*a}}])}();function YW(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function HW(e){for(var t=h6(e,["startMs",function(c){return-c.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var o=t.splice(s,1)[0];r.push(o)}break}}}return r}function x_(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new WW(d,{slotMetrics:n,accessors:s})}),o=HW(a),c=[],l=function(){var m=o[u],f=c.find(function(p){return p.end>m.start||Math.abs(m.start-p.start)<r});if(!f)return m.rows=[],c.push(m),1;m.container=f;for(var y=null,v=f.rows.length-1;!y&&v>=0;v--)YW(f.rows[v],m,r)&&(y=f.rows[v]);y?(y.leaves.push(m),m.row=y):(m.leaves=[],f.rows.push(m))},u=0;u<o.length;u++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function b_(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=b_(e.friends[n],t,r);t=t>s?t:s}return t}function BW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=x_({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(K,T){return K=K.style,T=T.style,K.top!==T.top?K.top>T.top?1:-1:K.height!==T.height?K.top+K.height<T.top+T.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var c=0;c<a.length-1;++c)for(var l=a[c],u=l.style.top,d=l.style.top+l.style.height,m=c+1;m<a.length;++m){var f=a[m],y=f.style.top,v=f.style.top+f.style.height;(y>=u&&v<=d||v>u&&v<=d||y>=u&&y<d)&&(l.friends.push(f),f.friends.push(l))}for(var p=0;p<a.length;++p){for(var w=a[p],g=[],h=0;h<100;++h)g.push(1);for(var x=0;x<w.friends.length;++x)w.friends[x].idx!==void 0&&(g[w.friends[x].idx]=0);w.idx=g.indexOf(1)}for(var N=0;N<a.length;++N){var _=0;if(!a[N].size){var P=[],E=b_(a[N],0,P);_=100/(E+1),a[N].size=_;for(var S=0;S<P.length;++S)P[S].size=_}}for(var j=0;j<a.length;++j){var M=a[j];M.style.left=M.idx*M.size;for(var F=0,Q=0;Q<M.friends.length;++Q){var B=M.friends[Q].idx;F=F>B?F:B}F<=M.idx&&(M.size=100-M.idx*M.size);var O=M.idx===0?0:3;M.style.width="calc(".concat(M.size,"% - ").concat(O,"px)"),M.style.height="calc(".concat(M.style.height,"% - 2px)"),M.style.xOffset="calc(".concat(M.style.left,"% + ").concat(O,"px)")}return a}var q0={overlap:x_,"no-overlap":BW};function VW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function GW(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in q0&&(r=q0[t]),VW(r)?r.apply(this,arguments):[]}var w_=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,o=n.group,c=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,m=d===void 0?Rn:d,f=c?c.slotGroupProp(o):{};return R.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(y,v){var p=c?c.slotProp(y,a):{};return R.createElement(m,{key:v,value:y,resource:a},R.createElement("div",Object.assign({},p,{className:xt("rbc-time-slot",p.className)}),s&&s(y,v)))}))}}])}(b.Component);function Oc(e){return typeof e=="string"?e:e+"%"}function qW(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,o=e.selected,c=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,m=e.onClick,f=e.onDoubleClick,y=e.isBackgroundEvent,v=e.onKeyPress,p=e.components,w=p.event,g=p.eventWrapper,h=s.title(n),x=s.tooltip(n),N=s.end(n),_=s.start(n),P=d.eventProp(n,_,N,o),E=[R.createElement("div",{key:"1",className:"rbc-event-label"},c),R.createElement("div",{key:"2",className:"rbc-event-content"},w?R.createElement(w,{event:n,title:h}):h)],S=t.height,j=t.top,M=t.width,F=t.xOffset,Q=qe(qe({},P.style),{},ha({top:Oc(j),height:Oc(S),width:Oc(M)},a?"right":"left",Oc(F)));return R.createElement(g,Object.assign({type:"time"},e),R.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:f,style:Q,onKeyDown:v,title:x?(typeof c=="string"?c+": ":"")+x:void 0,className:xt(y?"rbc-background-event":"rbc-event",r,P.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},E))}var KW=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return R.createElement("div",{className:n,style:s,ref:a},r)},QW=R.forwardRef(function(e,t){return R.createElement(KW,Object.assign({},e,{innerRef:t}))}),XW=["dayProp"],ZW=["eventContainerWrapper","timeIndicatorWrapper"],N_=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var c=o.events,l=o.isBackgroundEvent,u=r.props,d=u.rtl,m=u.selected,f=u.accessors,y=u.localizer,v=u.getters,p=u.components,w=u.step,g=u.timeslots,h=u.dayLayoutAlgorithm,x=u.resizable,N=r,_=N.slotMetrics,P=y.messages,E=GW({events:c,accessors:f,slotMetrics:_,minimumStartDifference:Math.ceil(w*g/2),dayLayoutAlgorithm:h});return E.map(function(S,j){var M,F=S.event,Q=S.style,B=f.end(F),O=f.start(F),K=(M=f.eventId(F))!==null&&M!==void 0?M:"evt_"+j,T="eventTimeRangeFormat",Z,D=_.startsBeforeDay(O),U=_.startsAfterDay(B);D?T="eventTimeRangeEndFormat":U&&(T="eventTimeRangeStartFormat"),D&&U?Z=P.allDay:Z=y.format({start:O,end:B},T);var V=D||_.startsBefore(O),I=U||_.startsAfter(B);return R.createElement(qW,{style:Q,event:F,label:Z,key:K,getters:v,rtl:d,components:p,continuesPrior:V,continuesAfter:I,accessors:f,resource:r.props.resource,selected:Ud(F,m),onClick:function(G){return r._select(qe(qe(qe({},F),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),G)},onDoubleClick:function(G){return r._doubleClick(F,G)},isBackgroundEvent:l,onKeyPress:function(G){return r._keyPress(F,G)},resizable:x})})},r._selectable=function(){var o=r.containerRef.current,c=r.props,l=c.longPressThreshold,u=c.localizer,d=r._selector=new p_(function(){return o},{longPressThreshold:l}),m=function(p){var w=r.props.onSelecting,g=r.state||{},h=f(p),x=h.startDate,N=h.endDate;w&&(u.eq(g.startDate,x,"minutes")&&u.eq(g.endDate,N,"minutes")||w({start:x,end:N,resourceId:r.props.resource})===!1)||(r.state.start!==h.start||r.state.end!==h.end||r.state.selecting!==h.selecting)&&r.setState(h)},f=function(p){var w=r.slotMetrics.closestSlotFromPoint(p,La(o));r.state.selecting||(r._initialSlot=w);var g=r._initialSlot;u.lte(g,w)?w=r.slotMetrics.nextSlot(w):u.gt(g,w)&&(g=r.slotMetrics.nextSlot(g));var h=r.slotMetrics.getRange(u.min(g,w),u.max(g,w));return qe(qe({},h),{},{selecting:!0,top:"".concat(h.top,"%"),height:"".concat(h.height,"%")})},y=function(p,w){if(!qu(r.containerRef.current,p)){var g=f(p),h=g.startDate,x=g.endDate;r._selectSlot({startDate:h,endDate:x,action:w,box:p})}r.setState({selecting:!1})};d.on("selecting",m),d.on("selectStart",m),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!qu(r.containerRef.current,v)}),d.on("click",function(v){return y(v,"click")}),d.on("doubleClick",function(v){return y(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(qe(qe({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var c=o.startDate,l=o.endDate,u=o.action,d=o.bounds,m=o.box,f=c,y=[];r.props.localizer.lte(f,l);)y.push(f),f=new Date(+f+r.props.step*60*1e3);tt(r.props.onSelectSlot,{slots:y,start:c,end:l,resourceId:r.props.resource,action:u,bounds:d,box:m})},r._select=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onSelectEvent,c)},r._doubleClick=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onDoubleClickEvent,c)},r._keyPress=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onKeyPressEvent,c)},r.slotMetrics=$g(r.props),r.containerRef=b.createRef(),r}return ar(t,e),Lt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,c=a.isNow,l=a.localizer,u=a.date,d=a.min,m=a.max,f=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==c||f){if(this.clearTimeIndicatorInterval(),c){var y=!f&&l.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else c&&(l.neq(n.min,d,"minutes")||l.neq(n.max,m,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,o=n.getNow,c=o();if(c>=s&&c<=a){var l=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,o=n.rtl,c=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,m=n.getters,f=m.dayProp,y=Vn(m,XW),v=n.components,p=v.eventContainerWrapper,w=v.timeIndicatorWrapper,g=Vn(v,ZW);this.slotMetrics=this.slotMetrics.update(this.props);var h=this.slotMetrics,x=this.state,N=x.selecting,_=x.top,P=x.height,E=x.startDate,S=x.endDate,j={start:E,end:S},M=f(a,l),F=M.className,Q=M.style,B={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},O=g.dayColumnWrapper||QW;return R.createElement(O,{ref:this.containerRef,date:s,style:Q,className:xt(F,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",N&&"rbc-slot-selecting"),slotMetrics:h,resource:l},h.groups.map(function(K,T){return R.createElement(w_,{key:T,group:K,resource:l,getters:y,components:g})}),R.createElement(p,{localizer:d,resource:l,accessors:u,getters:y,components:g,slotMetrics:h},R.createElement("div",{className:xt("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),N&&R.createElement("div",{className:"rbc-slot-selection",style:{top:_,height:P}},R.createElement("span",null,d.format(j,"selectRangeFormat"))),c&&this.intervalTriggered&&R.createElement(w,B,R.createElement("div",B)))}}])}(R.Component);N_.defaultProps={dragThroughEvents:!0,timeslots:2};var __=function(t){var r=t.label;return R.createElement(R.Fragment,null,r)},JW=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.handleHeaderClick=function(o,c,l){l.preventDefault(),tt(r.props.onDrillDown,[o,c])},r.renderRow=function(o){var c=r.props,l=c.events,u=c.rtl,d=c.selectable,m=c.getNow,f=c.range,y=c.getters,v=c.localizer,p=c.accessors,w=c.components,g=c.resizable,h=p.resourceId(o),x=o?l.filter(function(N){return p.resource(N)===h}):l;return R.createElement(jl,{isAllDay:!0,rtl:u,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:f,events:x,resourceId:h,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:p,getters:y,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:g})},r}return ar(t,e),Lt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,o=a.localizer,c=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components.header,m=d===void 0?Tg:d,f=l();return n.map(function(y,v){var p=c(y),w=o.format(y,"dayFormat"),g=u(y),h=g.className,x=g.style,N=R.createElement(m,{date:y,label:w,localizer:o});return R.createElement("div",{key:v,style:x,className:xt("rbc-header",h,o.isSameDate(y,f)&&"rbc-today")},p?R.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(P){return s.handleHeaderClick(y,p,P)}},N):R.createElement("span",null,N))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,o=s.rtl,c=s.resources,l=s.range,u=s.events,d=s.getNow,m=s.accessors,f=s.selectable,y=s.components,v=s.getters,p=s.scrollRef,w=s.localizer,g=s.isOverflowing,h=s.components,x=h.timeGutterHeader,N=h.resourceHeader,_=N===void 0?__:N,P=s.resizable,E={};g&&(E[o?"marginLeft":"marginRight"]="".concat(cg()-1,"px"));var S=c.groupEvents(u);return R.createElement("div",{style:E,ref:p,className:xt("rbc-time-header",g&&"rbc-overflowing")},R.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},x&&R.createElement(x,null)),c.map(function(j,M){var F=en(j,2),Q=F[0],B=F[1];return R.createElement("div",{className:"rbc-time-header-content",key:Q||M},B&&R.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(M)},R.createElement("div",{className:"rbc-header"},R.createElement(_,{index:M,label:m.resourceTitle(B),resource:B}))),R.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),R.createElement(jl,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:S.get(Q)||[],resourceId:B&&Q,className:"rbc-allday-cell",selectable:f,selected:n.props.selected,components:y,accessors:m,getters:v,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:P}))}))}}])}(R.Component),eY=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.handleHeaderClick=function(o,c,l){l.preventDefault(),tt(r.props.onDrillDown,[o,c])},r}return ar(t,e),Lt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,o=a.localizer,c=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components,m=d.header,f=m===void 0?Tg:m,y=d.resourceHeader,v=y===void 0?__:y,p=a.resources,w=a.accessors,g=a.events,h=a.rtl,x=a.selectable,N=a.components,_=a.getters,P=a.resizable,E=l(),S=p.groupEvents(g);return n.map(function(j,M){var F=c(j),Q=o.format(j,"dayFormat"),B=u(j),O=B.className,K=B.style,T=R.createElement(f,{date:j,label:Q,localizer:o});return R.createElement("div",{key:M,className:"rbc-time-header-content rbc-resource-grouping"},R.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},R.createElement("div",{style:K,className:xt("rbc-header",O,o.isSameDate(j,E)&&"rbc-today")},F?R.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return s.handleHeaderClick(j,F,D)}},T):R.createElement("span",null,T))),R.createElement("div",{className:"rbc-row"},p.map(function(Z,D){var U=en(Z,2),V=U[0],I=U[1];return R.createElement("div",{key:"resource_".concat(V,"_").concat(D),className:xt("rbc-header",O,o.isSameDate(j,E)&&"rbc-today")},R.createElement(v,{index:D,label:w.resourceTitle(I),resource:I}))})),R.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(Z,D){var U=en(Z,2),V=U[0],I=U[1],z=(S.get(V)||[]).filter(function(G){return o.isSameDate(G.start,j)||o.isSameDate(G.end,j)});return R.createElement(jl,{key:"resource_".concat(V,"_").concat(D),isAllDay:!0,rtl:h,getNow:l,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[j],events:z,resourceId:I&&V,className:"rbc-allday-cell",selectable:x,selected:s.props.selected,components:N,accessors:w,getters:_,localizer:o,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:P})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,o=n.range,c=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(cg()-1,"px")),R.createElement("div",{style:d,ref:c,className:xt("rbc-time-header",l&&"rbc-overflowing")},R.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&R.createElement(u,null)),this.renderHeaderCells(o))}}])}(R.Component);function tY(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var rY=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,o=t.localizer,c=t.getNow,l=t.resource,u=t.components,d=t.getters,m=t.gutterRef,f=u.timeGutterWrapper,y=b.useMemo(function(){return tY({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),v=y.start,p=y.end,w=b.useState($g({min:v,max:p,timeslots:s,step:a,localizer:o})),g=en(w,2),h=g[0],x=g[1];b.useEffect(function(){h&&x(h.update({min:v,max:p,timeslots:s,step:a,localizer:o}))},[v==null?void 0:v.toISOString(),p==null?void 0:p.toISOString(),s,a]);var N=b.useCallback(function(_,P){if(P)return null;var E=h.dateIsInGroup(c(),P);return R.createElement("span",{className:xt("rbc-label",E&&"rbc-now")},o.format(_,"timeGutterFormat"))},[h,o,c]);return R.createElement(f,{slotMetrics:h},R.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},h.groups.map(function(_,P){return R.createElement(w_,{key:P,group:_,resource:l,components:u,renderSlot:N,getters:d})})))},nY=R.forwardRef(function(e,t){return R.createElement(rY,Object.assign({gutterRef:t},e))}),Hf={};function sY(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([Hf,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var o=t.resource(a)||Hf;if(Array.isArray(o))o.forEach(function(l){var u=s.get(l)||[];u.push(a),s.set(l,u)});else{var c=s.get(o)||[];c.push(a),s.set(o,c)}}),s):(s.set(Hf,n),s)}}}var oo=function(e){function t(r){var n;return Dt(this,t),n=sr(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){My(n.rafHandle),n.rafHandle=xN(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];tt(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];tt(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];tt(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,o,c,l){var u=n.props,d=u.popup,m=u.onDrillDown,f=u.onShowMore,y=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var p=yN(o,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:qe(qe({},p),{},{width:"200px"}),target:l}})}else v&&tt(m,[a,y(a)||fr.DAY]);tt(f,[s,a,c])},n.handleSelectAllDaySlot=function(s,a){var o=n.props.onSelectSlot,c=new Date(s[0]),l=new Date(s[s.length-1]);l.setDate(s[s.length-1].getDate()+1),tt(o,{slots:s,start:c,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=HN(function(s,a){return sY(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=R.createRef(),n.contentRef=R.createRef(),n.containerRef=R.createRef(),n._scrollRatio=null,n.gutterRef=b.createRef(),n}return ar(t,e),Lt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),My(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,o,c,l,u,d,m,f){var y=this.props,v=y.min,p=y.max,w=(o.get(s)||[]).filter(function(h){return l.inRange(n,u.start(h),u.end(h),"day")}),g=(c.get(s)||[]).filter(function(h){return l.inRange(n,u.start(h),u.end(h),"day")});return R.createElement(N_,Object.assign({},this.props,{localizer:l,min:l.merge(n,v),max:l.merge(n,p),resource:a&&s,components:d,isNow:l.isSameDate(n,f),key:"".concat(s,"-").concat(n),date:n,events:w,backgroundEvents:g,dayLayoutAlgorithm:m}))}},{key:"renderResourcesFirst",value:function(n,s,a,o,c,l,u,d,m){var f=this;return s.map(function(y){var v=en(y,2),p=v[0],w=v[1];return n.map(function(g){return f.renderDayColumn(g,p,w,a,o,c,l,d,m,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,o,c,l,u,d,m){var f=this;return n.map(function(y){return R.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},s.map(function(v){var p=en(v,2),w=p[0],g=p[1];return R.createElement("div",{style:{flex:1},key:l.resourceId(g)},f.renderDayColumn(y,w,g,a,o,c,l,d,m,u))}))})}},{key:"renderEvents",value:function(n,s,a,o){var c=this.props,l=c.accessors,u=c.localizer,d=c.resourceGroupingLayout,m=c.components,f=c.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,l),v=y.groupEvents(s),p=y.groupEvents(a);return d?this.renderRangeFirst(n,y,v,p,u,l,o,m,f):this.renderResourcesFirst(n,y,v,p,u,l,o,m,f)}},{key:"render",value:function(){var n,s=this.props,a=s.events,o=s.backgroundEvents,c=s.range,l=s.width,u=s.rtl,d=s.selected,m=s.getNow,f=s.resources,y=s.components,v=s.accessors,p=s.getters,w=s.localizer,g=s.min,h=s.max,x=s.showMultiDayTimes,N=s.longPressThreshold,_=s.resizable,P=s.resourceGroupingLayout;l=l||this.state.gutterWidth;var E=c[0],S=c[c.length-1];this.slots=c.length;var j=[],M=[],F=[];a.forEach(function(B){if(Sl(B,E,S,v,w)){var O=v.start(B),K=v.end(B);v.allDay(B)||w.startAndEndAreDateOnly(O,K)||!x&&!w.isSameDate(O,K)?j.push(B):M.push(B)}}),o.forEach(function(B){Sl(B,E,S,v,w)&&F.push(B)}),j.sort(function(B,O){return yp(B,O,v,w)});var Q={range:c,events:j,width:l,rtl:u,getNow:m,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(f,v),selectable:this.props.selectable,accessors:v,getters:p,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:N,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:_};return R.createElement("div",{className:xt("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&P?R.createElement(eY,Q):R.createElement(JW,Q),this.props.popup&&this.renderOverlay(),R.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},R.createElement(nY,{date:E,ref:this.gutterRef,localizer:w,min:w.merge(E,g),max:w.merge(E,h),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:p}),this.renderEvents(c,M,F,m())))}},{key:"renderOverlay",value:function(){var n,s,a=this,o=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,m=c.getters,f=c.selected,y=c.popupOffset,v=c.handleDragStart,p=function(){return a.setState({overlay:null})};return R.createElement(Pg,{overlay:o,accessors:l,localizer:u,components:d,getters:m,selected:f,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?hp(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,o=n.scrollToTime,c=n.localizer,l=c.diff(c.merge(o,s),o,"milliseconds"),u=c.diff(s,a,"milliseconds");this._scrollRatio=l/u}}])}(b.Component);oo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var aY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Yd=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,c=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,m=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,v=Vn(n,aY),p=t.range(s,{localizer:a});return R.createElement(oo,Object.assign({},v,{range:p,eventOffset:10,localizer:a,min:c,max:u,scrollToTime:m,enableAutoScroll:y}))}}])}(R.Component);Yd.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Yd.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ar.PREVIOUS:return n.add(e,-1,"day");case Ar.NEXT:return n.add(e,1,"day");default:return e}};Yd.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var iY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Js=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,c=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,m=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,v=Vn(n,iY),p=t.range(s,this.props);return R.createElement(oo,Object.assign({},v,{range:p,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:m,enableAutoScroll:y}))}}])}(R.Component);Js.defaultProps=oo.defaultProps;Js.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ar.PREVIOUS:return n.add(e,-1,"week");case Ar.NEXT:return n.add(e,1,"week");default:return e}};Js.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};Js.title=function(e,t){var r=t.localizer,n=Js.range(e,{localizer:r}),s=XN(n),a=s[0],o=s.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var oY=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ag(e,t){return Js.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Gl=function(e){function t(){return Dt(this,t),sr(this,t,arguments)}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,o=n.min,c=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,m=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,v=Vn(n,oY),p=Ag(s,this.props);return R.createElement(oo,Object.assign({},v,{range:p,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:m,enableAutoScroll:y}))}}])}(R.Component);Gl.defaultProps=oo.defaultProps;Gl.range=Ag;Gl.navigate=Js.navigate;Gl.title=function(e,t){var r=t.localizer,n=Ag(e,{localizer:r}),s=XN(n),a=s[0],o=s.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var Hd=30;function Bd(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,o=e.length,c=o===void 0?Hd:o,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,m=e.selected,f=b.useRef(null),y=b.useRef(null),v=b.useRef(null),p=b.useRef(null),w=b.useRef(null);b.useEffect(function(){x()});var g=function(S,j,M){var F=r.event,Q=r.date;return j=j.filter(function(B){return Sl(B,l.startOf(S,"day"),l.endOf(S,"day"),t,l)}),j.map(function(B,O){var K=t.title(B),T=t.end(B),Z=t.start(B),D=a.eventProp(B,Z,T,Ud(B,m)),U=O===0&&l.format(S,"agendaDateFormat"),V=O===0?R.createElement("td",{rowSpan:j.length,className:"rbc-agenda-date-cell"},Q?R.createElement(Q,{day:S,label:U}):U):!1;return R.createElement("tr",{key:M+"_"+O,className:D.className,style:D.style},V,R.createElement("td",{className:"rbc-agenda-time-cell"},h(S,B)),R.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(z){return d&&d(B,z)},onDoubleClick:function(z){return u&&u(B,z)}},F?R.createElement(F,{event:B,title:K}):K))},[])},h=function(S,j){var M="",F=r.time,Q=l.messages.allDay,B=t.end(j),O=t.start(j);return t.allDay(j)||(l.eq(O,B)?Q=l.format(O,"agendaTimeFormat"):l.isSameDate(O,B)?Q=l.format({start:O,end:B},"agendaTimeRangeFormat"):l.isSameDate(S,O)?Q=l.format(O,"agendaTimeFormat"):l.isSameDate(S,B)&&(Q=l.format(B,"agendaTimeFormat"))),l.gt(S,O,"day")&&(M="rbc-continues-prior"),l.lt(S,B,"day")&&(M+=" rbc-continues-after"),R.createElement("span",{className:M.trim()},F?R.createElement(F,{event:j,day:S,label:Q}):Q)},x=function(){if(w.current){var S=f.current,j=w.current.firstChild;if(j){var M=p.current.scrollHeight>p.current.clientHeight,F=[],Q=F;F=[hp(j.children[0]),hp(j.children[1])],(Q[0]!==F[0]||Q[1]!==F[1])&&(y.current.style.width=F[0]+"px",v.current.style.width=F[1]+"px"),M?(lM(S,"rbc-header-overflowing"),S.style.marginRight=cg()+"px"):cM(S,"rbc-header-overflowing")}}},N=l.messages,_=l.add(n,c,"day"),P=l.range(n,_,"day");return s=s.filter(function(E){return Sl(E,l.startOf(n,"day"),l.endOf(_,"day"),t,l)}),s.sort(function(E,S){return+t.start(E)-+t.start(S)}),R.createElement("div",{className:"rbc-agenda-view"},s.length!==0?R.createElement(R.Fragment,null,R.createElement("table",{ref:f,className:"rbc-agenda-table"},R.createElement("thead",null,R.createElement("tr",null,R.createElement("th",{className:"rbc-header",ref:y},N.date),R.createElement("th",{className:"rbc-header",ref:v},N.time),R.createElement("th",{className:"rbc-header"},N.event)))),R.createElement("div",{className:"rbc-agenda-content",ref:p},R.createElement("table",{className:"rbc-agenda-table"},R.createElement("tbody",{ref:w},P.map(function(E,S){return g(E,s,S)}))))):R.createElement("span",{className:"rbc-agenda-empty"},N.noEventsInRange))}Bd.range=function(e,t){var r=t.length,n=r===void 0?Hd:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};Bd.navigate=function(e,t,r){var n=r.length,s=n===void 0?Hd:n,a=r.localizer;switch(t){case Ar.PREVIOUS:return a.add(e,-s,"day");case Ar.NEXT:return a.add(e,s,"day");default:return e}};Bd.title=function(e,t){var r=t.length,n=r===void 0?Hd:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var ru=ha(ha(ha(ha(ha({},fr.MONTH,Wd),fr.WEEK,Js),fr.WORK_WEEK,Gl),fr.DAY,Yd),fr.AGENDA,Bd),lY=["action","date","today"];function cY(e,t){var r=t.action,n=t.date,s=t.today,a=Vn(t,lY);switch(e=typeof e=="string"?ru[e]:e,r){case Ar.TODAY:n=s||new Date;break;case Ar.DATE:break;default:fl(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function uY(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&ys(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var ts=function(t){return function(r){return uY(r,t)}},dY=["view","date","getNow","onNavigate"],fY=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function S_(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=en(n[r],2),a=s[0],o=s[1];o&&t.push(a)}return t}function mY(e,t){var r=t.views,n=S_(r);return n.indexOf(e)!==-1}var j_=function(e){function t(){var r;Dt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=sr(this,t,[].concat(s)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?Y8(o,function(c,l){return c[l]=ru[l]},{}):ys(o)==="object"?Y6(o,function(c,l){return c===!0?ru[l]:c}):ru},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var c=r.props,l=c.view,u=c.drilldownView,d=c.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,c,l){var u=r.props,d=u.onRangeChange,m=u.localizer;d&&c.range&&d(c.range(o,{localizer:m}),l)},r.handleNavigate=function(o,c){var l=r.props,u=l.view,d=l.date,m=l.getNow,f=l.onNavigate,y=Vn(l,dY),v=r.getView(),p=m();d=cY(v,qe(qe({},y),{},{action:o,date:c||d||p,today:p})),f(d,u,o),r.handleRangeChange(d,v)},r.handleViewChange=function(o){o!==r.props.view&&mY(o,r.props)&&r.props.onView(o);var c=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),c[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];tt(r.props.onKeyPressEvent,c)},r.handleSelectSlot=function(o){tt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,c){var l=r.props.onDrillDown;if(l){l(o,c,r.drilldownView);return}c&&r.handleViewChange(c),r.handleNavigate(Ar.DATE,o)},r.state={context:t.getContext(r.props)},r}return ar(t,e),Lt(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,o=n.events,c=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,m=n.elementProps,f=n.date,y=n.getNow,v=n.length,p=n.showMultiDayTimes,w=n.onShowMore,g=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var h=Vn(n,fY);f=f||y();var x=this.getView(),N=this.state.context,_=N.accessors,P=N.components,E=N.getters,S=N.localizer,j=N.viewNames,M=P.toolbar||gW,F=x.title(f,{localizer:S,length:v});return R.createElement("div",Object.assign({},m,{className:xt(d,"rbc-calendar",h.rtl&&"rbc-rtl"),style:u}),a&&R.createElement(M,{date:f,view:s,views:j,label:F,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:S}),R.createElement(x,Object.assign({},h,{events:o,backgroundEvents:c,date:f,getNow:y,length:v,localizer:S,getters:E,components:P,accessors:_,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:g,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,c=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,m=n.resourceTitleAccessor,f=n.eventIdAccessor,y=n.eventPropGetter,v=n.backgroundEventPropGetter,p=n.slotPropGetter,w=n.slotGroupPropGetter,g=n.dayPropGetter,h=n.view,x=n.views,N=n.localizer,_=n.culture,P=n.messages,E=P===void 0?{}:P,S=n.components,j=S===void 0?{}:S,M=n.formats,F=M===void 0?{}:M,Q=S_(x),B=yW(E);return{viewNames:Q,localizer:hW(N,_,F,B),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return g&&g.apply(void 0,arguments)||{}}},components:L6(j[h]||{},T8(j,Q),{eventWrapper:Rn,backgroundEventWrapper:Rn,eventContainerWrapper:Rn,dateCellWrapper:Rn,weekWrapper:Rn,timeSlotWrapper:Rn,timeGutterWrapper:Rn,timeIndicatorWrapper:Rn}),accessors:{start:ts(s),end:ts(a),allDay:ts(o),tooltip:ts(c),title:ts(l),resource:ts(u),resourceId:ts(d),resourceTitle:ts(m),eventId:ts(f)}}}}])}(R.Component);j_.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:fr.MONTH,views:[fr.MONTH,fr.WEEK,fr.DAY,fr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:fr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var pY=X1(j_,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),hY=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+"  "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},gY=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+"  "+n.format(a,"L",r)},Bf=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+"  "+n.format(a,"LT",r)},vY=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+"  "},yY=function(t,r,n){var s=t.end;return"  "+n.format(s,"LT",r)},xY={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Bf,eventTimeRangeFormat:Bf,eventTimeRangeStartFormat:vY,eventTimeRangeEndFormat:yY,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:hY,agendaHeaderFormat:gY,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Bf};function $s(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function bY(e){var t=function(z,G){return G?z.locale(G):z};function r(I){return e(I).toDate().getTimezoneOffset()}function n(I,z){var G,J,te=e(I).local(),de=e(z).local();if(!e.tz)return te.toDate().getTimezoneOffset()-de.toDate().getTimezoneOffset();var me=(G=te==null||(J=te._z)===null||J===void 0?void 0:J.name)!==null&&G!==void 0?G:e.tz.guess(),he=e.tz.zone(me).utcOffset(+te),je=e.tz.zone(me).utcOffset(+de);return he-je}function s(I){var z=e(I).startOf("day");return n(z,I)}function a(I,z,G){var J=$s(G),te=J?e(I).startOf(J):e(I),de=J?e(z).startOf(J):e(z);return[te,de,J]}function o(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,z=arguments.length>1?arguments[1]:void 0,G=$s(z);return G?e(I).startOf(G).toDate():e(I).toDate()}function c(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,z=arguments.length>1?arguments[1]:void 0,G=$s(z);return G?e(I).endOf(G).toDate():e(I).toDate()}function l(I,z,G){var J=a(I,z,G),te=en(J,3),de=te[0],me=te[1],he=te[2];return de.isSame(me,he)}function u(I,z,G){return!l(I,z,G)}function d(I,z,G){var J=a(I,z,G),te=en(J,3),de=te[0],me=te[1],he=te[2];return de.isAfter(me,he)}function m(I,z,G){var J=a(I,z,G),te=en(J,3),de=te[0],me=te[1],he=te[2];return de.isBefore(me,he)}function f(I,z,G){var J=a(I,z,G),te=en(J,3),de=te[0],me=te[1],he=te[2];return de.isSameOrBefore(me,he)}function y(I,z,G){var J=a(I,z,G),te=en(J,3),de=te[0],me=te[1],he=te[2];return de.isSameOrBefore(me,he)}function v(I,z,G){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",te=$s(J),de=e(I),me=e(z),he=e(G);return de.isBetween(me,he,te,"[]")}function p(I,z){var G=e(I),J=e(z),te=e.min(G,J);return te.toDate()}function w(I,z){var G=e(I),J=e(z),te=e.max(G,J);return te.toDate()}function g(I,z){if(!I&&!z)return null;var G=e(z).format("HH:mm:ss"),J=e(I).startOf("day").format("MM/DD/YYYY");return e("".concat(J," ").concat(G),"MM/DD/YYYY HH:mm:ss").toDate()}function h(I,z,G){var J=$s(G);return e(I).add(z,J).toDate()}function x(I,z){for(var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",J=$s(G),te=e(I).toDate(),de=[];y(te,z);)de.push(te),te=h(te,1,J);return de}function N(I,z){var G=$s(z),J=o(I,G);return l(J,I)?J:h(J,1,G)}function _(I,z){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",J=$s(G),te=e(I),de=e(z);return de.diff(te,J)}function P(I){var z=e(I);return z.minutes()}function E(I){var z=I?e.localeData(I):e.localeData();return z?z.firstDayOfWeek():0}function S(I){return e(I).startOf("month").startOf("week").toDate()}function j(I){return e(I).endOf("month").endOf("week").toDate()}function M(I){for(var z=S(I),G=j(I),J=[];y(z,G);)J.push(z),z=h(z,1,"d");return J}function F(I,z,G){return e(I).startOf("day").minute(z+G).toDate()}function Q(I,z){return _(I,z,"minutes")}function B(I){var z=e(I).startOf("day"),G=e(I);return G.diff(z,"minutes")+s(I)}function O(I,z){var G=e(I),J=e(z);return G.isBefore(J,"day")}function K(I,z,G){var J=e(z),te=e(G);return J.isSameOrAfter(te,"minutes")}function T(I,z){var G=e(I),J=e(z),te=e.duration(J.diff(G));return te.days()}function Z(I){var z=I.evtA,G=z.start,J=z.end,te=z.allDay,de=I.evtB,me=de.start,he=de.end,je=de.allDay,Te=+o(G,"day")-+o(me,"day"),Ce=T(G,J),Ee=T(me,he);return Te||Ee-Ce||!!je-!!te||+G-+me||+J-+he}function D(I){var z=I.event,G=z.start,J=z.end,te=I.range,de=te.start,me=te.end,he=e(G).startOf("day"),je=e(J),Te=e(de),Ce=e(me),Ee=he.isSameOrBefore(Ce,"day"),ze=!he.isSame(je,"minutes"),bt=ze?je.isAfter(Te,"minutes"):je.isSameOrAfter(Te,"minutes");return Ee&&bt}function U(I,z){var G=e(I),J=e(z);return G.isSame(J,"day")}function V(){var I=new Date,z=/-/.test(I.toString())?"-":"",G=I.getTimezoneOffset(),J=Number("".concat(z).concat(Math.abs(G))),te=e().utcOffset();return te>J?1:0}return new pW({formats:xY,firstOfWeek:E,firstVisibleDay:S,lastVisibleDay:j,visibleDays:M,format:function(z,G,J){return t(e(z),J).format(G)},lt:m,lte:y,gt:d,gte:f,eq:l,neq:u,merge:g,inRange:v,startOf:o,endOf:c,range:x,add:h,diff:_,ceil:N,min:p,max:w,minutes:P,getSlotDate:F,getTimezoneOffset:r,getDstOffset:n,getTotalMin:Q,getMinutesFromMidnight:B,continuesPrior:O,continuesAfter:K,sortEvents:Z,inEventRange:D,isSameDate:U,daySpan:T,browserTZOffset:V})}const wY=bY(q),NY=({date:e,label:t})=>{const r=q(e),n=r.isValid()?r.format("ddd DD"):t||"";return i.jsx("div",{className:"coach-calendar-week-header",children:n})},K0={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},bp=(e,t)=>{if(!e||!t)return null;const[r,n]=t.split(":").map(Number);if(Number.isNaN(r)||Number.isNaN(n))return null;const s=new Date(e);return Number.isNaN(s.getTime())?null:(s.setHours(r,n,0,0),s)},nu=e=>{const t=new Date(e),r=t.getDay();return t.setDate(t.getDate()-r),t.setHours(0,0,0,0),t},Q0=e=>{if(!e)return null;const t=q(String(e).replace(/Z$/,"")).toDate();if(!Number.isNaN(t.getTime()))return t;const r=q(String(e)).toDate();return Number.isNaN(r.getTime())?null:r},k_=e=>Number((e==null?void 0:e.lessontype_id)??(e==null?void 0:e.lesson_type_id)??(e==null?void 0:e.lessonTypeId)),_Y=e=>e===2||e==="2"||e&&String(e).toLowerCase().includes("cancel")?"cancelled":"confirmed",Vf=(...e)=>{for(const t of e){const r=Number(t);if(Number.isFinite(r))return r}return null},C_=e=>{var o,c,l,u,d,m,f,y,v,p,w,g,h;const t=(e==null?void 0:e.cancelledBy)||(e==null?void 0:e.cancelled_by)||(e==null?void 0:e.canceledBy)||(e==null?void 0:e.canceled_by)||((o=e==null?void 0:e.metadata)==null?void 0:o.cancelledBy)||((c=e==null?void 0:e.metadata)==null?void 0:c.cancelled_by)||((l=e==null?void 0:e.metadata)==null?void 0:l.canceledBy)||((u=e==null?void 0:e.metadata)==null?void 0:u.canceled_by)||"",r=String(t).toLowerCase();if(r.includes("coach"))return"coach";if(r.includes("player")||r.includes("student"))return"player";const n=Vf(e==null?void 0:e.updated_by,e==null?void 0:e.updatedBy,(d=e==null?void 0:e.metadata)==null?void 0:d.updated_by,(m=e==null?void 0:e.metadata)==null?void 0:m.updatedBy),s=Vf(e==null?void 0:e.coach_id,e==null?void 0:e.coachId,(f=e==null?void 0:e.coach)==null?void 0:f.id,(y=e==null?void 0:e.coach)==null?void 0:y.coach_id,(v=e==null?void 0:e.metadata)==null?void 0:v.coach_id,(p=e==null?void 0:e.metadata)==null?void 0:p.coachId),a=Vf(e==null?void 0:e.player_id,e==null?void 0:e.playerId,(w=e==null?void 0:e.player)==null?void 0:w.id,(g=e==null?void 0:e.metadata)==null?void 0:g.player_id,(h=e==null?void 0:e.metadata)==null?void 0:h.playerId);return n!==null&&s!==null&&n===s?"coach":n!==null&&a!==null&&n===a?"player":""},SY=e=>k_(e)===2?!0:String((e==null?void 0:e.lesson_type_name)??(e==null?void 0:e.lessonType)??(e==null?void 0:e.type)??"").toLowerCase().includes("semi"),wp=e=>Array.isArray(e==null?void 0:e.group_players)?e.group_players:Array.isArray(e==null?void 0:e.groupPlayers)?e.groupPlayers:[],Np=e=>String((e==null?void 0:e.full_name)??(e==null?void 0:e.player_name)??(e==null?void 0:e.student_name)??(e==null?void 0:e.name)??"").trim(),_p=(e,t)=>{const r=new Map;return(Array.isArray(e)?e:[]).forEach((n,s)=>{const a=t(n,s);r.has(a)||r.set(a,n)}),Array.from(r.values())},jY=e=>{const t=_p(wp(e).map(n=>Np(n)).filter(Boolean),n=>n.toLowerCase());return t.length>0?t.join(", "):Np(e)||""},kY=e=>{const t=new Map,r=[];return(Array.isArray(e)?e:[]).forEach(n=>{var g,h,x,N;const s=n.start_date_time||n.start_date_time_tz||n.startDateTime||n.startDateTimeTz||n.start,a=n.end_date_time||n.end_date_time_tz||n.endDateTime||n.endDateTimeTz||n.end,o=s?Q0(s):bp(n.date,n.time);let c=a?Q0(a):null;if(!o||Number.isNaN(o.getTime()))return;if(!c||Number.isNaN(c.getTime())){const _=n.duration||2;c=new Date(o.getTime()+_*30*6e4)}const l=jY(n),u=l?{...n,metadata:{...n.metadata||{},description:l}}:n,d={start:o,end:c,title:((g=n.metadata)==null?void 0:g.title)||n.lesson_type_name||n.type||"Lesson",resource:u,lessonType:k_(n),status:_Y(n.status??n.lessonStatus??n.lesson_status),cancelledBy:C_(n),type:"lesson"},m=n.group_lesson_price_id??n.groupLessonPriceId;if(!(SY(n)&&m!==null&&m!==void 0&&m!=="")){r.push(d);return}const y=String(m),v=t.get(y);if(!v){t.set(y,d);return}const p=_p([...wp(v.resource),...wp(u)],_=>{const P=(_==null?void 0:_.player_id)??(_==null?void 0:_.playerId)??(_==null?void 0:_.id),E=Np(_).toLowerCase();return P!=null&&P!==""?`id:${P}`:`name:${E}`}),w=_p([(x=(h=v.resource)==null?void 0:h.metadata)==null?void 0:x.description,l].filter(Boolean),_=>String(_).toLowerCase()).join(", ");t.set(y,{...v,start:v.start<=o?v.start:o,end:v.end>=c?v.end:c,status:v.status==="cancelled"||d.status==="cancelled"?"cancelled":v.status,cancelledBy:v.cancelledBy||d.cancelledBy,resource:{...v.resource,...u,group_players:p,metadata:{...((N=v.resource)==null?void 0:N.metadata)||{},...u.metadata||{},description:w}}})}),[...r,...t.values()]},CY=(e,t)=>{if(!e)return[];const r=[],n=nu(t),s=({date:a,start:o,end:c,location:l,source:u})=>{const d=bp(a,o),m=bp(a,c);!d||!m||r.push({start:d,end:m,title:l||"Available",resource:{...u||{},date:a,start:o,end:c,location:l},type:"availability"})};return Array.isArray(e)?(e.forEach(a=>{const o=(a==null?void 0:a.day)||(a==null?void 0:a.dayOfWeek)||(a==null?void 0:a.day_of_week),c=String(o||"").trim().toLowerCase(),l=K0[c];if(l===void 0)return;const u=new Date(n);u.setDate(n.getDate()+l),s({date:u,start:a.from||a.start,end:a.to||a.end,location:a.location||a.location_name||"",source:a})}),r):(Object.entries(e.weekly||{}).forEach(([a,o])=>{const c=K0[String(a).trim().toLowerCase()];if(c===void 0||!Array.isArray(o))return;const l=new Date(n);l.setDate(n.getDate()+c),o.forEach(u=>{var f,y;if(typeof u!="string")return;const[d,m]=u.split("-").map(v=>v.trim());s({date:l,start:d,end:m,location:((y=(f=e.weeklyLocations)==null?void 0:f[a])==null?void 0:y[u])||"",source:{date:l,start:d,end:m}})})}),(e.adHoc||[]).forEach(a=>{s({date:a.date,start:a.start,end:a.end||a.endTime,location:a.location||"",source:a})}),r)},EY=({lessons:e=[],availability:t=null,googleEvents:r=[],events:n=null,currentDate:s,onDateChange:a,view:o="week",onViewChange:c,showToolbar:l=!0,onLessonSelect:u,onAvailabilitySelect:d,onEmptySlotSelect:m,onRangeChange:f,onOpenAddAvailability:y})=>{const[v,p]=b.useState(o==="day"?"day":"week"),w=b.useRef(null),g=b.useMemo(()=>kY(e),[e]),h=b.useMemo(()=>CY(t,s||new Date),[t,s]),x=b.useMemo(()=>(Array.isArray(r)?r:[]).map(O=>{var U,V,I,z,G,J,te,de,me,he,je,Te,Ce,Ee,ze;const K=O.start_datetime||((U=O.start)==null?void 0:U.dateTime)||((V=O.start)==null?void 0:V.date)||((z=(I=O.raw_payload)==null?void 0:I.start)==null?void 0:z.dateTime)||((J=(G=O.raw_payload)==null?void 0:G.start)==null?void 0:J.date),T=O.end_datetime||((te=O.end)==null?void 0:te.dateTime)||((de=O.end)==null?void 0:de.date)||((he=(me=O.raw_payload)==null?void 0:me.end)==null?void 0:he.dateTime)||((Te=(je=O.raw_payload)==null?void 0:je.end)==null?void 0:Te.date),Z=K?new Date(K):null,D=T?new Date(T):null;return{start:Z,end:D,allDay:!!O.all_day||!!((Ce=O.start)!=null&&Ce.date&&!((Ee=O.start)!=null&&Ee.dateTime)),title:O.summary||((ze=O.raw_payload)==null?void 0:ze.summary)||"Busy",resource:O,type:"busy"}}).filter(O=>O.start&&O.end),[r]),N=b.useMemo(()=>x.filter(O=>!O.allDay),[x]),_=b.useMemo(()=>{const O=new Map;return x.forEach(K=>{const T=K.start.toLocaleDateString("en-CA");O.has(T)||O.set(T,[]),O.get(T).push(K)}),h.flatMap(K=>{const T=K.start.toLocaleDateString("en-CA"),Z=O.get(T)||[];if(Z.length===0)return[K];let D=[{start:K.start,end:K.end}];return Z.forEach(U=>{if(U.allDay){D=[];return}D=D.flatMap(V=>{if(U.end<=V.start||U.start>=V.end)return[V];const I=[];return U.start>V.start&&I.push({start:V.start,end:U.start}),U.end<V.end&&I.push({start:U.end,end:V.end}),I})}),D.map(U=>({...K,start:U.start,end:U.end,title:K.title}))})},[h,x]),P=b.useMemo(()=>Array.isArray(n)?n:[..._,...g,...N],[_,N,n,g]);b.useEffect(()=>{p(o==="day"?"day":"week")},[o]),b.useEffect(()=>{const O=()=>{if(!w.current)return;const K=w.current.querySelector(".rbc-time-header"),T=w.current.querySelector(".rbc-time-header-content"),Z=w.current.querySelector(".rbc-time-view"),D=w.current.querySelector(".rbc-time-header-gutter"),U=w.current.querySelector(".coach-calendar-availability-strip");if(K&&w.current.style.setProperty("--coach-time-header-height",`${K.getBoundingClientRect().height}px`),Z&&T){const V=Z.offsetTop+T.getBoundingClientRect().height;w.current.style.setProperty("--coach-availability-top",`${V}px`)}D&&w.current.style.setProperty("--coach-time-gutter-width",`${D.getBoundingClientRect().width}px`),U&&w.current.style.setProperty("--coach-availability-strip-height",`${U.getBoundingClientRect().height}px`)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[s,o,P.length]),b.useEffect(()=>{const O=P.filter(T=>T.type==="lesson"),K=P.filter(T=>T.type==="availability");console.log("[CoachCalendar] events summary",{total:P.length,lessons:O.length,availability:K.length}),!(O.length===0&&K.length===0)&&(O.forEach(T=>{console.log("[CoachCalendar] lesson event",T.start,T.end,T.title)}),K.forEach(T=>{console.log("[CoachCalendar] availability event",T.start,T.end,T.title)}))},[P]),b.useEffect(()=>{if(!f)return;const O=s||new Date;if(o==="day"){f([O]);return}if(o==="week"){const K=nu(O),T=Array.from({length:7},(Z,D)=>{const U=new Date(K);return U.setDate(K.getDate()+D),U});f(T);return}f([O])},[s,f,o]);const E=b.useMemo(()=>{const O=new Map;return h.forEach(K=>{const T=K.start.toLocaleDateString("en-CA");O.has(T)||O.set(T,[]),O.get(T).push(K)}),O},[h]),S=b.useMemo(()=>{const O=new Map;return[...g,...x].forEach(K=>{const T=K.start.toLocaleDateString("en-CA");O.has(T)||O.set(T,[]),O.get(T).push(K)}),O.forEach((K,T)=>{O.set(T,K.sort((Z,D)=>Z.start.getTime()-D.start.getTime()))}),O},[x,g]),j=b.useMemo(()=>{const O=s||new Date;if(v==="week"){const T=nu(O);return Array.from({length:7},(Z,D)=>{const U=new Date(T);return U.setDate(T.getDate()+D),U})}const K=v==="3day"?3:1;return Array.from({length:K},(T,Z)=>{const D=new Date(O);return D.setDate(O.getDate()+Z),D})},[s,v]),M=b.useMemo(()=>{const O=nu(s||new Date);return Array.from({length:7},(K,T)=>{const Z=new Date(O);return Z.setDate(O.getDate()+T),Z})},[s]),F=O=>{const K=q(O);return K.minutes()===0?K.format("ha"):K.format("h:mma")},Q=O=>q(O).format("h:mm A"),B=O=>{const K=s||new Date,T=v==="3day"?3:v==="week"?7:1,Z=new Date(K);Z.setDate(K.getDate()+T*O),a==null||a(Z)};return i.jsxs("div",{className:"coach-calendar rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"coach-calendar-legend",children:[i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-dot private"}),"Private"]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-dot semi-private"}),"Semi-Private"]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-dot open-group"}),"Open Group"]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-dot availability"}),"Available"]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"legend-dot busy"}),"Busy"]})]}),i.jsxs("div",{className:"coach-calendar-mobile",children:[i.jsxs("div",{className:"coach-calendar-mobile-controls",children:[i.jsx("div",{className:"mobile-view-toggle",children:["day","3day","week"].map(O=>i.jsx("button",{type:"button",className:`mobile-view-btn ${v===O?"active":""}`,onClick:()=>p(O),children:O==="day"?"D":O==="3day"?"3D":"W"},O))}),i.jsxs("div",{className:"mobile-date-nav",children:[i.jsx("button",{type:"button",className:"mobile-nav-btn",onClick:()=>B(-1),children:""}),i.jsx("button",{type:"button",className:"mobile-today-btn",onClick:()=>a==null?void 0:a(new Date),children:"Today"}),i.jsx("button",{type:"button",className:"mobile-nav-btn",onClick:()=>B(1),children:""})]})]}),i.jsx("div",{className:"coach-calendar-day-cards",children:j.map(O=>{const K=O.toLocaleDateString("en-CA"),T=O.toDateString()===new Date().toDateString(),Z=E.get(K)||[],D=S.get(K)||[],U=D.filter(V=>V.type!=="busy").length;return i.jsxs("div",{className:"day-card",children:[i.jsxs("div",{className:`day-card-header ${T?"today":""}`,children:[i.jsxs("div",{className:"day-card-header-left",children:[i.jsx("span",{className:`day-card-date ${T?"today":""}`,children:q(O).format("D")}),i.jsxs("div",{className:"day-card-meta",children:[i.jsx("span",{className:"day-card-day",children:q(O).format("ddd")}),i.jsx("span",{className:"day-card-month",children:q(O).format("MMM")})]})]}),U>0&&i.jsxs("span",{className:"day-card-count",children:[U," lessons"]})]}),Z.length>0?Z.map((V,I)=>i.jsxs("div",{className:`availability-banner ${I>0?"stacked":""}`,children:[i.jsxs("div",{className:"availability-banner-left",children:[i.jsx("span",{className:"availability-dot",children:""}),i.jsxs("div",{children:[i.jsxs("div",{className:"availability-time",children:[Q(V.start),"  ",Q(V.end)]}),i.jsx("div",{className:"availability-location",children:V.title||"Location"})]})]}),i.jsx("span",{className:"availability-edit",children:""})]},`${K}-avail-${I}`)):i.jsx("div",{className:"availability-empty",children:"+ Set availability"}),i.jsxs("div",{className:"day-card-lessons",children:[D.length===0&&i.jsxs("div",{className:"lessons-empty",children:[i.jsx("span",{className:"lessons-empty-title",children:"No lessons booked"}),i.jsx("span",{className:"lessons-empty-subtitle",children:"Available hours shown above"})]}),D.map((V,I)=>{var je,Te,Ce,Ee,ze,bt,Rt,Ne,Ct;const z=Number(V.lessonType??((je=V.resource)==null?void 0:je.lessontype_id)??((Te=V.resource)==null?void 0:Te.lesson_type_id)),G=V.type==="busy"?"busy":z===2?"semi-private":z===3?"open-group":"private",J=((Ee=(Ce=V.resource)==null?void 0:Ce.metadata)==null?void 0:Ee.title)||V.title||"Lesson",te=((bt=(ze=V.resource)==null?void 0:ze.metadata)==null?void 0:bt.description)||((Rt=V.resource)==null?void 0:Rt.location)||((Ct=(Ne=V.resource)==null?void 0:Ne.metadata)==null?void 0:Ct.subtitle)||"",de=V.type==="busy",me=V.status==="cancelled",he=V.cancelledBy||C_(V.resource||{});return i.jsxs("button",{type:"button",className:`lesson-card ${G} ${me?"cancelled":""} ${me&&he?`cancelled-${he}`:""}`,onClick:()=>{de||u==null||u(V.resource||V)},disabled:de,children:[i.jsxs("div",{className:"lesson-card-header",children:[i.jsx("span",{className:`lesson-card-type ${G}`,children:G.replace("-"," ").toUpperCase()}),i.jsxs("span",{className:"lesson-card-time",children:[Q(V.start),"  ",Q(V.end)]})]}),i.jsx("div",{className:"lesson-card-title",children:J}),te&&i.jsx("div",{className:"lesson-card-subtitle",children:te}),me&&i.jsxs("div",{className:`lesson-card-cancel-pill ${he||"generic"}`,children:["Cancelled",he?` by ${he==="coach"?"Coach":"Player"}`:""]})]},`${K}-lesson-${I}`)})]})]},K)})})]}),i.jsxs("div",{className:`coach-calendar-desktop ${o==="week"?"has-availability-strip":""}`,ref:w,children:[o==="week"&&i.jsxs("div",{className:"coach-calendar-availability-strip",children:[i.jsx("div",{className:"availability-strip-label",children:" Avail"}),M.map(O=>{const K=O.toLocaleDateString("en-CA"),T=E.get(K)||[];return T.length===0?i.jsx("div",{className:"availability-strip-cell empty",children:i.jsx("button",{type:"button",className:"availability-add-btn",onClick:y,children:"+ Add"})},K):i.jsx("div",{className:"availability-strip-cell",children:T.map((Z,D)=>i.jsxs("button",{type:"button",className:"availability-strip-badge",onClick:()=>d==null?void 0:d(Z.resource||Z),children:[i.jsxs("span",{className:"availability-strip-time",children:[F(Z.start),"",F(Z.end)]}),i.jsx("span",{className:"availability-strip-location",children:Z.title||"Location"})]},`${K}-${D}`))},K)})]}),i.jsx(pY,{localizer:wY,events:P,startAccessor:"start",endAccessor:"end",views:["week","day"],view:o,onView:c,date:s,onNavigate:a,onRangeChange:f,toolbar:l,selectable:!0,step:30,timeslots:2,style:{height:620},onSelectEvent:O=>{O.type==="lesson"?u==null||u(O.resource||O):O.type==="availability"&&(d==null||d(O.resource||O))},onSelectSlot:({start:O,end:K})=>{const T=O.toISOString().split("T")[0],Z=O.toTimeString().slice(0,5),D=K.toTimeString().slice(0,5),U=P.find(V=>V.type==="availability"&&V.start<=O&&V.end>=K);if(U){d==null||d({...U.resource||{},date:T,start:Z,end:D});return}m==null||m({date:T,start:Z,end:D,location:""})},eventPropGetter:O=>{var K,T;if(O.type==="lesson"){const Z=Number(O.lessonType??((K=O.resource)==null?void 0:K.lessontype_id)??((T=O.resource)==null?void 0:T.lesson_type_id)),D=Z===2?"semi-private":Z===3?"open-group":"private",U=O.status==="cancelled"?" lesson-cancelled":"";return{className:`lesson-card-event lesson-${D}${U}`}}return O.type==="busy"?{className:"lesson-card-event lesson-busy"}:{className:"availability-bg-event"}},components:{week:{header:NY}}})]})]})},PY=({calendarView:e,onCalendarViewChange:t,currentDate:r,onCurrentDateChange:n,onRangeChange:s,lessons:a,availability:o,googleEvents:c,onLessonSelect:l,onAvailabilitySelect:u,onEmptySlotSelect:d,onOpenAddAvailability:m})=>i.jsx("section",{className:"mt-6 space-y-6 calendar-section",children:i.jsx("div",{className:"rounded-2xl bg-white p-4 shadow-sm calendar-section-card",children:i.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 calendar-section-body",children:i.jsx(EY,{lessons:a,availability:o,googleEvents:c,currentDate:r,onDateChange:n,onRangeChange:s,view:e,onViewChange:t,onLessonSelect:l,onAvailabilitySelect:u,onEmptySlotSelect:d,onOpenAddAvailability:m})})})}),TY=({studentSearchQuery:e,onStudentSearchQueryChange:t,studentsLoading:r,studentsError:n,onRefreshStudents:s,activePackagesLoading:a,activePackagesError:o,filteredStudents:c,activePackagesByPlayer:l,rosterAction:u,onRosterUpdate:d,onStudentSelect:m,studentsHasMore:f,studentsLoadingMore:y,onLoadMoreStudents:v})=>i.jsx("section",{className:"mt-6 space-y-6",children:i.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Directory"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Manage students, packages, and communications"})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[i.jsxs("div",{className:"relative",children:[i.jsx(JP,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"search",value:e,onChange:p=>t(p.target.value),className:"w-full rounded-lg border border-gray-200 px-10 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Search students..."})]}),i.jsxs("button",{className:"flex items-center justify-center space-x-2 rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[i.jsx(VP,{className:"h-4 w-4"}),i.jsx("span",{children:"Filters"})]}),i.jsxs("button",{className:"flex items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:[i.jsx(nT,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Student"})]})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[r&&i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-10",children:[i.jsx(Ks,{className:"h-6 w-6 animate-spin text-purple-600"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Loading students..."})]}),n&&i.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[i.jsx("p",{className:"font-medium",children:"We couldn't load your students."}),i.jsxs("button",{type:"button",onClick:s,className:"mt-2 inline-flex items-center space-x-2 rounded-lg bg-red-600 px-3 py-2 text-xs font-medium text-white hover:bg-red-700",children:[i.jsx(Ks,{className:"h-4 w-4"}),i.jsx("span",{children:"Try again"})]})]}),o&&!n&&i.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:"We couldn't load active packages for these students."}),a&&!r&&!n&&i.jsx("div",{className:"rounded-lg border border-blue-100 bg-blue-50 p-4 text-sm text-blue-700",children:"Loading active packages..."}),!r&&!n&&c.length===0&&i.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 text-center text-sm text-gray-500",children:"No students found matching your search."}),c.map(p=>{const w=p.playerId?l[p.playerId]:null;return i.jsxs("div",{role:"button",tabIndex:0,onClick:()=>m==null?void 0:m(p),onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),m==null||m(p))},className:"cursor-pointer rounded-xl border border-gray-200 bg-white p-4 shadow-sm transition hover:border-purple-200 hover:shadow-md",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full bg-gray-100",children:p.avatar?i.jsx("img",{src:p.avatar,alt:p.name||"Student",className:"h-full w-full object-cover"}):i.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm font-semibold text-gray-500",children:p.name?p.name.slice(0,1).toUpperCase():"?"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.name||"Unnamed student"}),i.jsxs("p",{className:"text-sm text-gray-500",children:[p.email,"  ",p.phone]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[p.isConfirmed?i.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700",children:"Active"}):p.isPlayerRequest?i.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-xs font-medium text-yellow-700",children:"Request pending"}):i.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Invite pending"}),i.jsx("button",{type:"button",onClick:g=>g.stopPropagation(),className:"rounded-lg border border-gray-200 p-2 text-gray-500 hover:text-gray-700",children:i.jsx(KP,{className:"h-4 w-4"})})]})]}),!p.isConfirmed&&p.isPlayerRequest&&i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsxs("button",{type:"button",onClick:g=>{g.stopPropagation(),d(p.playerId,"CONFIRMED")},disabled:(u==null?void 0:u.playerId)===p.playerId,className:"inline-flex items-center rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-green-700 disabled:cursor-not-allowed disabled:opacity-70",children:[i.jsx(ep,{className:"mr-2 h-4 w-4"}),"Confirm"]}),i.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),d(p.playerId,"CANCELLED")},disabled:(u==null?void 0:u.playerId)===p.playerId,className:"inline-flex items-center rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-600 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-70",children:"Decline"})]}),i.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Current Package"}),i.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:(w==null?void 0:w.packageName)||"No active package"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Remaining lessons: ",(w==null?void 0:w.creditsRemaining)??"N/A"]})]}),i.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Next Lesson"}),i.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:p.nextLesson||"Not scheduled"})]})]})]},p.id)}),!r&&!n&&f&&i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{type:"button",onClick:v,disabled:y,className:"inline-flex items-center rounded-lg border border-gray-200 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-70",children:y?i.jsxs(i.Fragment,{children:[i.jsx(Ks,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading more..."]}):"Load more"})})]})]})}),$Y=({stats:e})=>i.jsx("section",{className:"mt-6 space-y-6",children:i.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Earnings Overview"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Track revenue, payouts, and performance"})]}),i.jsxs("div",{className:"flex w-full flex-wrap gap-2 sm:w-auto sm:flex-nowrap sm:space-x-2 sm:gap-0",children:[i.jsxs("button",{className:"flex w-full items-center justify-center space-x-2 rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 sm:w-auto sm:justify-start",children:[i.jsx(Di,{className:"h-4 w-4"}),i.jsx("span",{children:"Past 30 days"}),i.jsx(WP,{className:"h-4 w-4"})]}),i.jsx("button",{className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 sm:w-auto",children:"Export"})]})]}),i.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"rounded-xl border border-purple-100 bg-purple-50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-purple-500",children:"Total Revenue"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",e.weekRevenue]})]}),i.jsx(FP,{className:"h-5 w-5 text-purple-500"})]}),i.jsx("p",{className:"mt-2 text-xs text-purple-700",children:"Up 12% from last period"})]}),i.jsxs("div",{className:"rounded-xl border border-green-100 bg-green-50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-green-500",children:"Outstanding"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:"$280"})]}),i.jsx(IP,{className:"h-5 w-5 text-green-500"})]}),i.jsx("p",{className:"mt-2 text-xs text-green-700",children:"2 invoices awaiting payment"})]}),i.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-blue-500",children:"Average Rate"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"$112/hr"})]}),i.jsx(F1,{className:"h-5 w-5 text-blue-500"})]}),i.jsx("p",{className:"mt-2 text-xs text-blue-700",children:"Across all lesson types"})]})]})]})}),AY=({packages:e,packagesLoading:t,packagesError:r,onRefreshPackages:n,onOpenCreatePackage:s,currencyFormatter:a,formatLessonTypeLabel:o,formatValidityLabel:c})=>i.jsx("section",{className:"mt-6 space-y-6",children:i.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lesson Packages"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage lesson bundles for your students"})]}),i.jsxs("button",{type:"button",onClick:s,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700 sm:w-auto sm:justify-start",children:[i.jsx(Ru,{className:"h-4 w-4"}),i.jsx("span",{children:"Create package"})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[t&&e.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-10",children:[i.jsx(Ks,{className:"h-6 w-6 animate-spin text-purple-600"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Loading packages..."})]}),!t&&r&&i.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[i.jsx("p",{className:"font-medium",children:"We couldn't load your packages."}),i.jsx("p",{className:"mt-1 text-xs text-red-600",children:r}),i.jsxs("button",{type:"button",onClick:n,className:"mt-3 inline-flex items-center space-x-2 rounded-lg bg-red-600 px-3 py-2 text-xs font-medium text-white hover:bg-red-700",children:[i.jsx(Ks,{className:"h-4 w-4"}),i.jsx("span",{children:"Try again"})]})]}),!t&&!r&&e.length===0?i.jsxs("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white p-6 text-center",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"No packages yet"}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create your first lesson bundle to offer students multi-lesson savings."}),i.jsxs("button",{type:"button",onClick:s,className:"mt-4 inline-flex items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700",children:[i.jsx(Ru,{className:"h-4 w-4"}),i.jsx("span",{children:"Create package"})]})]}):null,e.length>0&&e.map(l=>i.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name}),!l.isActive&&i.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Archived"})]}),l.description&&i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l.description})]}),i.jsx("div",{className:"flex flex-wrap gap-2 md:justify-end",children:l.lessonTypes.length>0?l.lessonTypes.map(u=>i.jsx("span",{className:"rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-700",children:o(u)},`${l.id}-${u}`)):i.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Any lesson type"})})]}),i.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Price"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.totalPrice!==null?a.format(l.totalPrice):"N/A"}),l.perLessonPrice!==null&&i.jsxs("p",{className:"text-xs text-gray-500",children:[a.format(l.perLessonPrice)," per lesson"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Lessons Included"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.lessonCount!==null?`${l.lessonCount} lessons`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Validity"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:c(l.validityMonths)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Status"}),i.jsx("p",{className:`text-sm font-medium ${l.isActive?"text-green-600":"text-gray-500"}`,children:l.isActive?"Active":"Archived"})]})]})]},l.id))]})]})}),OY=({locationAction:e,locationIdInput:t,onLocationIdChange:r,onAddLocation:n,customLocationForm:s,onCustomLocationChange:a,onAddCustomLocation:o,locationsLoading:c,locationsError:l,normalizedLocations:u,onDeleteLocation:d,onRefreshLocations:m})=>i.jsx("section",{className:"mt-6 space-y-6",children:i.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Locations"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Manage courts and teaching locations"})]}),i.jsxs("button",{type:"button",onClick:m,className:"inline-flex items-center space-x-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[i.jsx(Ks,{className:"h-4 w-4"}),i.jsx("span",{children:"Refresh"})]})]}),e&&i.jsx("div",{className:`mt-4 rounded-lg border px-4 py-3 text-sm ${e.type==="error"?"border-red-200 bg-red-50 text-red-700":"border-green-200 bg-green-50 text-green-700"}`,children:e.message}),i.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Add Existing Location"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use a master location id."}),i.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[i.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Location ID",value:t,onChange:f=>r(f.target.value),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"button",onClick:n,className:"rounded-lg bg-purple-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-purple-700",children:"Add"})]})]}),i.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Add Custom Location"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Create and link a new location."}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Location name",value:s.location,onChange:f=>a({...s,location:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[i.jsx("input",{type:"number",inputMode:"decimal",step:"any",placeholder:"Latitude",value:s.latitude,onChange:f=>a({...s,latitude:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("input",{type:"number",inputMode:"decimal",step:"any",placeholder:"Longitude",value:s.longitude,onChange:f=>a({...s,longitude:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsx("button",{type:"button",onClick:o,className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-purple-700",children:"Create Location"})]})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[c&&i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-6 text-sm text-gray-500",children:[i.jsx(Ks,{className:"h-5 w-5 animate-spin text-purple-600"}),i.jsx("span",{children:"Loading locations..."})]}),!c&&l&&i.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[i.jsx("p",{className:"font-medium",children:"We couldn't load your locations."}),i.jsx("p",{className:"mt-1 text-xs text-red-600",children:l})]}),!c&&!l&&u.length===0&&i.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-white p-6 text-center text-sm text-gray-500",children:"No locations linked yet."}),u.map(f=>i.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-gray-200 bg-white p-4 shadow-sm sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"rounded-lg bg-purple-50 p-2 text-purple-600",children:i.jsx(Li,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.label||"Location"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Location ID: ",f.locationId??"N/A"]}),f.latitude!==void 0&&f.longitude!==void 0&&i.jsxs("p",{className:"text-xs text-gray-400",children:[f.latitude,", ",f.longitude]})]})]}),i.jsx("button",{type:"button",onClick:()=>d(f.relationId??f.locationId),className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-50",children:"Remove"})]},f.relationId??f.locationId??f.label))]})]})}),MY=(e="")=>{const t=String(e).trim().split(/\s+/).filter(Boolean).slice(0,2);return t.length===0?"GR":t.map(r=>r[0].toUpperCase()).join("")},E_=(e={})=>Number.isFinite(Number(e.member_count))?Number(e.member_count):Array.isArray(e.player_ids)?e.player_ids.length:Array.isArray(e.players)?e.players.length:0,DY=({group:e})=>e!=null&&e.image_url?i.jsx("img",{src:e.image_url,alt:e.name,className:"h-11 w-11 rounded-xl object-cover"}):e!=null&&e.emoji?i.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-violet-100 text-xl",children:e.emoji}):i.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-slate-200 text-sm font-semibold text-slate-700",children:MY(e==null?void 0:e.name)}),LY=({groups:e,loading:t,error:r,onRetry:n,onCreate:s,onEdit:a,onDelete:o})=>t?i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:"Loading groups..."}):r?i.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[i.jsx("p",{children:r}),i.jsx("button",{type:"button",className:"mt-2 rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white",onClick:n,children:"Try again"})]}):e.length?i.jsx("div",{className:"space-y-2",children:e.map(c=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-slate-200 bg-white p-3",children:[i.jsx(DY,{group:c}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:c.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:[E_(c)," players"]})]}),i.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 px-2 py-1 text-xs",onClick:()=>a(c),children:"Edit"}),i.jsx("button",{type:"button",className:"rounded-lg border border-red-200 px-2 py-1 text-xs text-red-600",onClick:()=>o(c),children:"Delete"})]},c.id))}):i.jsxs("div",{className:"space-y-3 rounded-xl border border-dashed border-slate-300 bg-slate-50 p-5 text-center",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"No groups yet. Create your first player group."}),i.jsx("button",{type:"button",onClick:s,className:"rounded-lg bg-violet-600 px-3 py-2 text-xs font-semibold text-white",children:"Create Group"})]}),RY=({isOpen:e,mode:t="create",initialGroup:r=null,players:n=[],isSaving:s=!1,onClose:a,onSubmit:o,onDelete:c,errorMessage:l=""})=>{const[u,d]=b.useState({name:"",description:"",emoji:"",image_url:"",player_ids:[]}),[m,f]=b.useState("");b.useEffect(()=>{e&&(d({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",emoji:(r==null?void 0:r.emoji)||"",image_url:(r==null?void 0:r.image_url)||"",player_ids:Array.isArray(r==null?void 0:r.player_ids)?r.player_ids.map(v=>Number(v)).filter(v=>Number.isFinite(v)):[]}),f(""))},[e,r]);const y=b.useMemo(()=>{const v=m.trim().toLowerCase();return v?n.filter(p=>`${p.name||""} ${p.email||""}`.toLowerCase().includes(v)):n},[n,m]);return e?i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/40 p-4",onClick:a,children:i.jsxs("div",{className:"max-h-[90vh] w-full max-w-lg overflow-y-auto rounded-2xl bg-white p-5",onClick:v=>v.stopPropagation(),children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t==="edit"?"Edit Group":"Create Group"}),l?i.jsx("p",{className:"mt-2 rounded-lg bg-red-50 p-2 text-xs text-red-700",children:l}):null,i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Group name",value:u.name,onChange:v=>d(p=>({...p,name:v.target.value}))}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Description (optional)",value:u.description,onChange:v=>d(p=>({...p,description:v.target.value}))}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Emoji (optional)",value:u.emoji,onChange:v=>d(p=>({...p,emoji:v.target.value}))}),i.jsx("input",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Image URL (optional)",value:u.image_url,onChange:v=>d(p=>({...p,image_url:v.target.value}))}),i.jsxs("div",{className:"rounded-lg border border-slate-200 p-3",children:[i.jsx("div",{className:"mb-2 flex items-center justify-between",children:i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:["Players (",u.player_ids.length,")"]})}),i.jsx("input",{className:"mb-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Search players...",value:m,onChange:v=>f(v.target.value)}),i.jsx("div",{className:"max-h-44 space-y-1 overflow-y-auto",children:y.map(v=>{const p=Number(v.playerId??v.id??v.user_id),w=u.player_ids.includes(p);return i.jsxs("button",{type:"button",onClick:()=>d(g=>({...g,player_ids:w?g.player_ids.filter(h=>h!==p):[...g.player_ids,p]})),className:`flex w-full items-center justify-between rounded-lg px-2 py-2 text-left text-sm ${w?"bg-violet-100":"bg-slate-50"}`,children:[i.jsx("span",{children:v.name||v.full_name||"Student"}),w?i.jsx("span",{children:""}):null]},p)})})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx("button",{type:"button",onClick:a,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm",children:"Cancel"}),i.jsx("button",{type:"button",onClick:()=>o(u),disabled:s||!String(u.name).trim(),className:"rounded-lg bg-violet-600 px-4 py-2 text-sm font-semibold text-white disabled:opacity-60",children:s?"Saving...":"Save"}),t==="edit"?i.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(r),className:"ml-auto rounded-lg bg-red-50 px-4 py-2 text-sm text-red-700",children:"Delete"}):null]})]})}):null},IY=(e=[])=>e.map(t=>({id:Number(t.playerId??t.id??t.user_id),name:t.name||t.full_name||"Student",email:t.email||""})).filter(t=>Number.isFinite(t.id)),FY=({groups:e,groupsLoading:t,groupsError:r,groupsActionError:n,groupsSaving:s,onRefreshGroups:a,onCreateGroup:o,onUpdateGroup:c,onDeleteGroup:l,players:u=[]})=>{const[d,m]=b.useState(!1),[f,y]=b.useState(null),v=b.useMemo(()=>IY(u),[u]);return i.jsxs("section",{className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Coach Groups"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage your player groups."})]}),i.jsx("button",{type:"button",onClick:()=>{y(null),m(!0)},className:"rounded-lg bg-violet-600 px-3 py-2 text-sm font-semibold text-white",children:"Create Group"})]}),n?i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:n}):null,i.jsx(LY,{groups:e,loading:t,error:r,onRetry:a,onCreate:()=>{y(null),m(!0)},onEdit:p=>{y(p),m(!0)},onDelete:p=>l(p)}),i.jsx(RY,{isOpen:d,mode:f?"edit":"create",initialGroup:f,players:v,isSaving:s,onClose:()=>{m(!1),y(null)},onSubmit:p=>{if(f!=null&&f.id){c(f.id,p,()=>{m(!1),y(null)});return}o(p,()=>{m(!1)})},onDelete:p=>{l(p,()=>{m(!1),y(null)})}})]})},ti=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},zY=e=>typeof e!="string"?"":e.split("_").filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),UY=e=>e==null||e<=0?"No expiration":e===1?"1 month":`${e} months`,Gf=e=>{const t=(e==null?void 0:e.payment_status)??(e==null?void 0:e.paymentStatus)??(e==null?void 0:e.status);if(t===1||t==="1")return"confirmed";if(t===2||t==="2")return"cancelled";const r=typeof t=="string"?t.toLowerCase():"";return r.includes("confirm")||r.includes("accept")?"confirmed":r.includes("cancel")||r.includes("decline")?"cancelled":"pending"},X0=e=>{var E,S;if(!e)return"";const t=e.start_date_time||e.startDateTime||e.start_time,r=e.end_date_time||e.endDateTime||e.end_time,n=t?q.utc(t):null,s=r?q.utc(r):n!=null&&n.isValid()?n.clone().add(1,"hour"):null,a=!!((E=n==null?void 0:n.isValid)!=null&&E.call(n)),o=!!((S=s==null?void 0:s.isValid)!=null&&S.call(s)),c=a?n.format("MMM D"):"",l=a?n.format("hh:mm a"):"",u=o?s.format("hh:mm a"):"",d=l&&u?`${l} - ${u}`:l,m=Number(e.lessontype_id??e.lesson_type_id??e.lessonTypeId),f=e.lesson_type_name||e.lessonTypeName||(m===1?"Private":m===2?"Semi Private":m===3?"Open Group":""),y=e.court?`${e.location||""}  Court ${e.court}`:e.location||e.courtName||"",v=Array.isArray(e.group_players)?e.group_players:Array.isArray(e.groupPlayers)?e.groupPlayers:[],p=v.filter(j=>Gf(j)==="confirmed").length,w=v.filter(j=>Gf(j)==="pending").length,g=v.filter(j=>Gf(j)==="cancelled").length,h=v.length,x=Number(e.player_limit??e.playerLimit),N=[];if(h>0&&N.push(`${p} confirmed  ${w} pending`+(g>0?`  ${g} cancelled`:"")),Number.isFinite(x)&&x>0){const j=Math.min(p,x),M=Math.max(x-j,0);N.push(`spots ${j}/${x} filled (${M} open)`)}const _=N.length>0?`Players: ${N.join("  ")}`:"";return[f?`${f} lesson`:"",c,d,y,_].filter(Boolean).join("  ")},WY=e=>{if(!e)return"Recently";const t=q(e);return t.isValid()?t.fromNow():"Recently"},Z0=(e,t)=>{var n;const r=(n=e==null?void 0:e.body)==null?void 0:n.detail;return typeof r=="string"&&r.trim()?r:e instanceof Error&&e.message?e.message:t},YY=e=>{if(!e)return"";const t=e.trim().split(/\s+/).filter(Boolean).slice(0,2);return t.length===0?"":t.map(r=>r.charAt(0).toUpperCase()).join("")},HY=({profile:e,dashboardTab:t,onDashboardTabChange:r,calendarView:n,onCalendarViewChange:s,currentDate:a,onCurrentDateChange:o,onRangeChange:c,studentsData:l,studentsLoading:u,studentsLoadingMore:d=!1,studentsError:m,onRefreshStudents:f,studentsHasMore:y=!1,onLoadMoreStudents:v=()=>{},studentsPage:p=1,studentsPerPage:w=5,lessonsData:g,upcomingLessonsData:h=[],availabilityData:x,googleEvents:N,statsData:_,scheduleLoading:P,scheduleError:E,onRefreshSchedule:S,mutationError:j,mutationLoading:M,onLessonSelect:F,onAvailabilitySlotSelect:Q,onEmptySlotSelect:B,onOpenAddAvailability:O,onOpenCreatePackage:K,onOpenCreateLesson:T,onRequestAvailabilityOnboarding:Z,onOpenSettings:D,onOpenNotifications:U=()=>{},onLogout:V,studentSearchQuery:I,onStudentSearchQueryChange:z,onStudentSelect:G=()=>{},showMobileMenu:J,onToggleMobileMenu:te,packagesLoading:de=!1,packagesError:me=null,onRefreshPackages:he=()=>{},locationsData:je=[],locationsLoading:Te=!1,locationsError:Ce=null,onRefreshLocations:Ee=()=>{},onAddLocationById:ze=()=>{},onAddCustomLocation:bt=()=>{},onDeleteLocation:Rt=()=>{},groupsData:Ne=[],groupsLoading:Ct=!1,groupsError:qr=null,groupsActionError:Ke=null,groupsSaving:Ht=!1,onRefreshGroups:at=()=>{},onCreateGroup:_e=()=>{},onUpdateGroup:It=()=>{},onDeleteGroup:ir=()=>{}})=>{var Ut,Ie,vn,Ql,Xl,Zl,Cs,Jl,ec,tc,Ka,rc,ua,nc,co,Ir,sc,ac,ic,oc;const or=Array.isArray(g)?g:(g==null?void 0:g.lessons)||[],Ft=Array.isArray(h)?h:(h==null?void 0:h.lessons)||[],Bt=b.useMemo(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}),[]),it=b.useMemo(()=>Array.isArray(e==null?void 0:e.packages)?e.packages.map((k,oe)=>{const Pe=ti(k.lessonCount??k.lesson_count),Oe=ti(k.totalPrice??k.total_price??k.price),wt=ti(k.validityMonths??k.validity_months),fe=(Array.isArray(k.lessonTypesAllowed)&&k.lessonTypesAllowed.length>0?k.lessonTypesAllowed:Array.isArray(k.lesson_types_allowed)?k.lesson_types_allowed:[]).map(lt=>typeof lt=="string"?lt.trim():"").filter(lt=>lt.length>0);return{id:k.id??k.package_id??`package-${oe}`,name:k.name||k.title||"Untitled Package",description:typeof k.description=="string"?k.description:"",lessonCount:Pe,totalPrice:Oe,validityMonths:wt,perLessonPrice:Pe!==null&&Pe>0&&Oe!==null?Oe/Pe:null,lessonTypes:fe,isActive:k.is_active??k.isActive??!0}}).sort((k,oe)=>k.isActive===oe.isActive?0:k.isActive?-1:1):[],[e]),zt={todayLessons:(_==null?void 0:_.todayLessons)??0,weekRevenue:(_==null?void 0:_.weekRevenue)??0,activeStudents:(_==null?void 0:_.activeStudents)??(Array.isArray(l)?l.length:((Ut=l==null?void 0:l.students)==null?void 0:Ut.length)??0),upcomingLessons:(_==null?void 0:_.upcomingLessons)??Ft.length,pendingRequests:(_==null?void 0:_.pendingRequests)??Ft.filter(k=>k.lessonStatus==="pending").length},Or=k=>{if(!k)return;const oe=k.date instanceof Date?k.date.toISOString().split("T")[0]:k.date||"",Pe=k.start||k.startTime||k.from||"",Oe=k.end||k.endTime||k.to||k.finish||"";Q({...k,date:oe,start:Pe,end:Oe,location:k.location||e.home_courts[0]||""})},[mn,vr]=b.useState(null),[Vt,Mr]=b.useState(!1),[pn,A]=b.useState(null),[se,ae]=b.useState({}),[be,Be]=b.useState(""),[Ze,lr]=b.useState({location:"",latitude:"",longitude:""}),[Gt,Re]=b.useState(null),[yr,Dr]=b.useState(!1),[xr,C]=b.useState(!1),[W,X]=b.useState(!1),[le,dt]=b.useState(0),[cr,Et]=b.useState(!1),[L,ee]=b.useState([]),[He,ht]=b.useState([]),[xe,Ye]=b.useState(1),[ot]=b.useState(20),[$t,Qn]=b.useState(0),[hn,Wa]=b.useState(!1),[Xn,ia]=b.useState(null),[gt,Zn]=b.useState({}),[br,oa]=b.useState(null),Ss=b.useRef(null),An=b.useRef(null),On=b.useRef(null),js=Array.isArray(l)?l:(l==null?void 0:l.students)||[],ks=k=>{const oe=(k==null?void 0:k.full_name)||(k==null?void 0:k.name)||"",Pe=(k==null?void 0:k.email)||"",Oe=(k==null?void 0:k.phone)||"",wt=(k==null?void 0:k.status)??null,Nt=(k==null?void 0:k.created_by)??null,fe=(k==null?void 0:k.player_id)??(k==null?void 0:k.id)??null,lt=wt===1||wt==="CONFIRMED",wr=Nt!==null&&fe!==null&&Nt===fe;return{id:(k==null?void 0:k.id)||fe||(k==null?void 0:k.email)||oe,name:oe,email:Pe,phone:Oe,status:wt,isConfirmed:lt,isPlayerRequest:wr,playerId:fe,avatar:(k==null?void 0:k.profile_picture)||(k==null?void 0:k.avatar)||""}},Rr=js.map(ks).filter(k=>{const oe=I.toLowerCase();return k.name.toLowerCase().includes(oe)||k.email.toLowerCase().includes(oe)||k.phone.includes(I)}),Ya=b.useMemo(()=>(Array.isArray(je)?je:(je==null?void 0:je.locations)||(je==null?void 0:je.data)||[]).map(oe=>{const Pe=(oe==null?void 0:oe.id)??(oe==null?void 0:oe.coach_location_id)??(oe==null?void 0:oe.relation_id)??null,Oe=(oe==null?void 0:oe.location_id)??(oe==null?void 0:oe.locationId)??Pe,wt=(oe==null?void 0:oe.location)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.address)||(oe==null?void 0:oe.formatted_address)||(oe==null?void 0:oe.label)||"";return{relationId:Pe,locationId:Oe,label:wt,latitude:oe==null?void 0:oe.latitude,longitude:oe==null?void 0:oe.longitude}}),[je]),Ha=b.useCallback(async(k,oe)=>{if(k){vr({playerId:k,status:oe});try{await pT({playerId:k,status:oe}),f==null||f()}catch(Pe){console.error("Failed to update roster status",Pe)}finally{vr(null)}}},[f]),Ba=b.useCallback(async()=>{Re(null);const k=await ze(be.trim());k!=null&&k.ok?(Be(""),Re({type:"success",message:"Location added."})):k!=null&&k.error&&Re({type:"error",message:k.error})},[be,ze]),Va=b.useCallback(async()=>{Re(null);const k=await bt({location:Ze.location.trim(),latitude:Ze.latitude,longitude:Ze.longitude});k!=null&&k.ok?(lr({location:"",latitude:"",longitude:""}),Re({type:"success",message:"Custom location added."})):k!=null&&k.error&&Re({type:"error",message:k.error})},[Ze,bt]),Ga=b.useCallback(async k=>{Re(null);const oe=await Rt(k);oe!=null&&oe.ok?Re({type:"success",message:"Location removed."}):oe!=null&&oe.error&&Re({type:"error",message:oe.error})},[Rt]),gn=b.useCallback(async({page:k=xe,silent:oe=!1}={})=>{var Pe;oe||Wa(!0),ia(null);try{const Oe=await U1({perPage:ot,page:k}),wt=Array.isArray(Oe==null?void 0:Oe.requests)?Oe.requests:[],Nt=Array.isArray(Oe==null?void 0:Oe.awaiting_player_confirmation)?Oe.awaiting_player_confirmation:[],fe=typeof((Pe=Oe==null?void 0:Oe.breakdown)==null?void 0:Pe.awaiting_player_confirmation)=="number"?((Oe==null?void 0:Oe.count)||0)+Oe.breakdown.awaiting_player_confirmation:null;ee(wt),ht(Nt),Qn(typeof fe=="number"?fe:wt.length+Nt.length)}catch(Oe){ia(Z0(Oe,"Failed to load requests."))}finally{oe||Wa(!1)}},[xe,ot]);b.useEffect(()=>{gn({page:xe})},[gn,xe]);const la=b.useCallback(async(k,oe)=>{var Nt;if(!(k!=null&&k.request_id)||!oe)return;const Pe=`${k.request_type}-${k.request_id}`,Oe=L.findIndex(fe=>fe.request_id===k.request_id&&fe.request_type===k.request_type),wt=Oe>=0?L[Oe]:null;Zn(fe=>({...fe,[Pe]:oe})),ee(fe=>fe.filter(lt=>!(lt.request_id===k.request_id&&lt.request_type===k.request_type))),Qn(fe=>Math.max(fe-1,0));try{await W1({requestType:k.request_type,requestId:k.request_id,endpoint:(Nt=k==null?void 0:k.actions)==null?void 0:Nt.endpoint,action:oe})}catch(fe){const lt=Number(fe==null?void 0:fe.status);lt===404?(oa({type:"warning",message:"Request no longer available."}),gn({page:xe,silent:!0})):lt===409?gn({page:xe,silent:!0}):(wt&&(ee(wr=>{const Es=[...wr];return Es.splice(Math.max(Oe,0),0,wt),Es}),Qn(wr=>wr+1)),oa({type:"error",message:Z0(fe,"Failed to update request.")}))}finally{Zn(fe=>{const lt={...fe};return delete lt[Pe],lt})}},[gn,L,xe]);b.useEffect(()=>{t==="students"&&(ae({}),A(null))},[t,I,w]),b.useEffect(()=>{if(t!=="students")return;let k=!0;return(async()=>{Mr(!0),A(null);try{const Pe=await fT({perPage:w,page:p,search:I}),wt=(Array.isArray(Pe)?Pe:(Pe==null?void 0:Pe.purchases)||[]).reduce((Nt,fe)=>{var uo,lc;const lt=(fe==null?void 0:fe.player_id)??(fe==null?void 0:fe.playerId)??((uo=fe==null?void 0:fe.player)==null?void 0:uo.id);if(!lt)return Nt;const wr=ti((fe==null?void 0:fe.credits_remaining)??(fe==null?void 0:fe.creditsRemaining)??(ti(fe==null?void 0:fe.credits_total)??0)-(ti(fe==null?void 0:fe.credits_used)??0)),Es=Nt[lt];return Es&&wr!==null&&Es.creditsRemaining>wr||(Nt[lt]={creditsRemaining:wr,packageName:(fe==null?void 0:fe.package_name)||(fe==null?void 0:fe.package_title)||((lc=fe==null?void 0:fe.package)==null?void 0:lc.name)||(fe==null?void 0:fe.packageName)||"Active package"}),Nt},{});k&&ae(Nt=>p===1?wt:{...Nt,...wt})}catch(Pe){k&&A(Pe instanceof Error?Pe:new Error("Failed to load packages."))}finally{k&&Mr(!1)}})(),()=>{k=!1}},[t,I,p,w]),b.useEffect(()=>{if(!yr)return;const k=oe=>{Ss.current&&!Ss.current.contains(oe.target)&&Dr(!1)};return window.addEventListener("mousedown",k),()=>window.removeEventListener("mousedown",k)},[yr]),b.useEffect(()=>{if(!xr)return;const k=oe=>{An.current&&!An.current.contains(oe.target)&&C(!1)};return window.addEventListener("mousedown",k),()=>window.removeEventListener("mousedown",k)},[xr]),b.useEffect(()=>{if(!W)return;const k=oe=>{On.current&&!On.current.contains(oe.target)&&X(!1)};return window.addEventListener("mousedown",k),()=>window.removeEventListener("mousedown",k)},[W]);const qa=L.map((k,oe)=>{var fe,lt,wr;const Pe=k.request_type==="lesson_request",Oe=k.lesson,wt=`${k.request_type}-${k.request_id}`,Nt=gt[wt]||null;return{id:`${k.request_type}-${k.request_id}-${oe}`,type:Pe?"lesson":"roster",name:((fe=k==null?void 0:k.player)==null?void 0:fe.full_name)||"Player",detail:Pe?"requested a lesson":"wants to join your roster",info:Pe?X0(Oe):((lt=k==null?void 0:k.player)==null?void 0:lt.email)||((wr=k==null?void 0:k.player)==null?void 0:wr.phone)||"Pending roster request",timestamp:k.created_at,avatarUrl:"",acceptLabel:Pe?"Confirm":"Approve",declineLabel:"Decline",activeAction:Nt,onAccept:()=>la(k,Pe?"confirm":"approve"),onDecline:()=>la(k,"decline")}}),ca=He.map((k,oe)=>{var Pe;return{id:`awaiting-${k.request_id}-${oe}`,type:"lesson",name:((Pe=k==null?void 0:k.player)==null?void 0:Pe.full_name)||"Player",detail:"awaiting player confirmation",info:X0(k.lesson),timestamp:k.created_at,avatarUrl:"",acceptLabel:"View",hideDecline:!0,onAccept:()=>F==null?void 0:F(k.lesson),onDecline:null}}),$e=[...qa,...ca],Jn=$e;return b.useEffect(()=>{$e.length>0&&Et(!1)},[$e.length]),b.useEffect(()=>{dt(0)},[$e.length]),i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[(j||br||Xn)&&i.jsx("div",{className:"border-b border-red-200 bg-red-50",children:i.jsxs("div",{className:"mx-auto flex max-w-7xl items-center space-x-2 px-4 py-3 text-sm text-red-700",children:[i.jsx(M1,{className:"h-4 w-4"}),i.jsx("span",{children:(br==null?void 0:br.message)||Xn||(j==null?void 0:j.message)||"An unexpected error occurred. Please try again."})]})}),i.jsx("nav",{className:"dashboard-header border-b border-gray-200 bg-white shadow-sm",children:i.jsx("div",{className:"mx-auto max-w-7xl px-4",children:i.jsxs("div",{className:"flex h-16 items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{type:"button",onClick:()=>te(!J),className:"touch-target p-2 text-gray-500 transition hover:text-gray-700 md:hidden dashboard-mobile-toggle",children:i.jsx(R1,{className:"h-6 w-6"})}),i.jsxs("div",{className:"flex items-center dashboard-brand",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-purple-600 to-purple-700 text-lg",children:""}),i.jsxs("div",{className:"ml-3 text-lg font-semibold text-gray-900 dashboard-brand-text",children:["The Tennis ",i.jsx("span",{className:"text-purple-600",children:"Plan"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 dashboard-header-actions",children:[i.jsxs("div",{className:"hidden items-center gap-2 text-xs text-emerald-600 md:flex",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Synced just now"]}),i.jsxs("div",{className:"relative",ref:An,children:[i.jsxs("button",{type:"button",onClick:()=>{C(k=>!k),Dr(!1)},className:`dashboard-header-btn dashboard-quick-action-btn ${xr?"dashboard-quick-action-active":""}`,"aria-expanded":xr,"aria-haspopup":"true",children:[i.jsx(I1,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Open quick actions"})]}),xr&&i.jsxs("div",{className:"dashboard-quick-actions-dropdown",children:[i.jsxs("button",{type:"button",className:"dashboard-quick-actions-item",onClick:()=>{T==null||T(),C(!1)},children:[i.jsx("span",{className:"dashboard-quick-actions-icon",children:i.jsx(UP,{className:"h-4 w-4"})}),i.jsxs("span",{children:[i.jsx("span",{className:"dashboard-quick-actions-title",children:"Add Lesson"}),i.jsx("span",{className:"dashboard-quick-actions-subtitle",children:"Book a lesson with a student"})]})]}),i.jsxs("button",{type:"button",className:"dashboard-quick-actions-item",onClick:()=>{Z==null||Z(),C(!1)},children:[i.jsx("span",{className:"dashboard-quick-actions-icon",children:i.jsx(QP,{className:"h-4 w-4"})}),i.jsxs("span",{children:[i.jsx("span",{className:"dashboard-quick-actions-title",children:"Set Availability"}),i.jsx("span",{className:"dashboard-quick-actions-subtitle",children:"Edit recurring days and times"})]})]})]})]}),i.jsxs("div",{className:"relative",ref:Ss,children:[i.jsxs("button",{type:"button",onClick:()=>Dr(k=>!k),className:"dashboard-header-btn",children:[i.jsx(D1,{className:"h-5 w-5"}),Jn.length>0&&i.jsx("span",{className:"notification-badge",children:Jn.length})]}),yr&&i.jsxs("div",{className:"notification-dropdown",children:[i.jsxs("div",{className:"notification-dropdown-header",children:[i.jsxs("span",{className:"notification-dropdown-title",children:["Requests (",$t,")"]}),i.jsx("button",{type:"button",className:"notification-mark-read",onClick:()=>gn({page:xe}),disabled:hn,children:hn?"Reloading...":"Reload"})]}),i.jsxs("div",{className:"notification-dropdown-body",children:[hn&&i.jsx("div",{className:"notification-empty",children:"Loading requests..."}),!hn&&Jn.length===0&&i.jsx("div",{className:"notification-empty",children:"No pending requests."}),Jn.map(k=>i.jsxs("div",{className:"notification-item notification-item-unread",children:[i.jsx("div",{className:`notification-icon notification-icon-${k.type}`,children:k.avatarUrl?i.jsx("img",{src:k.avatarUrl,alt:k.name,className:"notification-avatar-image"}):i.jsx("span",{className:"notification-avatar-fallback",children:YY(k.name)})}),i.jsxs("div",{className:"notification-content",children:[i.jsxs("div",{className:"notification-text",children:[i.jsx("strong",{children:k.name})," ",k.detail]}),k.info&&i.jsx("div",{className:"notification-subtext",children:k.info}),i.jsxs("div",{className:"notification-actions",children:[k.acceptLabel!==""&&i.jsx("button",{type:"button",className:"notification-btn approve",onClick:k.onAccept||void 0,disabled:!k.onAccept||!!k.activeAction,children:k.activeAction==="confirm"||k.activeAction==="approve"?"Processing...":k.acceptLabel||(k.type==="lesson"?"Confirm":"Accept")}),!k.hideDecline&&i.jsx("button",{type:"button",className:"notification-btn decline",onClick:k.onDecline||void 0,disabled:!k.onDecline||!!k.activeAction,children:k.activeAction==="decline"?"Processing...":k.declineLabel||"Decline"})]}),i.jsx("div",{className:"notification-time",children:WY(k.timestamp)})]})]},k.id))]}),i.jsxs("div",{className:"notification-dropdown-footer",children:[i.jsx("button",{type:"button",className:"notification-view-all",onClick:()=>Ye(k=>Math.max(k-1,1)),disabled:xe<=1||hn,children:"Prev"}),i.jsx("button",{type:"button",className:"notification-view-all",onClick:U,children:"View all notifications"}),i.jsx("button",{type:"button",className:"notification-view-all",onClick:()=>Ye(k=>k+1),disabled:hn||xe*ot>=$t,children:"Next"})]})]})]}),i.jsxs("div",{className:"relative",ref:On,children:[i.jsxs("button",{type:"button",onClick:()=>{X(k=>!k),C(!1),Dr(!1)},className:`dashboard-header-btn ${W?"dashboard-settings-btn-active":""}`,"aria-expanded":W,"aria-haspopup":"menu",children:[i.jsx(vy,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Open settings menu"})]}),W&&i.jsxs("div",{className:"dashboard-settings-menu",role:"menu",children:[i.jsxs("button",{type:"button",className:"dashboard-settings-menu-item",onClick:()=>{X(!1),D==null||D()},children:[i.jsx(vy,{className:"h-4 w-4"}),i.jsx("span",{children:"Settings"})]}),i.jsxs("button",{type:"button",className:"dashboard-settings-menu-item dashboard-settings-menu-item-danger",onClick:()=>{X(!1),V==null||V()},children:[i.jsx(hy,{className:"h-4 w-4"}),i.jsx("span",{children:"Log out"})]})]})]})]})]})})}),xr&&i.jsx("button",{type:"button","aria-label":"Close quick actions",className:"dashboard-quick-actions-overlay",onClick:()=>C(!1)}),J&&i.jsxs("div",{className:"border-b bg-white shadow-lg md:hidden",children:[i.jsx("div",{className:"space-y-2 px-4 py-4",children:[{key:"calendar",label:"Calendar",icon:Di},{key:"students",label:"Students",icon:vi},{key:"earnings",label:"Earnings",icon:Lu},{key:"packages",label:"Packages",icon:Ru},{key:"locations",label:"Locations",icon:Li},{key:"groups",label:"Groups",icon:vi}].map(k=>i.jsxs("button",{type:"button",onClick:()=>{r(k.key),te(!1)},className:`flex w-full items-center space-x-3 rounded-lg px-4 py-3 text-left ${t===k.key?"bg-purple-50 text-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:[i.jsx(k.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:k.label})]},k.key))}),i.jsxs("button",{type:"button",onClick:()=>{te(!1),V==null||V()},className:"flex w-full items-center space-x-3 rounded-lg px-4 py-3 text-left text-red-600 hover:bg-red-50",children:[i.jsx(hy,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Log out"})]})]}),i.jsx(CT,{stats:zt}),i.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6 dashboard-main",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 dashboard-tabs-row",children:[i.jsx("div",{className:"hidden w-full flex-wrap gap-2 sm:flex sm:w-auto sm:flex-nowrap dashboard-tabs",children:[{key:"calendar",label:"Calendar",icon:Di},{key:"students",label:"Students",icon:vi},{key:"earnings",label:"Earnings",icon:Lu},{key:"packages",label:"Packages",icon:Ru},{key:"locations",label:"Locations",icon:Li},{key:"groups",label:"Groups",icon:vi}].map(k=>i.jsxs("button",{type:"button",onClick:()=>r(k.key),className:`flex w-full items-center justify-center space-x-2 rounded-lg px-4 py-2 text-sm font-medium sm:w-auto sm:justify-start ${t===k.key?"bg-purple-600 text-white shadow":"border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[i.jsx(k.icon,{className:"h-4 w-4"}),i.jsx("span",{children:k.label})]},k.key))}),i.jsxs("div",{className:"flex w-full items-center gap-2 text-xs text-gray-500 sm:w-auto sm:text-sm dashboard-secure-note",children:[i.jsx(eT,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"whitespace-nowrap",children:"Secure portal  Last synced moments ago"})]})]}),$e.length>0&&!cr&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"action-alert-bar",children:[i.jsxs("div",{className:"action-alert-left",children:[i.jsx("span",{className:"action-alert-icon",children:""}),i.jsxs("span",{className:"action-alert-text",children:[i.jsxs("strong",{children:[$t||$e.length," items"]})," need attention"]})]}),i.jsx("div",{className:"action-alert-items",children:$e.map(k=>i.jsxs("div",{className:"action-alert-item",children:[i.jsxs("div",{className:"action-alert-text-group",children:[i.jsxs("span",{className:"action-alert-primary",children:[k.type==="roster"?"":""," ",i.jsx("strong",{children:k.name})," ",k.detail]}),k.info&&i.jsx("span",{className:"action-alert-info",children:k.info})]}),i.jsxs("div",{className:"action-alert-buttons",children:[k.acceptLabel!==""&&i.jsx("button",{type:"button",className:"action-alert-btn approve",onClick:k.onAccept||void 0,disabled:!k.onAccept||!!k.activeAction,children:k.activeAction==="confirm"||k.activeAction==="approve"?"Processing...":k.acceptLabel||(k.type==="lesson"?"Confirm":"Accept")}),!k.hideDecline&&i.jsx("button",{type:"button",className:"action-alert-btn decline",onClick:k.onDecline||void 0,disabled:!k.onDecline||!!k.activeAction,children:k.activeAction==="decline"?"Processing...":k.declineLabel||"Decline"})]})]},k.id))}),i.jsx("button",{type:"button",className:"action-alert-dismiss",onClick:()=>Et(!0),children:""})]}),i.jsxs("div",{className:"notification-carousel",children:[i.jsxs("div",{className:"notification-carousel-header",children:[i.jsxs("div",{className:"notification-carousel-title",children:[i.jsx("span",{className:"notification-carousel-icon",children:""}),i.jsxs("span",{children:[$t||$e.length," items need attention"]})]}),i.jsx("button",{type:"button",className:"notification-carousel-dismiss",onClick:()=>Et(!0),children:""})]}),$e.length>0&&i.jsxs("div",{className:"notification-carousel-card",children:[i.jsxs("div",{className:"notification-carousel-meta",children:[i.jsx("div",{className:"notification-carousel-avatar",children:(((Ie=$e[le])==null?void 0:Ie.name)||"N").split(" ").map(k=>k[0]).join("").slice(0,2).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"notification-carousel-name",children:(vn=$e[le])==null?void 0:vn.name}),i.jsx("div",{className:"notification-carousel-detail",children:(Ql=$e[le])==null?void 0:Ql.detail}),((Xl=$e[le])==null?void 0:Xl.info)&&i.jsx("div",{className:"notification-carousel-info",children:(Zl=$e[le])==null?void 0:Zl.info})]})]}),i.jsxs("div",{className:"notification-carousel-actions",children:[((Cs=$e[le])==null?void 0:Cs.acceptLabel)!==""&&i.jsx("button",{type:"button",className:"notification-carousel-btn approve",onClick:((Jl=$e[le])==null?void 0:Jl.onAccept)||void 0,disabled:!((ec=$e[le])!=null&&ec.onAccept)||!!((tc=$e[le])!=null&&tc.activeAction),children:((Ka=$e[le])==null?void 0:Ka.activeAction)==="confirm"||((rc=$e[le])==null?void 0:rc.activeAction)==="approve"?"Processing...":((ua=$e[le])==null?void 0:ua.acceptLabel)||(((nc=$e[le])==null?void 0:nc.type)==="lesson"?"Confirm":"Accept")}),!((co=$e[le])!=null&&co.hideDecline)&&i.jsx("button",{type:"button",className:"notification-carousel-btn decline",onClick:((Ir=$e[le])==null?void 0:Ir.onDecline)||void 0,disabled:!((sc=$e[le])!=null&&sc.onDecline)||!!((ac=$e[le])!=null&&ac.activeAction),children:((ic=$e[le])==null?void 0:ic.activeAction)==="decline"?"Processing...":((oc=$e[le])==null?void 0:oc.declineLabel)||"Decline"})]})]}),i.jsxs("div",{className:"notification-carousel-controls",children:[i.jsx("button",{type:"button",className:"notification-carousel-nav",onClick:()=>dt(k=>k===0?$e.length-1:k-1),children:""}),i.jsx("div",{className:"notification-carousel-dots",children:$e.map((k,oe)=>i.jsx("button",{type:"button",className:`notification-carousel-dot ${oe===le?"active":""}`,onClick:()=>dt(oe)},k.id))}),i.jsx("button",{type:"button",className:"notification-carousel-nav",onClick:()=>dt(k=>k===$e.length-1?0:k+1),children:""})]})]})]}),t==="calendar"&&i.jsx(PY,{calendarView:n,onCalendarViewChange:s,currentDate:a,onCurrentDateChange:o,onRangeChange:c,lessons:or,availability:Array.isArray(x==null?void 0:x.schedule)&&x.schedule.length>0?x.schedule:x,googleEvents:N,onLessonSelect:F,onAvailabilitySelect:Or,onEmptySlotSelect:B,onOpenAddAvailability:O}),t==="students"&&i.jsx(TY,{studentSearchQuery:I,onStudentSearchQueryChange:z,studentsLoading:u,studentsError:m,onRefreshStudents:f,activePackagesLoading:Vt,activePackagesError:pn,filteredStudents:Rr,activePackagesByPlayer:se,rosterAction:mn,onRosterUpdate:Ha,onStudentSelect:G,studentsHasMore:y,studentsLoadingMore:d,onLoadMoreStudents:v}),t==="earnings"&&i.jsx($Y,{stats:zt}),t==="packages"&&i.jsx(AY,{packages:it,packagesLoading:de,packagesError:me,onRefreshPackages:he,onOpenCreatePackage:K,currencyFormatter:Bt,formatLessonTypeLabel:zY,formatValidityLabel:UY}),t==="locations"&&i.jsx(OY,{locationAction:Gt,locationIdInput:be,onLocationIdChange:Be,onAddLocation:Ba,customLocationForm:Ze,onCustomLocationChange:lr,onAddCustomLocation:Va,locationsLoading:Te,locationsError:Ce,normalizedLocations:Ya,onDeleteLocation:Ga,onRefreshLocations:Ee}),t==="groups"&&i.jsx(FY,{groups:Array.isArray(Ne)?Ne:[],groupsLoading:Ct,groupsError:qr,groupsActionError:Ke,groupsSaving:Ht,onRefreshGroups:at,onCreateGroup:_e,onUpdateGroup:It,onDeleteGroup:ir,players:Rr})]}),i.jsx("nav",{className:"dashboard-bottom-nav",children:[{key:"calendar",label:"Calendar",icon:""},{key:"students",label:"Students",icon:""},{key:"earnings",label:"Earnings",icon:""},{key:"packages",label:"Packages",icon:""},{key:"locations",label:"Locations",icon:""},{key:"groups",label:"Groups",icon:""}].map(k=>i.jsxs("button",{type:"button",onClick:()=>r(k.key),className:`dashboard-bottom-nav-item ${t===k.key?"active":""}`,children:[i.jsx("span",{className:"dashboard-bottom-nav-icon",children:k.icon}),i.jsx("span",{className:"dashboard-bottom-nav-label",children:k.label})]},k.key))})]})};var P_={},Vd={},Gd={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.loadGoogleMapScript=Hi.isBrowser=void 0;var T_=typeof window<"u"&&window.document;Hi.isBrowser=T_;var BY=function(t,r){if(!T_||typeof google<"u"&&google.maps&&google.maps.api)return Promise.resolve();var n=document.querySelectorAll('script[src*="'.concat(t,'"]'));if(n&&n.length)return new Promise(function(o){if(typeof google<"u")return o();n[0].addEventListener("load",function(){return o()})});var s=new URL(r);s.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var a=document.createElement("script");return a.src=s.toString(),new Promise(function(o){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=o,document.body.appendChild(a)})};Hi.loadGoogleMapScript=BY;var qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;var VY="https://maps.googleapis.com/maps/api/js";qd.GOOGLE_MAP_SCRIPT_BASE_URL=VY;function su(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(r){return typeof r}:su=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},su(e)}Object.defineProperty(Gd,"__esModule",{value:!0});Gd.default=ZY;var xn=qY(b),qf=Hi,GY=qd;function $_(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return($_=function(s){return s?r:t})(e)}function qY(e,t){if(e&&e.__esModule)return e;if(e===null||su(e)!=="object"&&typeof e!="function")return{default:e};var r=$_(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function J0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J0(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e,t){if(e==null)return{};var r=XY(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XY(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ZY(e){var t=e.ref,r=e.onPlaceSelected,n=e.apiKey,s=e.libraries,a=s===void 0?"places":s,o=e.inputAutocompleteValue,c=o===void 0?"new-password":o,l=e.options;l=l===void 0?{}:l;var u=l.types,d=u===void 0?["(cities)"]:u,m=l.componentRestrictions,f=l.fields,y=f===void 0?["address_components","geometry.location","place_id","formatted_address"]:f,v=l.bounds,p=QY(l,["types","componentRestrictions","fields","bounds"]),w=e.googleMapsScriptBaseUrl,g=w===void 0?GY.GOOGLE_MAP_SCRIPT_BASE_URL:w,h=e.language,x=(0,xn.useRef)(null),N=(0,xn.useRef)(null),_=(0,xn.useRef)(null),P=h?"&language=".concat(h):"",E="".concat(g,"?libraries=").concat(a,"&key=").concat(n).concat(P),S=(0,xn.useCallback)(function(){return(0,qf.loadGoogleMapScript)(g,E)},[g,E]);return(0,xn.useEffect)(function(){var j=ex(ex({},p),{},{fields:y,types:d,bounds:v});if(m&&(j.componentRestrictions=m),!(_.current||!x.current||!qf.isBrowser)){t&&!t.current&&(t.current=x.current);var M=function(){var Q;if(typeof google>"u")return console.error("Google has not been found. Make sure your provide apiKey prop.");if(!((Q=google.maps)!==null&&Q!==void 0&&Q.places))return console.error("Google maps places API must be loaded.");if(!(x.current instanceof HTMLInputElement))return console.error("Input ref must be HTMLInputElement.");_.current=new google.maps.places.Autocomplete(x.current,j),_.current&&(N.current=_.current.addListener("place_changed",function(){r&&_&&_.current&&r(_.current.getPlace(),x.current,_.current)}))};return n?S().then(function(){return M()}):M(),function(){return N.current?N.current.remove():void 0}}},[]),(0,xn.useEffect)(function(){return _.current&&r&&(N.current=_.current.addListener("place_changed",function(){r&&_&&_.current&&r(_.current.getPlace(),x.current,_.current)})),function(){return N.current?N.current.remove():void 0}},[r]),(0,xn.useEffect)(function(){if(qf.isBrowser&&window.MutationObserver&&x.current&&x.current instanceof HTMLInputElement){var j=new MutationObserver(function(){j.disconnect(),x.current&&(x.current.autocomplete=c)});return j.observe(x.current,{attributes:!0,attributeFilter:["autocomplete"]}),function(){j.disconnect()}}},[c]),(0,xn.useEffect)(function(){_.current&&_.current.setFields(y)},[y]),(0,xn.useEffect)(function(){_.current&&_.current.setBounds(v)},[v]),(0,xn.useEffect)(function(){_.current&&_.current.setComponentRestrictions(m)},[m]),(0,xn.useEffect)(function(){_.current&&_.current.setOptions(p)},[p]),{ref:x,autocompleteRef:_}}function au(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(r){return typeof r}:au=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},au(e)}Object.defineProperty(Vd,"__esModule",{value:!0});Vd.default=void 0;var Sp=e9(b),St=A_(tN),JY=A_(Gd);function A_(e){return e&&e.__esModule?e:{default:e}}function O_(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(O_=function(s){return s?r:t})(e)}function e9(e,t){if(e&&e.__esModule)return e;if(e===null||au(e)!=="object"&&typeof e!="function")return{default:e};var r=O_(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function Ku(){return Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}function t9(e,t){if(e==null)return{};var r=r9(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r9(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function M_(e){var t=e.onPlaceSelected,r=e.apiKey,n=e.libraries,s=e.inputAutocompleteValue,a=e.options,o=e.googleMapsScriptBaseUrl,c=e.refProp,l=e.language,u=t9(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),d=(0,JY.default)({ref:c,googleMapsScriptBaseUrl:o,onPlaceSelected:t,apiKey:r,libraries:n,inputAutocompleteValue:s,options:a,language:l}),m=d.ref;return Sp.default.createElement("input",Ku({ref:m},u))}M_.propTypes={apiKey:St.default.string,libraries:St.default.arrayOf(St.default.string),ref:St.default.oneOfType([St.default.func,St.default.shape({current:St.default.any})]),googleMapsScriptBaseUrl:St.default.string,onPlaceSelected:St.default.func,inputAutocompleteValue:St.default.string,options:St.default.shape({componentRestrictions:St.default.object,bounds:St.default.object,location:St.default.object,offset:St.default.number,origin:St.default.object,radius:St.default.number,sessionToken:St.default.object,types:St.default.arrayOf(St.default.string)}),language:St.default.string};var n9=(0,Sp.forwardRef)(function(e,t){return Sp.default.createElement(M_,Ku({},e,{refProp:t}))});Vd.default=n9;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"usePlacesWidget",{enumerable:!0,get:function(){return r.default}});var t=n(Vd),r=n(Gd);function n(s){return s&&s.__esModule?s:{default:s}}})(P_);var s9=P_;const a9=pr(s9),Ci=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tx=(e=()=>[])=>Ci.reduce((t,r)=>{const n=e(r);return t[r]=n!==void 0?n:[],t},{}),cs=()=>({id:null,profileImage:"",profileImageFile:null,name:"",email:"",phone:"",bio:"",experience_years:"",certifications:"",home_courts:[],levels:[],specialties:[],formats:[],price_private:100,price_semi:75,price_group:50,packages:[],languages:[],otherLanguage:"",availability:tx(()=>[]),availabilityLocations:tx(()=>({})),groupClasses:[],stripe_account_id:null,charges_enabled:!1,charges_disabled_reason:""}),Hr="https://ttp-api.codemymobile.com/api",jp="async_user_key",D_=async(e,{method:t="GET",body:r}={})=>{const n=await _d(),s={"Content-Type":"application/json;charset=UTF-8"};return n&&(s.Authorization=`token ${n}`),fetch(`${Hr}${e}`,{method:t,headers:s,body:r?JSON.stringify(r):void 0})},i9=async()=>D_("/stripe/onboard-user",{method:"POST",body:{}}),o9=async()=>D_("/stripe/onboard-user/refresh",{method:"GET"}),lo=async(e,t={})=>{let r=await _d();const n={...t};n.headers={...t.headers||{}},r&&!n.headers.Authorization&&(n.headers.Authorization=`Bearer ${r}`);const s=e.startsWith("/")?`${Hr}${e}`:`${Hr}/${e}`;let a=await fetch(s,n);if(a.status===401){const o=await l9();if(!o)return await Wo(),null;r=o.access_token,r?n.headers.Authorization=`Bearer ${r}`:delete n.headers.Authorization,a=await fetch(s,n)}return a},l9=async()=>{const e=await sT();if(!e)return null;const t=await fetch(`${Hr}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!t.ok)return await Wo(),null;const r=await t.json();return await rp(r.access_token,r.refresh_token),r},c9=e=>{const t={"Content-Type":"application/json;charset=UTF-8"};return e&&(t.Authorization=`token ${e}`),t},u9=async()=>{const e=await _d();return lo("/coach/profile",{method:"GET",headers:c9(e)})},Bi=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),tn=e=>typeof e=="string"&&e.trim().length>0,$o=(e=[])=>Array.isArray(e)?e.map(t=>(typeof t=="string"?t.trim():String(t||"")).trim()).filter(t=>t.length>0):[],d9=(e={})=>{if(!Bi(e))return{};const t={},r=["zip","city","state","country"];for(const n of r)tn(e[n])&&(t[n]=e[n].trim());return t},f9=(e=[])=>Array.isArray(e)?e.map(t=>{if(typeof t=="string"){const a=t.trim();return a?{location:a,latitude:null,longitude:null,address_components:{}}:null}if(!Bi(t))return null;const r=tn(t.location)?t.location.trim():tn(t.name)?t.name.trim():"";if(!r)return null;const n=t.latitude!=null&&`${t.latitude}`.trim()?`${t.latitude}`.trim():null,s=t.longitude!=null&&`${t.longitude}`.trim()?`${t.longitude}`.trim():null;return{location:r,latitude:n,longitude:s,address_components:d9(t.address_components)}}).filter(Boolean):[],m9=(e={})=>{if(!Bi(e))return cs().availability;const t={};for(const r of Object.keys(e)){const n=Array.isArray(e[r])?e[r]:[];t[r]=n.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0)}for(const r of Ci)t[r]||(t[r]=[]);return t},p9=(e={},t={})=>{if(!Bi(e))return cs().availabilityLocations;const r={};for(const[n,s]of Object.entries(e)){if(!Bi(s))continue;const a=n,o=Array.isArray(t[a])?new Set(t[a]):new Set,c={};for(const[l,u]of Object.entries(s)){if(!tn(l))continue;const d=typeof u=="string"?u.trim():String(u||"").trim();d&&o.has(l)&&(c[l]=d)}r[a]=c}for(const n of Ci)r[n]||(r[n]={});return r},h9=(e=[])=>Array.isArray(e)?e.map(t=>{if(!Bi(t))return null;const r=tn(t.name)?t.name.trim():"",n=tn(t.day)?t.day.trim():"",s=tn(t.time)?t.time.trim():"",a=Number(t.duration),o=Number(t.price),c=$o(t.levels);if(!r||!n||!s||!Number.isFinite(a)||a<=0||!Number.isFinite(o))return null;const l={name:r,day:n,time:s,duration:a,price:o,levels:c};return tn(t.description)&&(l.description=t.description.trim()),Number.isFinite(t.maxStudents)&&t.maxStudents>0&&(l.maxStudents=Number(t.maxStudents)),tn(t.court)&&(l.court=t.court.trim()),l}).filter(Boolean):[],g9=(e={})=>{const t=m9(e.availability),r=p9(e.availabilityLocations,t),n={name:tn(e.name)?e.name.trim():"",email:tn(e.email)?e.email.trim():"",bio:typeof e.bio=="string"?e.bio.trim():"",experience_years:typeof e.experience_years=="string"?e.experience_years.trim():e.experience_years!=null?String(e.experience_years).trim():"",phone:tn(e.phone)?e.phone.trim():"",certifications:typeof e.certifications=="string"?e.certifications.trim():e.certifications??"",home_courts:f9(e.home_courts),levels:$o(e.levels),specialties:$o(e.specialties),formats:$o(e.formats),languages:$o(e.languages),otherLanguage:typeof e.otherLanguage=="string"?e.otherLanguage.trim():"",price_private:Number.isFinite(Number(e.price_private))?Number(e.price_private):0,price_semi:Number.isFinite(Number(e.price_semi))?Number(e.price_semi):0,price_group:Number.isFinite(Number(e.price_group))?Number(e.price_group):0,availability:t,availabilityLocations:r,groupClasses:h9(e.groupClasses),packages:Array.isArray(e.packages)?e.packages:[],stripe_account_id:e.stripe_account_id??null,charges_enabled:!!e.charges_enabled,charges_disabled_reason:typeof e.charges_disabled_reason=="string"?e.charges_disabled_reason.trim():""};return typeof e.profileImage=="string"&&e.profileImage&&!e.profileImage.startsWith("data:")&&!e.profileImage.startsWith("blob:")&&(n.profileImage=e.profileImage.trim()),Object.keys(n).forEach(s=>{n[s]===void 0&&delete n[s]}),n},v9=async e=>{if(!e)throw new Error("A file type is required to request an upload URL.");const t=encodeURIComponent(e);return lo(`/coach/avatars/?file_type=${t}`,{method:"GET"})},y9=async(e,t,r)=>{if(!e||!t)throw new Error("Upload URL and file are required to upload an avatar.");const n={};return r&&(n["Content-Type"]=r),fetch(e,{method:"PUT",headers:n,body:t})},x9=async()=>lo("/coach/onboarding",{method:"GET"}),b9=async(e={})=>lo("/coach/onboarding",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(g9(e))}),w9="AIzaSyAkoVxf_uqgIUTm0wJUWXqNyx4qRxe9534",rx=()=>cs(),L_=[{title:"Basic Info",icon:i.jsx(tp,{className:"h-4 w-4"})},{title:"Courts",icon:i.jsx(Li,{className:"h-4 w-4"})},{title:"Levels",icon:i.jsx(rT,{className:"h-4 w-4"})},{title:"Specialties",icon:i.jsx(F1,{className:"h-4 w-4"})},{title:"Formats",icon:i.jsx(vi,{className:"h-4 w-4"})},{title:"Pricing",icon:i.jsx(Lu,{className:"h-4 w-4"})},{title:"Payments",icon:i.jsx(HP,{className:"h-4 w-4"})},{title:"Languages",icon:i.jsx(GP,{className:"h-4 w-4"})},{title:"Availability",icon:i.jsx(Di,{className:"h-4 w-4"})},{title:"Review",icon:i.jsx(BP,{className:"h-4 w-4"})}],N9=L_.slice(0,8),Kf=e=>typeof e=="string"?e.trim():e&&typeof e=="object"&&typeof e.location=="string"?e.location.trim():"",_9=(e,t)=>typeof e=="string"?`${e}-${t}`:e&&typeof e=="object"?`${e.location||"court"}-${e.latitude||"na"}-${e.longitude||"na"}-${t}`:`court-${t}`,S9=e=>{const t=typeof(e==null?void 0:e.name)=="string"?e.name.trim():"",r=typeof(e==null?void 0:e.formatted_address)=="string"?e.formatted_address.trim():"",n=typeof(e==null?void 0:e.vicinity)=="string"?e.vicinity.trim():"";return t&&r&&!r.toLowerCase().includes(t.toLowerCase())?`${t} ${r}`:t||r||n||""},j9=(e=[])=>{if(!Array.isArray(e))return{};const t=(r,n=null)=>{const s=e.find(o=>{var c;return(c=o==null?void 0:o.types)==null?void 0:c.includes(r)});if(s!=null&&s.short_name)return s.short_name;if(s!=null&&s.long_name)return s.long_name;if(!n)return"";const a=e.find(o=>{var c;return(c=o==null?void 0:o.types)==null?void 0:c.includes(n)});return(a==null?void 0:a.short_name)||(a==null?void 0:a.long_name)||""};return{zip:t("postal_code"),city:t("locality","administrative_area_level_2"),state:t("administrative_area_level_1"),country:t("country")}},nx=({initialData:e,onComplete:t,isMobile:r,initialStep:n=0,onRefreshProfile:s,isSettingsMode:a=!1,onBack:o,onOpenGoogleCalendar:c})=>{var Dr,xr;const[l,u]=b.useState(()=>({...rx(),...e||{}})),[d,m]=b.useState(n||0),[f,y]=b.useState({}),[v,p]=b.useState(""),[w,g]=b.useState(null),[h,x]=b.useState("not_connected"),[N,_]=b.useState(!1),[P,E]=b.useState(null),[S,j]=b.useState(""),M=b.useRef(null),F=b.useRef(null),[Q,B]=b.useState("private"),[O,K]=b.useState(Ci[0]),[T,Z]=b.useState({start:"09:00",end:"10:00",location:""}),[D,U]=b.useState(!1),[V,I]=b.useState(!1),[z,G]=b.useState(!1),[J,te]=b.useState(null),[de,me]=b.useState(()=>e!=null&&e.profileImage&&typeof e.profileImage=="string"?e.profileImage:""),[he,je]=b.useState(!1),Te=b.useRef(null);b.useEffect(()=>{if(e){const C=rx();u({...C,...e,profileImage:e.profileImage||C.profileImage,profileImageFile:e.profileImageFile||C.profileImageFile,availability:{...C.availability,...e.availability||{}},availabilityLocations:{...C.availabilityLocations,...e.availabilityLocations||{}}}),e.profileImage&&typeof e.profileImage=="string"?me(e.profileImage):me("")}},[e]),b.useEffect(()=>{m(n||0)},[n]),b.useEffect(()=>()=>{Te.current&&(URL.revokeObjectURL(Te.current),Te.current=null),F.current&&(clearInterval(F.current),F.current=null)},[]);const Ce=b.useCallback(()=>l!=null&&l.charges_enabled?"verified":l!=null&&l.stripe_account_id?"pending":"not_connected",[l==null?void 0:l.charges_enabled,l==null?void 0:l.stripe_account_id]);b.useEffect(()=>{x(Ce())},[Ce]);const Ee=a?N9:L_,ze=b.useMemo(()=>(d+1)/Ee.length*100,[Ee.length,d]);b.useEffect(()=>{m(C=>Math.min(C,Ee.length-1))},[Ee.length]);const bt=b.useCallback(()=>{y(C=>{if(!C.profileImage)return C;const{profileImage:W,...X}=C;return X})},[]),Rt=b.useCallback(async C=>{var cr,Et;if(!C){u(L=>({...L,profileImage:"",profileImageFile:null})),Te.current&&(URL.revokeObjectURL(Te.current),Te.current=null),me(""),bt();return}if(!(C instanceof File)||!((cr=C.type)!=null&&cr.startsWith("image/"))){y(L=>({...L,profileImage:"Please choose a valid image file"}));return}const W=C.type||"image/jpeg",X=((Et=W.split("/"))==null?void 0:Et[1])||"",le=typeof C.name=="string"&&C.name.split(".").pop()||"",dt=(X||le).toLowerCase()==="jpg"?"jpeg":(X||le).toLowerCase();if(!dt){y(L=>({...L,profileImage:"Unable to determine image type"}));return}try{bt(),je(!0);const L=await v9(dt);if(!L||!L.ok){let ot="Unable to start profile photo upload.";try{const $t=await L.json();ot=($t==null?void 0:$t.detail)||($t==null?void 0:$t.message)||($t==null?void 0:$t.error)||ot}catch{}throw new Error(ot)}const ee=await L.json().catch(()=>null),He=(ee==null?void 0:ee.uploadURL)||(ee==null?void 0:ee.uploadUrl)||(ee==null?void 0:ee.url)||(ee==null?void 0:ee.signedUrl)||(ee==null?void 0:ee.signedURL);if(!He)throw new Error("Upload URL not provided by server.");if(!(await y9(He,C,W)).ok)throw new Error("Failed to upload profile photo to storage.");const xe=(ee==null?void 0:ee.fileKey)||(ee==null?void 0:ee.file_key)||(ee==null?void 0:ee.key)||(ee==null?void 0:ee.s3Key)||(ee==null?void 0:ee.s3_key)||"",Ye=(ee==null?void 0:ee.fileUrl)||(ee==null?void 0:ee.file_url)||(ee==null?void 0:ee.cdnUrl)||(ee==null?void 0:ee.cdn_url)||(ee==null?void 0:ee.publicUrl)||(ee==null?void 0:ee.public_url)||"";if(u(ot=>({...ot,profileImage:xe||Ye||ot.profileImage||"",profileImageFile:null})),Te.current&&(URL.revokeObjectURL(Te.current),Te.current=null),Ye)me(Ye);else if(typeof window<"u"&&typeof URL<"u"&&URL.createObjectURL){const ot=URL.createObjectURL(C);Te.current=ot,me(ot)}else me("")}catch(L){const ee=L instanceof Error?L.message:"Failed to upload profile photo.";y(He=>({...He,profileImage:ee}))}finally{je(!1)}},[bt]),Ne=async C=>{var X;if(he){C.target&&(C.target.value="");return}const W=(X=C.target.files)==null?void 0:X[0];await Rt(W),C.target&&(C.target.value="")},Ct=async C=>{var X,le;if(C.preventDefault(),I(!1),he){C.dataTransfer&&C.dataTransfer.clearData();return}const W=(le=(X=C.dataTransfer)==null?void 0:X.files)==null?void 0:le[0];await Rt(W),C.dataTransfer&&C.dataTransfer.clearData()},qr=C=>{C.preventDefault(),!V&&!he&&I(!0)},Ke=C=>{C.preventDefault(),I(!1)},Ht=()=>{Te.current&&(URL.revokeObjectURL(Te.current),Te.current=null),me(""),u(C=>({...C,profileImage:"",profileImageFile:null})),bt()},at=(C=d)=>{const W={};switch(C){case 0:{!l.profileImage&&!de&&(W.profileImage="Profile image is required"),l.name.trim()||(W.name="Name is required"),l.email.trim()||(W.email="Email is required"),l.bio.trim()||(W.bio="Bio is required"),l.bio.trim()&&l.bio.length<100&&(W.bio="Bio should be at least 100 characters"),String(l.experience_years||"").trim()||(W.experience_years="Years of experience is required");break}case 1:{l.home_courts.length===0&&(W.home_courts="Add at least one teaching location");break}case 2:{l.levels.length===0&&(W.levels="Select at least one level");break}case 5:{const X=Number(l.price_private);if((!Number.isFinite(X)||X<40)&&(W.price_private="Private lesson price must be at least $40/hour"),l.formats.includes("semi")){const le=Number(l.price_semi);(!Number.isFinite(le)||le<=0)&&(W.price_semi="Enter a valid semi-private price")}if(l.formats.includes("group")){const le=Number(l.price_group);(!Number.isFinite(le)||le<=0)&&(W.price_group="Enter a valid group class price")}break}case 8:{const X=Object.values(l.availability).some(dt=>dt.length>0),le=l.groupClasses.length>0;!X&&!le&&(W.availability="Add at least one availability slot or group class");break}}return y(W),Object.keys(W).length===0},_e=()=>{const C=[0,1,2,5,8];for(const W of C)if(!at(W))return m(W),!1;return!0},It=()=>{at()&&d<Ee.length-1&&m(C=>C+1)},ir=()=>{m(C=>Math.max(0,C-1))},or=async()=>{var C;if(!(!_e()||!t)){te(null),G(!0);try{const W=await t(l);if(W!=null&&W.error){const X=typeof W.error=="string"?W.error:((C=W.error)==null?void 0:C.message)||"Failed to submit profile";te(X);return}m(0)}catch(W){const X=W instanceof Error?W.message:"Failed to submit profile";te(X)}finally{G(!1)}}},Ft=()=>{const C=v.trim();if(!C)return;const W=w&&w.location===C?w:{location:C,latitude:null,longitude:null,address_components:{}};l.home_courts.some(le=>Kf(le).toLowerCase()===C.toLowerCase())||(u({...l,home_courts:[...l.home_courts,W]}),p(""),g(null))},Bt=C=>{u({...l,home_courts:l.home_courts.filter((W,X)=>X!==C)})},it=b.useCallback(async()=>{try{const C=await u9();if(!(C!=null&&C.ok))return;const W=await C.json().catch(()=>null);u(X=>({...X,stripe_account_id:(W==null?void 0:W.stripe_account_id)??X.stripe_account_id,charges_enabled:(W==null?void 0:W.charges_enabled)??X.charges_enabled,charges_disabled_reason:(W==null?void 0:W.charges_disabled_reason)??X.charges_disabled_reason}))}catch{}},[]),zt=b.useCallback((C={})=>{const W=(C.redirect_url||C.url||C.onboarding_url||"").trim(),X=(C.return_url||"").trim();if(X&&j(X),W&&typeof window<"u"){const le=window.open(W,"_blank","noopener,noreferrer");M.current=le||null,F.current&&(clearInterval(F.current),F.current=null),F.current=window.setInterval(()=>{(!M.current||M.current.closed)&&(M.current=null,F.current&&(clearInterval(F.current),F.current=null),typeof s=="function"&&s(),it())},1e3)}},[s,it]);b.useEffect(()=>{it()},[it]);const Or=b.useCallback(async()=>{E(null),_(!0);try{const C=await i9();if(!C)throw new Error("Failed to start Stripe onboarding.");const W=await C.json().catch(()=>null);if(!C.ok){const X=(W==null?void 0:W.message)||(W==null?void 0:W.error)||"Failed to start Stripe onboarding.";throw new Error(X)}zt(W||{}),x("pending")}catch(C){const W=C instanceof Error?C.message:"Failed to start Stripe onboarding.";E(W),x("not_connected")}finally{_(!1)}},[zt]),mn=b.useCallback(async()=>{E(null),_(!0);try{const C=await o9();if(!C)throw new Error("Unable to refresh Stripe onboarding.");const W=await C.json().catch(()=>null);if(!C.ok){const X=(W==null?void 0:W.message)||(W==null?void 0:W.error)||"Unable to refresh Stripe onboarding.";throw new Error(X)}zt(W||{}),x(X=>X==="not_connected"?"pending":X)}catch(C){const W=C instanceof Error?C.message:"Unable to refresh Stripe onboarding.";E(W)}finally{_(!1)}},[zt]),vr=()=>{const C=l.availability[O]||[],W=l.availabilityLocations[O]||{},X=`${T.start} - ${T.end}`;!C.includes(X)&&T.location&&(u({...l,availability:{...l.availability,[O]:[...C,X]},availabilityLocations:{...l.availabilityLocations,[O]:{...W,[X]:T.location}}}),Z({start:"09:00",end:"10:00",location:""}))},Vt=b.useMemo(()=>l.home_courts.map(C=>Kf(C)).filter(C=>!!C),[l.home_courts]),Mr=(C,W)=>{const X=[...l.availability[C]],le=X[W];X.splice(W,1);const dt={...l.availabilityLocations[C]};delete dt[le],u({...l,availability:{...l.availability,[C]:X},availabilityLocations:{...l.availabilityLocations,[C]:dt}})},pn=()=>{const C={name:"",description:"",day:"Monday",time:"18:00",duration:90,levels:[],maxStudents:8,court:Vt[0]||"",price:30};u({...l,groupClasses:[...l.groupClasses,C]})},A=(C,W,X)=>{const le=[...l.groupClasses];le[C]={...le[C],[W]:X},u({...l,groupClasses:le})},se=C=>{u({...l,groupClasses:l.groupClasses.filter((W,X)=>X!==C)})},ae=[{value:"beginner",label:"Beginner",color:"bg-green-100 text-green-700"},{value:"intermediate",label:"Intermediate",color:"bg-blue-100 text-blue-700"},{value:"advanced",label:"Advanced",color:"bg-purple-100 text-purple-700"},{value:"competitive",label:"Competitive",color:"bg-orange-100 text-orange-700"}],be=[{value:"serve",label:"Serve",icon:""},{value:"forehand",label:"Forehand",icon:""},{value:"backhand",label:"Backhand",icon:""},{value:"volley",label:"Volley",icon:""},{value:"footwork",label:"Footwork",icon:""},{value:"strategy",label:"Strategy",icon:""},{value:"doubles",label:"Doubles",icon:""},{value:"mental",label:"Mental Game",icon:""},{value:"fitness",label:"Fitness",icon:""},{value:"juniors",label:"Juniors",icon:""}],Be=[{value:"private",label:"Private Lessons",desc:"One-on-one focused training"},{value:"semi",label:"Semi-Private",desc:"2-3 students sharing a lesson"},{value:"group",label:"Group Classes",desc:"4+ students in a class setting"},{value:"clinics",label:"Clinics",desc:"Specialized workshops"},{value:"hitting",label:"Hitting Partner",desc:"Rally and practice partner"}],Ze=b.useMemo(()=>[{value:"en",label:"English",flag:""},{value:"es",label:"Spanish",flag:""},{value:"zh",label:"Chinese",flag:""},{value:"fr",label:"French",flag:""},{value:"de",label:"German",flag:""},{value:"it",label:"Italian",flag:""},{value:"pt",label:"Portuguese",flag:""},{value:"ja",label:"Japanese",flag:""},{value:"ko",label:"Korean",flag:""}],[]),lr=b.useMemo(()=>{var W;const C=l.languages.map(X=>{var le;return((le=Ze.find(dt=>dt.value===X))==null?void 0:le.label)||X}).filter(Boolean);return(W=l.otherLanguage)!=null&&W.trim()&&C.push(...l.otherLanguage.split(",").map(X=>X.trim()).filter(Boolean)),C},[l.languages,l.otherLanguage,Ze]),Gt=de||(typeof l.profileImage=="string"&&l.profileImage?l.profileImage:""),Re=b.useMemo(()=>{var C,W,X,le;return{0:!!(l.profileImage&&((C=l.name)!=null&&C.trim())&&((W=l.email)!=null&&W.trim())&&((X=l.bio)!=null&&X.trim())&&l.experience_years),1:Array.isArray(l.home_courts)&&l.home_courts.length>0,2:Array.isArray(l.levels)&&l.levels.length>0,3:Array.isArray(l.specialties)&&l.specialties.length>0,4:Array.isArray(l.formats)&&l.formats.length>0,5:Number.isFinite(Number(l.price_private))&&Number(l.price_private)>=40&&(!l.formats.includes("semi")||Number.isFinite(Number(l.price_semi))&&Number(l.price_semi)>0)&&(!l.formats.includes("group")||Number.isFinite(Number(l.price_group))&&Number(l.price_group)>0),6:!!l.stripe_account_id,7:Array.isArray(l.languages)&&l.languages.length>0||!!((le=l.otherLanguage)!=null&&le.trim())}},[l]),yr=b.useMemo(()=>{const C=Ee.reduce((W,X,le)=>Re[le]?W+1:W,0);return Math.round(C/Ee.length*100)},[Ee,Re]);return i.jsxs("div",{className:`min-h-screen ${a?"bg-slate-50":"bg-gradient-to-br from-green-50 to-white"}`,children:[i.jsx("div",{className:"border-b border-gray-200 bg-white shadow-sm",children:i.jsxs("div",{className:"mx-auto flex max-w-4xl flex-wrap items-center justify-between gap-4 px-4 py-4 sm:flex-nowrap",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[a&&i.jsx("button",{type:"button",onClick:o,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:"Back"}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:i.jsx("span",{className:"text-sm font-bold text-white",children:"TP"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-900 sm:text-xl",children:"Tennis Plan"}),i.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Coach Portal"})]})]}),a&&i.jsx("button",{type:"button",onClick:c,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700",children:"Open Google Calendar Sync"}),r&&i.jsx("button",{type:"button",onClick:()=>U(C=>!C),className:"rounded-lg p-2 text-gray-500 hover:text-gray-700",children:i.jsx(R1,{className:"h-5 w-5"})})]})}),D&&r&&i.jsx("div",{className:"border-b bg-white shadow-lg",children:i.jsx("div",{className:"max-h-64 space-y-1 overflow-y-auto px-4 py-2",children:Ee.map((C,W)=>i.jsxs("button",{type:"button",onClick:()=>{(a||W<d||at())&&(m(W),U(!1))},className:`flex w-full items-center space-x-3 rounded-lg px-3 py-2 text-left text-sm ${W===d?"bg-green-50 text-green-600":W<d||a?"text-gray-700 hover:bg-gray-50":"cursor-not-allowed text-gray-400"}`,disabled:!a&&W>d,children:[W<d?i.jsx(ep,{className:"h-4 w-4 text-green-500"}):C.icon,i.jsx("span",{className:"font-medium",children:C.title})]},C.title))})}),i.jsxs("div",{className:`mx-auto px-4 py-4 sm:py-6 ${a?"max-w-7xl":"max-w-4xl"}`,children:[a&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 border-b border-slate-200 px-6 py-6",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("button",{type:"button",onClick:o,className:"rounded-xl border border-slate-200 px-4 py-2 text-xl text-slate-600 transition hover:bg-slate-50",children:""}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-4xl",children:"Edit Profile"}),i.jsx("p",{className:"text-lg text-slate-400 md:text-2xl",children:"Changes are visible to students after saving"})]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:i.jsx("button",{type:"button",onClick:or,disabled:z,className:"rounded-lg bg-violet-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-violet-700 disabled:cursor-not-allowed disabled:bg-violet-300",children:z?"Saving...":"Save Profile"})})]}),i.jsxs("div",{className:"border-b border-slate-200 px-6 py-4",children:[i.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm font-semibold text-slate-700",children:[i.jsx("span",{children:"Profile completion"}),i.jsxs("span",{className:"text-emerald-600",children:[yr,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-slate-100",children:i.jsx("div",{className:"h-2 rounded-full bg-emerald-500 transition-all",style:{width:`${yr}%`}})})]})]})}),!a&&i.jsxs("div",{className:"mb-4 space-y-4 rounded-2xl bg-white p-4 shadow-lg sm:p-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profile Completion"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:Ee[d].title})]}),i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",d+1," of ",Ee.length]})]}),i.jsx("div",{className:"mt-3 h-2 rounded-full bg-gray-100",children:i.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all",style:{width:`${ze}%`}})})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-5",children:Ee.map((C,W)=>i.jsxs("div",{className:`flex flex-col items-center rounded-xl border px-3 py-2 text-xs ${W<d?"border-green-200 bg-green-50 text-green-600":W===d?"border-green-300 bg-white text-green-600 shadow-sm":"border-gray-200 bg-gray-50 text-gray-400"}`,children:[i.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${W<d?"bg-green-500 text-white":W===d?"bg-green-500 text-white ring-4 ring-green-100":"bg-gray-200 text-gray-500"}`,children:W<d?i.jsx(ep,{className:"h-4 w-4"}):C.icon}),i.jsx("span",{className:`mt-1 hidden text-xs sm:block ${W===d?"font-medium text-gray-900":"text-gray-500"}`,children:C.title})]},C.title))})]}),i.jsxs("div",{className:a?"mt-6 grid gap-6 lg:grid-cols-[260px_1fr]":"",children:[a&&i.jsxs("aside",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[i.jsx("p",{className:"mb-4 text-xs font-bold uppercase tracking-[0.2em] text-slate-400",children:"Public Profile"}),i.jsx("div",{className:"space-y-2",children:[0,1,2,3,4,5,7].map(C=>{var W,X,le;return i.jsxs("button",{type:"button",onClick:()=>m(C),className:`flex w-full items-center justify-between rounded-xl border px-3 py-2 text-left text-sm ${d===C?"border-violet-300 bg-violet-50 text-violet-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[i.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[i.jsx("span",{className:"text-slate-400",children:(W=Ee[C])==null?void 0:W.icon}),(X=Ee[C])==null?void 0:X.title]}),i.jsx("span",{className:Re[C]?"text-emerald-500":"text-slate-300",children:""})]},((le=Ee[C])==null?void 0:le.title)||C)})}),i.jsx("p",{className:"mb-4 mt-6 text-xs font-bold uppercase tracking-[0.2em] text-slate-400",children:"Business"}),i.jsxs("button",{type:"button",onClick:()=>m(6),className:`flex w-full items-center justify-between rounded-xl border px-3 py-2 text-left text-sm ${d===6?"border-violet-300 bg-violet-50 text-violet-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[i.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[i.jsx("span",{className:"text-slate-400",children:(Dr=Ee[6])==null?void 0:Dr.icon}),(xr=Ee[6])==null?void 0:xr.title]}),i.jsx("span",{className:Re[6]?"text-emerald-500":"text-slate-300",children:""})]})]}),i.jsxs("div",{className:"space-y-6 rounded-2xl bg-white p-4 shadow-lg sm:p-6",children:[d===0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Start with the basics"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"profileImageInput",children:"Profile Photo *"}),i.jsxs("div",{className:`relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 text-center transition ${f.profileImage?"border-red-300 bg-red-50":V?"border-green-400 bg-green-50":"border-gray-300 bg-gray-50 hover:border-green-400"}`,onDragOver:qr,onDragEnter:qr,onDragLeave:Ke,onDrop:Ct,children:[Gt?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:Gt,alt:"Profile preview",className:"mb-4 h-24 w-24 rounded-full border border-white object-cover shadow-md"}),i.jsx("p",{className:"text-sm text-gray-600",children:he?"Uploading new photo":"Click or drop a new image to replace your current photo."}),i.jsx("button",{type:"button",onClick:Ht,disabled:he,className:`mt-3 inline-flex items-center rounded-md border border-gray-300 px-3 py-1 text-xs font-medium transition ${he?"cursor-not-allowed text-gray-400":"text-gray-600 hover:bg-gray-100"}`,children:"Remove photo"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-white text-gray-400 shadow-inner",children:i.jsx(tp,{className:"h-8 w-8"})}),i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Drag & drop or click to upload"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: square image, at least 400x400 pixels."})]}),i.jsx("input",{id:"profileImageInput",type:"file",accept:"image/*",onChange:Ne,className:"absolute inset-0 h-full w-full cursor-pointer opacity-0",disabled:he}),he&&!Gt&&i.jsx("div",{className:"mt-3 text-sm text-gray-500",children:"Uploading photo"})]}),f.profileImage&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.profileImage})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Full Name *"}),i.jsx("input",{type:"text",value:l.name,onChange:C=>u({...l,name:C.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.name?"border-red-500":"border-gray-300"}`,placeholder:"John Smith"}),f.name&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Email *"}),i.jsx("input",{type:"email",value:l.email,onChange:C=>u({...l,email:C.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"coach@email.com"}),f.email&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("input",{type:"tel",value:l.phone,onChange:C=>u({...l,phone:C.target.value}),className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"(555) 123-4567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Years of Experience *"}),i.jsxs("select",{value:l.experience_years,onChange:C=>u({...l,experience_years:C.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.experience_years?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select years"}),i.jsx("option",{value:"0-2",children:"0-2 years"}),i.jsx("option",{value:"3-5",children:"3-5 years"}),i.jsx("option",{value:"6-10",children:"6-10 years"}),i.jsx("option",{value:"11-15",children:"11-15 years"}),i.jsx("option",{value:"16+",children:"16+ years"})]}),f.experience_years&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.experience_years})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Professional Certifications"}),i.jsx("div",{className:"mb-3 grid grid-cols-2 gap-2 sm:grid-cols-3",children:[{value:"USPTA",label:"USPTA"},{value:"USPTA Elite",label:"USPTA Elite"},{value:"PTR",label:"PTR"},{value:"PTR Master",label:"PTR Master"},{value:"USTA High Performance",label:"USTA HP"},{value:"ITF Level 1",label:"ITF Level 1"},{value:"ITF Level 2",label:"ITF Level 2"},{value:"ITF Level 3",label:"ITF Level 3"},{value:"RSPA",label:"RSPA"}].map(C=>i.jsxs("label",{className:"flex items-center space-x-2 rounded-lg border p-2 text-sm text-gray-700 hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:l.certifications.split(", ").includes(C.value),onChange:W=>{const X=l.certifications?l.certifications.split(", "):[];if(W.target.checked)X.includes(C.value)||X.push(C.value);else{const le=X.indexOf(C.value);le!==-1&&X.splice(le,1)}u({...l,certifications:X.filter(Boolean).join(", ")})},className:"rounded text-green-500 focus:ring-green-500"}),i.jsx("span",{className:"text-xs sm:text-sm",children:C.label})]},C.value))}),i.jsx("input",{type:"text",value:l.certifications,onChange:C=>u({...l,certifications:C.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Add other certifications or edit..."}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Check common certifications or type additional ones"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Bio * ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.bio.length,"/400)"]})]}),i.jsx("textarea",{value:l.bio,onChange:C=>u({...l,bio:C.target.value}),className:`h-32 w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.bio?"border-red-500":"border-gray-300"}`,placeholder:"Tell potential students about your experience, teaching philosophy, and what makes your lessons special...",maxLength:400}),f.bio&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.bio}),i.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[i.jsx(qP,{className:"mr-1 inline h-3 w-3"}),"This bio will be analyzed by AI to match you with compatible students"]})]})]})]}),d===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Where do you teach?"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Add all locations where you regularly teach"}),i.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[i.jsx(a9,{apiKey:w9,value:v,onChange:C=>{p(C.target.value),g(null)},onKeyDown:C=>C.key==="Enter"&&Ft(),onPlaceSelected:C=>{var X,le,dt,cr;const W=S9(C);if(W){const Et=(le=(X=C==null?void 0:C.geometry)==null?void 0:X.location)!=null&&le.lat?String(C.geometry.location.lat()):null,L=(cr=(dt=C==null?void 0:C.geometry)==null?void 0:dt.location)!=null&&cr.lng?String(C.geometry.location.lng()):null,ee=j9((C==null?void 0:C.address_components)||[]);p(W),g({location:W,latitude:Et,longitude:L,address_components:ee})}},options:{types:["establishment","geocode"],fields:["name","formatted_address","vicinity","geometry","address_components"]},className:"flex-1 rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter tennis court or location...",defaultValue:""}),i.jsx("button",{type:"button",onClick:Ft,className:"rounded-lg bg-green-500 px-4 py-3 text-white transition hover:bg-green-600",children:"Add"})]}),f.home_courts&&i.jsx("p",{className:"text-xs text-red-500",children:f.home_courts}),i.jsxs("div",{className:"space-y-2",children:[l.home_courts.map((C,W)=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg bg-gray-50 px-4 py-3 text-sm text-gray-700",children:[i.jsx("span",{className:"break-words",children:Kf(C)}),i.jsx("button",{type:"button",onClick:()=>Bt(W),className:"rounded-lg p-2 text-red-500 transition hover:bg-red-50",children:i.jsx(Af,{className:"h-4 w-4"})})]},_9(C,W))),l.home_courts.length===0&&i.jsx("p",{className:"text-sm text-gray-500",children:"No locations added yet"})]})]}),d===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Which student levels do you teach?"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Select all skill levels you are comfortable coaching"}),i.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-4",children:ae.map(C=>i.jsxs("label",{className:`flex flex-wrap items-center justify-between gap-2 rounded-lg border px-4 py-3 text-sm font-medium ${l.levels.includes(C.value)?`${C.color} border-transparent`:"border-gray-200 bg-white text-gray-600"}`,children:[i.jsx("span",{children:C.label}),i.jsx("input",{type:"checkbox",checked:l.levels.includes(C.value),onChange:W=>{W.target.checked?u({...l,levels:[...l.levels,C.value]}):u({...l,levels:l.levels.filter(X=>X!==C.value)})},className:"rounded text-green-500 focus:ring-green-500"})]},C.value))}),f.levels&&i.jsx("p",{className:"text-xs text-red-500",children:f.levels})]}),d===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What are your specialties?"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Select areas where you excel in teaching"}),i.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3",children:be.map(C=>i.jsxs("label",{className:"flex cursor-pointer items-center space-x-2 rounded-lg border p-3 hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:l.specialties.includes(C.value),onChange:W=>{W.target.checked?u({...l,specialties:[...l.specialties,C.value]}):u({...l,specialties:l.specialties.filter(X=>X!==C.value)})},className:"rounded text-green-500 focus:ring-green-500"}),i.jsx("span",{className:"text-xl",children:C.icon}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.label})]},C.value))})]}),d===4&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What formats do you offer?"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Select all lesson formats you provide"}),i.jsx("div",{className:"space-y-3",children:Be.map(C=>i.jsxs("label",{className:"flex cursor-pointer items-start space-x-3 rounded-lg border p-4 hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:l.formats.includes(C.value),onChange:W=>{W.target.checked?u({...l,formats:[...l.formats,C.value]}):u({...l,formats:l.formats.filter(X=>X!==C.value)})},className:"mt-1 rounded text-green-500 focus:ring-green-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.label}),i.jsx("p",{className:"mt-0.5 text-xs text-gray-500",children:C.desc})]})]},C.value))})]}),d===5&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set your pricing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enter your hourly rates for different formats"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Private Lessons (per hour)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:l.price_private,onChange:C=>u({...l,price_private:parseInt(C.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"40"})]}),f.price_private&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.price_private}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: $80-150/hour"})]}),l.formats.includes("semi")&&i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Semi-Private (per student)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:l.price_semi,onChange:C=>u({...l,price_semi:parseInt(C.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"30"})]}),f.price_semi&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.price_semi})]}),l.formats.includes("group")&&i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Group Classes (per student)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:l.price_group,onChange:C=>u({...l,price_group:parseInt(C.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"20"})]}),f.price_group&&i.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.price_group})]})]})]}),d===6&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set up payments"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Connect with Stripe to receive payments directly from students"}),P&&i.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:P}),h==="not_connected"&&i.jsxs("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50 p-6",children:[i.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"Secure payments with Stripe"}),i.jsxs("ul",{className:"mb-4 space-y-2 text-sm text-gray-700",children:[i.jsx("li",{children:" Direct deposits to your bank account"}),i.jsx("li",{children:" Automatic payouts (daily, weekly, or monthly)"}),i.jsx("li",{children:" Industry-standard 2.9% + $0.30 processing fee"}),i.jsx("li",{children:" PCI compliant and bank-level security"})]}),i.jsx("button",{type:"button",onClick:Or,disabled:N,className:"rounded-lg bg-purple-600 px-6 py-3 text-white transition hover:bg-purple-700",children:N?"Connecting":"Connect with Stripe "})]}),h==="pending"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 p-6 text-sm text-yellow-700",children:N?"Opening Stripecomplete the verification in the new tab.":"Stripe is still finishing your verification. If you recently submitted your details, click below to resume or check again."}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("button",{type:"button",onClick:mn,disabled:N,className:"rounded-lg bg-purple-600 px-6 py-3 text-sm font-medium text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:opacity-70",children:N?"Opening Stripe":"Resume Stripe setup"}),S&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Once Stripe redirects you back to"," ",i.jsx("span",{className:"font-medium text-gray-600",children:S}),", refresh this page to continue."]})]})]}),h==="verified"&&i.jsx("div",{className:"rounded-xl border border-green-200 bg-green-50 p-6 text-sm text-green-700",children:"Stripe account connected successfully!"}),N&&h==="not_connected"&&i.jsx("div",{className:"text-sm text-gray-500",children:"Preparing Stripe onboarding"})]}),d===7&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Which languages do you speak?"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Help students find coaches they can communicate with"}),i.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Ze.map(C=>i.jsxs("label",{className:"flex cursor-pointer items-center space-x-2 rounded-lg border p-3 hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:l.languages.includes(C.value),onChange:W=>{W.target.checked?u({...l,languages:[...l.languages,C.value]}):u({...l,languages:l.languages.filter(X=>X!==C.value)})},className:"rounded text-green-500 focus:ring-green-500"}),i.jsx("span",{className:"text-xl",children:C.flag}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.label})]},C.value))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"otherLanguage",children:"Other languages"}),i.jsx("input",{id:"otherLanguage",type:"text",value:l.otherLanguage,onChange:C=>u({...l,otherLanguage:C.target.value}),placeholder:"Add any additional languages",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-200"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Use commas to separate multiple languages."})]})]}),d===8&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set your availability"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Add your regular teaching hours and group classes"}),i.jsxs("div",{className:"flex space-x-2 rounded-lg bg-gray-100 p-1",children:[i.jsx("button",{type:"button",onClick:()=>B("private"),className:`flex-1 rounded-md py-2 text-sm font-medium transition-all ${Q==="private"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Private Lesson Slots"}),i.jsx("button",{type:"button",onClick:()=>B("group"),className:`flex-1 rounded-md py-2 text-sm font-medium transition-all ${Q==="group"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Regular Group Classes"})]}),Q==="private"&&i.jsxs("div",{children:[i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:Ci.map(C=>i.jsxs("button",{type:"button",onClick:()=>K(C),className:`whitespace-nowrap rounded-lg px-4 py-2 font-medium ${O===C?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[C.slice(0,3),l.availability[C].length>0&&i.jsx("span",{className:"ml-2 rounded-full bg-white/20 px-1.5 py-0.5 text-xs",children:l.availability[C].length})]},C))}),i.jsxs("div",{className:"mt-4 rounded-lg bg-gray-50 p-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("h3",{className:"font-medium text-gray-900",children:[O," Private Slots"]}),i.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center sm:gap-2",children:[i.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[i.jsx("input",{type:"time",value:T.start,onChange:C=>Z({...T,start:C.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto"}),i.jsx("span",{className:"text-center text-gray-500 sm:inline sm:text-left",children:"to"}),i.jsx("input",{type:"time",value:T.end,onChange:C=>Z({...T,end:C.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto"})]}),i.jsxs("select",{value:T.location,onChange:C=>Z({...T,location:C.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto",children:[i.jsx("option",{value:"",children:"Select court"}),Vt.map(C=>i.jsx("option",{value:C,children:C},C))]}),i.jsx("button",{type:"button",onClick:vr,className:"w-full rounded bg-green-500 px-3 py-2 text-sm text-white hover:bg-green-600 sm:w-auto sm:py-1",children:"Add"})]})]}),i.jsx("div",{className:"mt-4 space-y-2",children:l.availability[O].length>0?l.availability[O].map((C,W)=>{var X;return i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded bg-white p-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-700",children:C}),((X=l.availabilityLocations[O])==null?void 0:X[C])&&i.jsxs("span",{className:"block text-xs text-gray-500",children:["at ",l.availabilityLocations[O][C]]})]}),i.jsx("button",{type:"button",onClick:()=>Mr(O,W),className:"rounded-lg p-2 text-red-500 hover:bg-red-50",children:i.jsx(Af,{className:"h-4 w-4"})})]},`${C}-${W}`)}):i.jsxs("p",{className:"py-4 text-center text-sm text-gray-500",children:["No private slots set for ",O]})})]})]}),Q==="group"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:"Regular Weekly Group Classes"}),i.jsxs("button",{type:"button",onClick:pn,className:"flex items-center space-x-1 text-sm font-medium text-green-600 hover:text-green-700",children:[i.jsx(I1,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Class"})]})]}),l.groupClasses.length>0?i.jsx("div",{className:"space-y-4",children:l.groupClasses.map((C,W)=>i.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Class Name"}),i.jsx("input",{type:"text",value:C.name,onChange:X=>A(W,"name",X.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., Junior High Performance"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Day"}),i.jsx("select",{value:C.day,onChange:X=>A(W,"day",X.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:Ci.map(X=>i.jsx("option",{value:X,children:X},X))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Time"}),i.jsx("input",{type:"time",value:C.time,onChange:X=>A(W,"time",X.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Duration (minutes)"}),i.jsx("input",{type:"number",value:C.duration,onChange:X=>A(W,"duration",parseInt(X.target.value,10)||0),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Court"}),i.jsxs("select",{value:C.court,onChange:X=>A(W,"court",X.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"",children:"Select court"}),Vt.map(X=>i.jsx("option",{value:X,children:X},X))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Price per student"}),i.jsx("input",{type:"number",value:C.price,onChange:X=>A(W,"price",parseInt(X.target.value,10)||0),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),i.jsxs("button",{type:"button",onClick:()=>se(W),className:"mt-4 inline-flex items-center space-x-2 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-600 hover:bg-red-100",children:[i.jsx(Af,{className:"h-4 w-4"}),i.jsx("span",{children:"Remove Class"})]})]},W))}):i.jsx("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 p-6 text-center text-sm text-gray-500",children:"No group classes added yet"})]}),f.availability&&i.jsx("p",{className:"text-xs text-red-500",children:f.availability})]}),d===9&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review your profile"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Make sure everything looks good before submitting"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[i.jsx(tp,{className:"h-4 w-4"}),i.jsx("span",{children:"Basic Information"})]}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-full border border-gray-200 bg-white shadow-sm",children:l.profileImage?i.jsx("img",{src:l.profileImage,alt:"Selected profile",className:"h-full w-full object-cover"}):i.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-100 text-xs text-gray-500",children:"No photo"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Profile Photo"}),i.jsx("p",{className:"text-sm text-gray-700",children:l.profileImage?"Ready to upload":"Not provided"})]})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",l.name||"Not provided"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",i.jsx("span",{className:"break-all",children:l.email||"Not provided"})]}),l.phone&&i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",l.phone]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Experience:"})," ",l.experience_years||"Not provided"]}),l.certifications&&i.jsxs("p",{children:[i.jsx("strong",{children:"Certifications:"})," ",l.certifications]}),i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Bio:"})," ",l.bio||"Not provided"]})]})]}),i.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[i.jsx(Li,{className:"h-4 w-4"}),i.jsx("span",{children:"Locations & Availability"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Locations:"})," ",Vt.length>0?Vt.join(", "):"None added"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Private Slots:"})," ",Object.values(l.availability).flat().length," total"]}),l.groupClasses.length>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Group Classes:"})," ",l.groupClasses.length," weekly classes"]})]})]}),i.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[i.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[i.jsx(zP,{className:"h-4 w-4"}),i.jsx("span",{children:"Coaching Details"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Levels:"})," ",l.levels.length>0?l.levels.join(", "):"None selected"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Specialties:"})," ",l.specialties.length>0?l.specialties.join(", "):"None selected"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Formats:"})," ",l.formats.length>0?l.formats.join(", "):"None selected"]}),i.jsx("p",{children:i.jsx("strong",{children:"Pricing:"})}),i.jsxs("ul",{className:"ml-4 list-disc space-y-1 text-gray-600",children:[i.jsxs("li",{children:["Private: $",l.price_private,"/hour"]}),l.formats.includes("semi")&&l.price_semi&&i.jsxs("li",{children:["Semi-Private: $",l.price_semi,"/hour"]}),l.formats.includes("group")&&l.price_group&&i.jsxs("li",{children:["Group: $",l.price_group,"/hour"]})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Languages:"})," ",lr.length>0?lr.join(", "):"None selected"]})]})]})]})]})]}),i.jsxs("div",{className:"mt-6 flex flex-col justify-between gap-3 sm:flex-row",children:[!a&&i.jsxs("button",{type:"button",onClick:ir,disabled:d===0||z,className:`flex w-full items-center justify-center space-x-2 rounded-lg border px-6 py-3 text-sm font-medium transition sm:w-auto ${d===0||z?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[i.jsx(L1,{className:"h-4 w-4"}),i.jsx("span",{children:"Back"})]}),!a&&d<Ee.length-1?i.jsxs("button",{type:"button",onClick:It,disabled:z,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-3 text-sm font-medium text-white transition hover:from-green-600 hover:to-emerald-700 sm:w-auto",children:[i.jsx("span",{children:"Next"}),i.jsx(YP,{className:"h-4 w-4"})]}):i.jsxs("button",{type:"button",onClick:or,disabled:z,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-3 text-sm font-medium text-white transition hover:from-green-600 hover:to-emerald-700 sm:w-auto",children:[i.jsx(ZP,{className:"h-4 w-4"}),i.jsx("span",{children:z?"Saving...":a?"Save Profile":"Submit"})]})]}),J&&i.jsx("div",{className:"rounded-lg bg-red-50 px-4 py-3 text-sm text-red-600",children:J})]})]})]})},kl=(...e)=>e.filter(Boolean).join(" "),sx={center:"items-center",bottom:"items-end sm:items-center"};function Ua({isOpen:e,onClose:t,children:r,placement:n="center",overlayClassName:s="",panelClassName:a="",closeOnOverlay:o=!0}){if(!e)return null;const c=l=>{l.target===l.currentTarget&&o&&(t==null||t())};return i.jsx("div",{className:kl("fixed inset-0 z-50 flex bg-black/50 p-4",sx[n]??sx.center,s),onClick:c,children:i.jsx("div",{className:kl("w-full max-h-full overflow-y-auto rounded-lg bg-white shadow-xl",n==="bottom"?"rounded-t-xl sm:rounded-lg":"",a),children:r})})}function ql({title:e,description:t,onClose:r,className:n="",children:s}){return i.jsxs("div",{className:kl("flex items-start justify-between gap-4 border-b border-gray-100 px-6 py-4",n),children:[i.jsxs("div",{className:"space-y-1",children:[e&&i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&i.jsx("p",{className:"text-sm text-gray-500",children:t}),s]}),r&&i.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-gray-400 transition hover:text-gray-600",children:i.jsx(z1,{className:"h-5 w-5"})})]})}function Kl({className:e="",children:t}){return i.jsx("div",{className:kl("px-6 py-4",e),children:t})}function Kd({className:e="",children:t}){return i.jsx("div",{className:kl("flex flex-col-reverse gap-3 border-t border-gray-100 px-6 py-4 sm:flex-row sm:justify-end",e),children:t})}const k9=({isOpen:e,slot:t,onChange:r,onClose:n,onSubmit:s,isSubmitting:a=!1,locations:o=[]})=>{const c=(m,f)=>{r({...t,[m]:f})},l=o.map(m=>{if(m&&typeof m=="object"){const f=m.location_id??m.locationId??m.id??m.value,y=m.location??m.name??m.label??m.address??String(f??"");return{id:f,label:y}}return{id:null,label:String(m)}}),u=l.some(m=>m.id!==null&&m.id!==void 0),d=t.date&&t.start&&t.end&&(u?t.location_id:t.location);return i.jsxs(Ua,{isOpen:e,onClose:n,placement:"bottom",panelClassName:"w-full sm:max-w-md",children:[i.jsx(ql,{title:"Add Availability",onClose:n}),i.jsxs(Kl,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("input",{type:"date",value:t.date,onChange:m=>c("date",m.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start"}),i.jsx("input",{type:"time",value:t.start,onChange:m=>c("start",m.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End"}),i.jsx("input",{type:"time",value:t.end,onChange:m=>c("end",m.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsxs("select",{value:u?t.location_id??"":t.location,onChange:m=>{const f=m.target.value;if(u){const y=l.find(v=>String(v.id)===f);c("location_id",(y==null?void 0:y.id)??null),c("location",(y==null?void 0:y.label)??"")}else c("location",f),c("location_id",null)},className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"",children:"Select location"}),l.map(m=>i.jsx("option",{value:m.id??m.label,children:m.label},m.id??m.label))]})]})]}),i.jsxs(Kd,{children:[i.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded-lg bg-gray-100 px-4 py-3 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),i.jsx("button",{type:"button",onClick:s,disabled:!d||a,className:`flex-1 rounded-lg px-4 py-3 text-white transition sm:flex-none ${d&&!a?"bg-purple-600 hover:bg-purple-700":"cursor-not-allowed bg-purple-300"}`,children:a?"Saving":"Save Availability"})]})]})},C9=({isOpen:e,title:t,description:r,confirmLabel:n="Confirm",cancelLabel:s="Cancel",onConfirm:a,onCancel:o,tone:c="warning"})=>{const l={warning:{icon:"text-yellow-500",button:"bg-red-600 hover:bg-red-700"},danger:{icon:"text-red-500",button:"bg-red-600 hover:bg-red-700"},default:{icon:"text-blue-500",button:"bg-purple-600 hover:bg-purple-700"}},u=l[c]??l.default;return i.jsxs(Ua,{isOpen:e,onClose:o,panelClassName:"max-w-md",placement:"center",children:[i.jsx(ql,{onClose:o,children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[i.jsx(RP,{className:`h-5 w-5 ${u.icon}`}),i.jsx("span",{className:"text-lg font-semibold",children:t})]})}),i.jsx(Kl,{children:i.jsx("p",{className:"text-sm text-gray-600",children:r})}),i.jsxs(Kd,{children:[i.jsx("button",{type:"button",onClick:o,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:s}),i.jsx("button",{type:"button",onClick:a,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${u.button}`,children:n})]})]})},E9=[{id:"private",label:"Private Lessons"},{id:"semi_private",label:"Semi-Private Lessons"},{id:"group",label:"Group Classes"}],ax=()=>({name:"",description:"",lessonCount:"",totalPrice:"",validityMonths:"",lessonTypesAllowed:["private"]}),P9=({isOpen:e,onClose:t,onCreated:r=()=>{}})=>{const[n,s]=b.useState(ax),[a,o]=b.useState(!1),[c,l]=b.useState(""),u=b.useMemo(()=>new Set(n.lessonTypesAllowed),[n.lessonTypesAllowed]),d=()=>{s(ax()),l("")};b.useEffect(()=>{e&&d()},[e]);const m=p=>w=>{const{value:g}=w.target;s(h=>({...h,[p]:g}))},f=p=>{s(w=>{const g=new Set(w.lessonTypesAllowed);return g.has(p)?g.delete(p):g.add(p),{...w,lessonTypesAllowed:Array.from(g)}})},y=b.useMemo(()=>{const p=Number(n.lessonCount),w=Number(n.totalPrice);return!(!n.name.trim()||!Number.isFinite(p)||p<=0||!Number.isFinite(w)||w<0||!n.validityMonths)},[n]),v=async()=>{var w;if(a||!y)return;o(!0),l("");const p={name:n.name.trim(),description:n.description.trim(),lessonCount:Number(n.lessonCount),totalPrice:Number(n.totalPrice),validityMonths:n.validityMonths==="0"?null:Number(n.validityMonths),lessonTypesAllowed:n.lessonTypesAllowed};try{const g=await lo("/coach/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!g){l("Your session has expired. Please sign in again.");return}if(!g.ok){let x="Failed to create package. Please try again.";try{const N=await g.json();x=(N==null?void 0:N.message)||(N==null?void 0:N.error)||((w=N==null?void 0:N.errors)==null?void 0:w[0])||x}catch{}l(x);return}const h=await g.json().catch(()=>null);r(h),d(),t()}catch(g){l("An unexpected error occurred. Please try again."),console.error("Failed to create package",g)}finally{o(!1)}};return i.jsxs(Ua,{isOpen:e,onClose:t,panelClassName:"max-w-md",children:[i.jsx(ql,{title:"Create Lesson Package",onClose:t}),i.jsxs(Kl,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package Name *"}),i.jsx("input",{type:"text",placeholder:"e.g., 10 Lesson Bundle",value:n.name,onChange:m("name"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{placeholder:"Brief description of the package...",value:n.description,onChange:m("description"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 h-20"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Lessons *"}),i.jsx("input",{type:"number",min:"1",placeholder:"10",value:n.lessonCount,onChange:m("lessonCount"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Price ($) *"}),i.jsx("input",{type:"number",min:"0",placeholder:"850",value:n.totalPrice,onChange:m("totalPrice"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validity Period *"}),i.jsxs("select",{value:n.validityMonths,onChange:m("validityMonths"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"",children:"Select validity"}),i.jsx("option",{value:"1",children:"1 month"}),i.jsx("option",{value:"3",children:"3 months"}),i.jsx("option",{value:"6",children:"6 months"}),i.jsx("option",{value:"12",children:"12 months"}),i.jsx("option",{value:"0",children:"No expiration"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lesson Types Allowed"}),i.jsx("div",{className:"space-y-2",children:E9.map(({id:p,label:w})=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded text-purple-600",checked:u.has(p),onChange:()=>f(p)}),i.jsx("span",{className:"ml-2 text-sm",children:w})]},p))})]}),c&&i.jsx("div",{className:"rounded-lg bg-red-50 px-3 py-2 text-sm text-red-600",children:c})]}),i.jsxs(Kd,{children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),i.jsx("button",{type:"button",onClick:v,disabled:!y||a,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${y&&!a?"bg-purple-600 hover:bg-purple-700":"cursor-not-allowed bg-purple-300"}`,children:a?"Creating":"Create Package"})]})]})},ix=e=>typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(Boolean),T9=e=>e.toLowerCase(),$9=e=>{const t=e.replace(/[^\d+]/g,"").replace(/(?!^)\+/g,""),r=t.replace(/\D/g,"");return r.length===11&&r.startsWith("1")?r.slice(1):r||t.toLowerCase()},ox=(e,t)=>{const r=new Set,n=[];return e.forEach(s=>{const a=t(s);!a||r.has(a)||(r.add(a),n.push(s))}),n},lx=({emails:e="",phones:t=""}={})=>{const r=ox(ix(e),T9),n=ox(ix(t),$9);return{emails:r,phone_numbers:n}},A9="https://ttp-player-web-staging.netlify.app".trim().replace(/\/$/,""),O9=e=>{var t;if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.results))return e.results;if(Array.isArray(e.invites))return e.invites;if(Array.isArray((t=e.data)==null?void 0:t.results))return e.data.results;if(Array.isArray(e.data))return e.data}return[]},M9=e=>(e==null?void 0:e.recipient)||(e==null?void 0:e.email)||(e==null?void 0:e.phone_number)||(e==null?void 0:e.phone)||(e==null?void 0:e.to)||"Unknown",D9=e=>(e==null?void 0:e.claimLink)||(e==null?void 0:e.claim_link)||(e==null?void 0:e.link)||(e==null?void 0:e.url)||"",L9=e=>O9(e).map(t=>{const r=String((t==null?void 0:t.status)||(t==null?void 0:t.result)||"").toLowerCase(),n=typeof(t==null?void 0:t.sent)=="boolean"?t.sent:r.includes("sent")||r.includes("success")||(t==null?void 0:t.ok)===!0;return{recipient:M9(t),sent:n,reason:(t==null?void 0:t.reason)||(t==null?void 0:t.message)||(t==null?void 0:t.error)||"",claimLink:D9(t)}}),R9=async e=>{var t;if(!e||typeof navigator>"u"||!((t=navigator.clipboard)!=null&&t.writeText))return!1;try{return await navigator.clipboard.writeText(e),!0}catch{return!1}},I9=({lessonId:e})=>{const[t,r]=b.useState(""),[n,s]=b.useState(""),[a,o]=b.useState(7),[c,l]=b.useState([]),[u,d]=b.useState(""),[m,f]=b.useState(""),[y,v]=b.useState(""),[p,w]=b.useState(!1),g=b.useMemo(()=>e?`${A9}/#/player/lesson/${e}`:"",[e]),h=b.useMemo(()=>{const _=lx({emails:t,phones:n});return _.emails.length>0||_.phone_numbers.length>0},[t,n]),x=async _=>{await R9(_)&&(v(_),window.setTimeout(()=>v(E=>E===_?"":E),1400))},N=async()=>{if(!e)return;const _=lx({emails:t,phones:n});if(_.emails.length===0&&_.phone_numbers.length===0){f("Enter at least one email or phone number."),d("");return}w(!0),f(""),d("");try{const P={..._,expires_in_days:Number.isFinite(Number(a))?Math.max(1,Number(a)):7},E=await kT(e,P),S=L9(E);l(S),d(S.length>0?"Invites processed.":"Invites sent.")}catch(P){const E=P instanceof Error?P.message:"Failed to send invites.";f(E)}finally{w(!1)}};return i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[i.jsx("div",{className:"mb-4 flex items-center justify-between",children:i.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Lesson Invites"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Emails"}),i.jsx("input",{type:"text",value:t,onChange:_=>r(_.target.value),placeholder:"athlete1@example.com, athlete2@example.com",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Phone numbers"}),i.jsx("input",{type:"text",value:n,onChange:_=>s(_.target.value),placeholder:"+1 555 111 2222, 555-333-4444",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Expires in days"}),i.jsx("input",{type:"number",min:1,value:a,onChange:_=>o(_.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsx("div",{className:"flex flex-col gap-2 sm:flex-row",children:i.jsx("button",{type:"button",onClick:N,disabled:p||!h,className:`rounded-xl px-4 py-2 text-sm font-semibold text-white transition ${p||!h?"cursor-not-allowed bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:p?"Sending":"Send Invites"})}),u?i.jsx("p",{className:"text-sm font-medium text-emerald-600",children:u}):null,m?i.jsx("p",{className:"text-sm font-medium text-rose-600",children:m}):null,g?i.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3",children:[i.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Shareable class link"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"min-w-0 flex-1 truncate text-sm text-emerald-900",children:g}),i.jsx("button",{type:"button",onClick:()=>x(g),className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:y===g?"Copied":"Copy"})]})]}):null,c.length>0?i.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Recipient"}),i.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),i.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Reason"}),i.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Claim Link"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map((_,P)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-3 py-2 text-slate-800",children:_.recipient}),i.jsx("td",{className:"px-3 py-2",children:i.jsx("span",{className:_.sent?"font-semibold text-emerald-600":"font-semibold text-rose-600",children:_.sent?"Sent":"Failed"})}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:_.reason||"-"}),i.jsx("td",{className:"px-3 py-2",children:_.claimLink?i.jsx("button",{type:"button",onClick:()=>x(_.claimLink),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:y===_.claimLink?"Copied":"Copy"}):i.jsx("span",{className:"text-slate-400",children:"-"})})]},`${_.recipient}-${P}`))})]})}):null]})]})},R_=[{id:0,name:"All"},{id:1,name:"Beginner (NTRP 2.5)",description:"Just getting started in the game"},{id:2,name:"Advanced Beginner (NTRP 3.0)",description:"I can rally but my strokes are not consistent yet"},{id:3,name:"Intermediate (NTRP 3.5)",description:"I can hit with spin and direction most of the time"},{id:4,name:"Advanced (NTRP 4.0)",description:"I can consistently rally with spin, direction, and pace"},{id:5,name:"Advanced Plus (NTRP 4.5)",description:"I have control over my shots and hit consistently with depth and pace"},{id:6,name:"Expert (NTRP 5.0)",description:"I have competitive experience and advanced skill levels"}],F9={private:"bg-[#FEE2E2] text-[#DC2626]","semi-private":"bg-[#FEF3C7] text-[#D97706]",group:"bg-[#D1FAE5] text-[#059669]"},z9={private:"bg-[#F1F5F9] text-[#94A3B8]","semi-private":"bg-[#F1F5F9] text-[#94A3B8]",group:"bg-[#F1F5F9] text-[#94A3B8]"},U9={confirmed:"Confirmed"},W9="https://ttp-player-web-staging.netlify.app".trim().replace(/\/$/,""),Y9=e=>{const[t,r]=b.useState(!1);return b.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia(e),s=()=>r(n.matches);return s(),n.addEventListener?(n.addEventListener("change",s),()=>n.removeEventListener("change",s)):(n.addListener(s),()=>n.removeListener(s))},[e]),t},H9=({isOpen:e,lesson:t,onClose:r,isEditing:n,onStartEdit:s,onCancelEdit:a,onSaveEdit:o,editData:c,onEditChange:l,mutationLoading:u=!1,onCancelLesson:d,students:m=[],coachCourts:f=[],formatDuration:y,onAcceptRequest:v,onDeclineRequest:p,onCreateLesson:w,coachHourlyRate:g=null})=>{var Ze,lr,Gt,Re,yr,Dr,xr,C,W,X,le,dt,cr,Et;const h=Y9("(max-width: 640px)"),[x,N]=b.useState(!0),[_,P]=b.useState(!1),[E,S]=b.useState(""),[j,M]=b.useState(null),[F,Q]=b.useState(!1),B=async({playerId:L,phone:ee}={})=>{var ht,xe;const He=typeof ee=="string"?ee.trim():"";if(He)return He;if(!L)return"";try{const Ye=await uT({playerId:L});return(Ye==null?void 0:Ye.phone)||(Ye==null?void 0:Ye.phone_number)||((ht=Ye==null?void 0:Ye.data)==null?void 0:ht.phone)||((xe=Ye==null?void 0:Ye.data)==null?void 0:xe.phone_number)||""}catch{return""}},O=async({playerId:L,phone:ee}={})=>{const He=await B({playerId:L,phone:ee}),ht=String(He||"").replace(/\s+/g,""),xe=`sms:${ht}`,Ye=`smsto:${ht}`;typeof window<"u"&&(window.location.href=xe,setTimeout(()=>{window.location.href=Ye},75))},K=async({playerId:L,phone:ee}={})=>{const He=await B({playerId:L,phone:ee}),ht=String(He||"").replace(/\s+/g,"");typeof window<"u"&&(window.location.href=`tel:${ht}`)},T=b.useMemo(()=>{var An,On,js,ks,Lr,Rr,Ya,Ha,Ba,Va,Ga,gn,la,qa,ca,$e,Jn;if(!t)return null;const L=(...Ut)=>{for(const Ie of Ut){const vn=Number(Ie);if(Number.isFinite(vn))return vn}return null},ee=L(t.created_by,t.createdBy,t.created_by_id,t.createdById,(An=t.metadata)==null?void 0:An.created_by,(On=t.metadata)==null?void 0:On.createdBy,(js=t.metadata)==null?void 0:js.created_by_id,(ks=t.metadata)==null?void 0:ks.createdById),He=L(t.coach_id,t.coachId,(Lr=t.coach)==null?void 0:Lr.id,(Rr=t.coach)==null?void 0:Rr.coach_id,(Ya=t.metadata)==null?void 0:Ya.coach_id,(Ha=t.metadata)==null?void 0:Ha.coachId),ht=Number(t.updated_by??t.updatedBy),xe=L(t.player_id,t.playerId,(Ba=t.player)==null?void 0:Ba.id,(Va=t.metadata)==null?void 0:Va.player_id,(Ga=t.metadata)==null?void 0:Ga.playerId),Ye=Number.isFinite(ee)&&Number.isFinite(xe)&&ee!==xe,ot=Number.isFinite(ee)&&Number.isFinite(He)&&ee===He||Ye,Qn=(Ut=>{if(Ut===2||Ut==="2")return"cancelled";if(Ut===0||Ut==="0")return"pending";if(Ut===1||Ut==="1"||!Ut)return"confirmed";const Ie=String(Ut).toLowerCase();return Ie.includes("pending")||Ie.includes("request")||Ie.includes("await")?"pending":Ie.includes("cancel")?"cancelled":Ie.includes("confirm")||Ie.includes("schedule")?"confirmed":Ie})(t.status??t.lessonStatus??t.lesson_status),Wa=(()=>{const Ut=Number(t.lessontype_id??t.lesson_type_id??t.lessonTypeId);if(Ut===2)return"semi-private";if(Ut===3)return"group";const Ie=t.lesson_type_name||t.lessonType||t.type||"",vn=String(Ie).toLowerCase();return vn.includes("semi")?"semi-private":vn.includes("group")||vn.includes("open")?"group":"private"})(),Xn=t.start_date_time||t.startDateTime,ia=t.end_date_time||t.endDateTime,gt=Xn?q.utc(Xn):null,Zn=ia?q.utc(ia):gt!=null&&gt.isValid()?gt.clone().add(1,"hour"):null,br=t.date||(gt!=null&&gt.isValid()?gt.format("dddd, MMMM D"):""),oa=t.startTime||(gt!=null&&gt.isValid()?gt.format("hh:mm a"):""),Ss=t.endTime||(Zn!=null&&Zn.isValid()?Zn.format("hh:mm a"):"");return{...t,lessonType:Wa,status:Qn,dateLabel:br,startTimeLabel:oa,endTimeLabel:Ss,isCoachCreatedLesson:ot,studentName:t.student||t.full_name||t.player_name||t.student_name||t.studentName||t.playerName||((gn=t.metadata)==null?void 0:gn.player_name)||"",studentLevel:t.level||((la=t.metadata)==null?void 0:la.level)||t.skill_level||"Intermediate",lessonsCompleted:t.lessonsCompleted||t.lessons_completed||0,studentMessage:t.studentMessage||t.message||((qa=t.metadata)==null?void 0:qa.message)||((ca=t.metadata)==null?void 0:ca.student_message)||"",cancellationReason:t.cancellationReason||t.cancellation_reason||t.cancel_reason||"",requestedAt:t.requestedAt||t.requested_at||t.request_time||"",cancelledAt:t.cancelledAt||t.cancelled_at||t.cancelled_time||"",cancelledBy:t.cancelledBy||t.cancelled_by||t.canceledBy||t.canceled_by||(Qn==="cancelled"&&Number.isFinite(ht)&&Number.isFinite(He)&&ht===He?"coach":Qn==="cancelled"&&Number.isFinite(ht)&&Number.isFinite(xe)&&ht===xe?"student":""),locationName:(($e=t.location)==null?void 0:$e.name)||t.location_name||t.location,locationAddress:((Jn=t.location)==null?void 0:Jn.address)||t.location_address||t.court||""}},[t]);b.useEffect(()=>{if(!e||!t)return;const L=t.lesson_id??t.lessonId??t.id,ee=t.player_id??t.playerId;if(!L&&!ee){M(null),S("");return}let He=!0;return(async()=>{P(!0),S("");try{const xe=await mT({lessonId:L,playerId:ee,perPage:25,page:1}),Ye=Array.isArray(xe)?xe:(xe==null?void 0:xe.usages)||(xe==null?void 0:xe.data)||(xe==null?void 0:xe.rows)||(xe==null?void 0:xe.records)||(xe==null?void 0:xe.results)||(xe==null?void 0:xe.items)||[],ot=Array.isArray(Ye)&&Ye[0]||null;He&&M(ot)}catch(xe){He&&(M(null),S(xe instanceof Error?xe.message:"Unable to load credit usage."))}finally{He&&P(!1)}})(),()=>{He=!1}},[e,t]);const Z=T!=null&&T.id?`${W9}/#/player/lesson/${T.id}`:"";if(!T)return null;const D=T.lessonType==="group",U=D?"Lesson Details":T.status==="pending"?"Lesson Request":"Lesson Details",V={private:"Private Lesson","semi-private":"Semi-Private Lesson",group:"Group Lesson"},I=T.lessonType==="group"||T.lessonType==="semi-private",G=(Array.isArray(T.group_players)?T.group_players:Array.isArray(T.groupPlayers)?T.groupPlayers:[]).map((L,ee)=>({id:L.player_id||L.playerId||L.id||`${L.full_name}-${ee}`,playerId:L.player_id||L.playerId||L.id||null,name:L.full_name||L.name||L.player_name||`Participant ${ee+1}`,initials:(L.full_name||L.name||L.player_name||"ST").split(" ").map(He=>He[0]).join("").slice(0,2).toUpperCase(),level:L.level||L.skill_level||T.studentLevel||"Intermediate",lessonsCompleted:L.lessonCount||L.lessonsCompleted||L.lessons_completed||0,phone:L.phone||L.phone_number||"",profilePicture:L.profile_picture||L.profilePicture||"",status:L.status})),J=(Ze=T.students)!=null&&Ze.length?T.students:T.studentName?[{id:T.player_id||T.playerId||T.id,playerId:T.player_id||T.playerId||null,name:T.studentName,initials:T.studentName.split(" ").map(L=>L[0]).join("").slice(0,2).toUpperCase(),level:T.studentLevel||"Intermediate",lessonsCompleted:T.lessonsCompleted||0}]:[],te=m!=null&&m.length?m.map(L=>({id:L.id||L.playerId||L.player_id||L.name,playerId:L.playerId||L.player_id||L.id||null,name:L.name||L.full_name||L.player_name,level:L.level||L.skill_level||"Intermediate",lessonsCompleted:L.lessonCount||L.lessonsCompleted||L.lessons_completed||0,phone:L.phone||L.phone_number||""})):[],de=I&&G.length>0,me=I?G:J.length?J:te,he=L=>L===1||L==="1"?"Confirmed":L===2||L==="2"?"Cancelled":L===0||L==="0"?"Pending":L||"Confirmed",je=L=>{const ee=String(L||"").toLowerCase();return ee.includes("cancel")?{text:"text-rose-600",dot:"bg-rose-500"}:ee.includes("pending")?{text:"text-amber-600",dot:"bg-amber-500"}:{text:"text-emerald-600",dot:"bg-emerald-500"}},Te=me.map((L,ee)=>{var He;return{id:L.id||`${L.name}-${ee}`,playerId:L.playerId||L.player_id||L.id||null,name:L.name||`Participant ${ee+1}`,initials:L.initials||((He=L.name)==null?void 0:He.split(" ").map(ht=>ht[0]).join("").slice(0,2).toUpperCase())||"ST",level:L.level||"Intermediate",lessonsCompleted:L.lessonsCompleted||0,phone:L.phone||"",status:he(L.status)}}),Ce=Te[0],Ee=T.durationMinutes||T.duration?`${(y==null?void 0:y(T.durationMinutes||T.duration))||T.durationMinutes||T.duration}`:"1 hour",ze=L=>{if(L==null||L==="")return null;const ee=Number(L);return Number.isFinite(ee)?ee:null},bt=ze(T.group_price_per_person)??ze(T.groupPricePerPerson)??ze(T.price_per_person)??ze(T.pricePerPerson),Rt=ze(g)??ze(T.hourly_rate)??ze(T.hourlyRate)??ze(T.pricePerHour)??ze(T.price_per_hour)??ze(T.rate)??ze(T.price),Ne=I?bt:Rt,Ct=I?"/ player":"/ hour",qr=Ne!==null?`$${Ne}`:"",Ke=L=>{if(L==null||L==="")return null;const ee=Number(L);return Number.isFinite(ee)?ee:null},Ht=(j==null?void 0:j.usage_status)??(j==null?void 0:j.usageStatus)??((lr=j==null?void 0:j.usage_metadata)==null?void 0:lr.status)??((Gt=j==null?void 0:j.usageMetadata)==null?void 0:Gt.status)??((Re=j==null?void 0:j.metadata)==null?void 0:Re.usage_status)??((yr=j==null?void 0:j.metadata)==null?void 0:yr.usageStatus),at=String(Ht||"").toLowerCase()||"confirmed",_e=at==="pending"?"bg-amber-100 text-amber-700":at==="restored"?"bg-slate-200 text-slate-700":"bg-emerald-100 text-emerald-700",It=Ke(j==null?void 0:j.credits_used)??Ke(j==null?void 0:j.creditsUsed)??Ke(j==null?void 0:j.used_credits)??Ke(j==null?void 0:j.credits_delta)??0,ir=Ke(j==null?void 0:j.credits_remaining)??Ke(j==null?void 0:j.creditsRemaining)??Ke((Dr=j==null?void 0:j.purchase)==null?void 0:Dr.credits_remaining)??Ke((xr=j==null?void 0:j.purchase)==null?void 0:xr.creditsRemaining),or=Ke(j==null?void 0:j.credits_total)??Ke(j==null?void 0:j.creditsTotal)??Ke((C=j==null?void 0:j.purchase)==null?void 0:C.credits_total)??Ke((W=j==null?void 0:j.purchase)==null?void 0:W.creditsTotal),Ft=(j==null?void 0:j.package_name)||(j==null?void 0:j.packageName)||((X=j==null?void 0:j.package)==null?void 0:X.name)||((le=j==null?void 0:j.package)==null?void 0:le.title)||"Package credits",Bt=Number(T.maxParticipants||T.max_participants||T.player_limit||T.capacity||T.max_players||8),it=Te.length,zt=Math.max(Bt-it,0),Or=Ne!==null?Ne*it:null,mn=T.status==="cancelled"?z9[T.lessonType]:F9[T.lessonType],vr=(L,ee)=>{l({...c,[L]:ee})},Vt=(L,ee)=>{l({...c,metadata:{...(c==null?void 0:c.metadata)||{},[L]:ee}})},Mr=()=>{r==null||r(),a==null||a()},pn=async()=>{var L;if(!(!Z||typeof navigator>"u"||!((L=navigator.clipboard)!=null&&L.writeText)))try{await navigator.clipboard.writeText(Z),Q(!0),window.setTimeout(()=>Q(!1),1400)}catch{Q(!1)}},A=()=>D?i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:pn,disabled:!Z,className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:bg-purple-300",children:F?" Link Copied":" Share Class"}),i.jsx("button",{type:"button",onClick:s,className:"flex-1 rounded-xl bg-slate-100 px-4 py-3 text-sm font-semibold text-slate-700 transition hover:bg-slate-200",children:" Edit Lesson Details"}),i.jsx("button",{type:"button",onClick:d,className:"flex-1 rounded-xl bg-red-100 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-200",children:"Cancel Class"})]}):T.status==="pending"?T.lessonType==="private"&&T.isCoachCreatedLesson?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm font-medium text-amber-700",children:"Awaiting player confirmation"}),i.jsx("button",{type:"button",onClick:p,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Cancel Lesson"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:v,className:"flex-1 rounded-xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-emerald-600",children:" Confirm Lesson"}),i.jsx("button",{type:"button",onClick:p,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Decline"})]}):T.status==="cancelled"?i.jsx("button",{type:"button",onClick:()=>O({playerId:T.player_id??T.playerId}),className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700",children:" Message Student"}):T.type==="available"?i.jsx("button",{type:"button",onClick:()=>w==null?void 0:w(T),className:"flex-1 rounded-xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-emerald-600",children:"Create Lesson"}):i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:()=>O({playerId:T.player_id??T.playerId}),className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700",children:" Message Student"}),i.jsx("button",{type:"button",onClick:d,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Cancel Lesson"})]}),se=T.cancelledBy?`${T.cancelledBy}`.charAt(0).toUpperCase()+`${T.cancelledBy}`.slice(1):"Student",ae=T.start_date_time?q.utc(T.start_date_time):null,be=ae!=null&&ae.isValid()?ae.fromNow().replace("in ","Starts in "):"Starts soon",Be=["from-violet-500 to-violet-300","from-blue-500 to-sky-400","from-emerald-500 to-green-300","from-amber-500 to-yellow-300","from-pink-500 to-rose-300"];return i.jsxs(Ua,{isOpen:e,onClose:Mr,placement:h?"bottom":"center",overlayClassName:"bg-black/40",panelClassName:`flex w-full flex-col overflow-hidden bg-white shadow-2xl ${h?"max-h-[88vh] rounded-t-3xl":"max-h-[90vh] w-[390px] max-w-[94vw] rounded-2xl"}`,children:[h&&i.jsx("div",{className:"mx-auto mt-3 h-1 w-9 rounded-full bg-slate-200"}),i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white px-4 py-3 sm:px-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:n?a:Mr,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-500 transition hover:bg-slate-200",children:i.jsx(z1,{className:"h-5 w-5"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n?"Edit Lesson":U})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[D&&!n&&T.status!=="cancelled"&&i.jsx("button",{type:"button",onClick:s,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600 transition hover:bg-slate-200",children:i.jsx(XP,{className:"h-4 w-4"})}),n&&i.jsx("button",{type:"button",onClick:o,disabled:u,className:`rounded-lg px-4 py-2 text-sm font-semibold text-white transition ${u?"cursor-wait bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:u?"Saving":"Save"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 px-4 pb-6 pt-4 sm:px-6",children:n?i.jsx("div",{className:"space-y-5",children:D?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Lesson Title"}),i.jsx("input",{type:"text",value:((dt=c==null?void 0:c.metadata)==null?void 0:dt.title)||(c==null?void 0:c.title)||(c==null?void 0:c.lesson_title)||"",onChange:L=>Vt("title",L.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Date & Time"}),i.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700",children:[T.dateLabel,"  ",T.startTimeLabel,T.endTimeLabel?` - ${T.endTimeLabel}`:""]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Location"}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-100 px-4 py-3 text-sm font-medium text-slate-700",children:T.locationName||"TBD"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Price per Person"}),i.jsxs("div",{className:"inline-flex items-center rounded-xl border border-slate-200 bg-slate-100 px-3 py-2",children:[i.jsx("span",{className:"mr-1 text-lg text-slate-500",children:"$"}),i.jsx("span",{className:"w-24 text-lg font-semibold text-slate-800",children:Ne??""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Max Participants"}),i.jsx("input",{type:"number",min:it,value:(c==null?void 0:c.player_limit)||(c==null?void 0:c.max_participants)||(c==null?void 0:c.maxParticipants)||Bt,onChange:L=>vr("player_limit",L.target.value),className:"w-24 rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-center text-base font-semibold text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[it," already booked"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Skill Level"}),i.jsx("select",{value:((cr=c==null?void 0:c.metadata)==null?void 0:cr.level)||(c==null?void 0:c.level)||"All",onChange:L=>Vt("level",L.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500",children:R_.map(L=>i.jsx("option",{value:L.name,children:L.name},L.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Description"}),i.jsx("textarea",{value:((Et=c==null?void 0:c.metadata)==null?void 0:Et.description)||(c==null?void 0:c.description)||"",onChange:L=>Vt("description",L.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500",rows:4,placeholder:"All levels welcome"})]}),i.jsxs("div",{className:"rounded-xl bg-amber-100 px-4 py-3 text-sm text-amber-900",children:[" Notify participants? ",it," booked participants will be notified of changes."]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Time"}),i.jsx("input",{type:"time",value:c==null?void 0:c.time,onChange:L=>vr("time",L.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Location"}),i.jsx("select",{value:c==null?void 0:c.location,onChange:L=>vr("location",L.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:f.map(L=>i.jsx("option",{value:L,children:L},L))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Court"}),i.jsx("input",{type:"text",value:c==null?void 0:c.court,onChange:L=>vr("court",L.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})}):i.jsxs("div",{className:"space-y-5",children:[D&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-blue-100 px-4 py-3",children:[i.jsx("span",{className:"text-base",children:""}),i.jsx("p",{className:"text-sm font-semibold text-blue-900",children:T.status==="cancelled"?"Cancelled":"Upcoming"}),i.jsx("p",{className:"ml-auto text-xs font-semibold text-blue-700",children:be})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-blue-100 text-lg",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-600",children:"Group Lesson"}),i.jsx("p",{className:"text-lg font-bold text-slate-800",children:T.title||T.lesson_title||"Group Lesson"})]}),i.jsx("span",{className:"rounded-lg bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-600",children:T.status==="cancelled"?"Cancelled":"Open"})]}),i.jsxs("div",{className:"mt-4 space-y-3 border-t border-slate-100 pt-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Date & Time"}),i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[T.dateLabel,"  ",T.startTimeLabel]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Duration"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ee})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Location"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:T.locationName||"TBD"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Price"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ne!==null?`$${Ne} per person`:""})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-emerald-50 px-4 py-3",children:[i.jsxs("p",{className:"text-sm text-emerald-900",children:["Expected revenue (",it," participants)"]}),i.jsx("p",{className:"text-xl font-bold text-emerald-600",children:Or!==null?`$${Or}`:""})]}),i.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:"Participants"}),i.jsxs("span",{className:"rounded-full bg-violet-100 px-2 py-0.5 text-xs font-semibold text-violet-600",children:[it," of ",Bt]})]}),i.jsx("button",{type:"button",className:"rounded-lg bg-violet-500 px-3 py-2 text-xs font-semibold text-white",children:" Text All"})]}),x&&i.jsxs("div",{className:"space-y-1 p-2",children:[Te.length===0&&i.jsx("p",{className:"px-2 py-3 text-sm text-slate-500",children:"No participants yet."}),Te.map((L,ee)=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-br ${Be[ee%Be.length]} text-sm font-bold text-white`,children:L.initials}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:L.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["USTA ",L.level,"  ",L.lessonsCompleted," lessons"]}),i.jsxs("p",{className:`mt-1 flex items-center gap-1 text-[11px] font-semibold ${je(L.status).text}`,children:[i.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${je(L.status).dot}`}),L.status]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",onClick:()=>O({playerId:L.playerId,phone:L.phone}),className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:i.jsx($f,{className:"h-4 w-4"})}),i.jsx("button",{type:"button",onClick:()=>K({playerId:L.playerId,phone:L.phone}),className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:i.jsx(gy,{className:"h-4 w-4"})})]})]},L.id))]}),zt>0&&i.jsxs("div",{className:"border-t border-amber-200 bg-amber-100 px-4 py-3 text-sm text-amber-900",children:[" ",zt," spots still available"]})]})]}),!D&&i.jsxs(i.Fragment,{children:[T.status==="pending"&&i.jsx("div",{className:"rounded-xl border border-yellow-200 bg-gradient-to-r from-[#FEF3C7] to-[#FDE68A] p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Awaiting Player Confirmation"}),i.jsx("p",{className:"text-xs text-yellow-800",children:T.isCoachCreatedLesson?`Created ${T.requestedAt||"recently"}`:`Requested ${T.requestedAt||"recently"}`})]})]})}),T.status==="cancelled"&&i.jsx("div",{className:"rounded-xl border border-red-200 bg-[#FEE2E2] p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-red-800",children:["Cancelled by ",se]}),i.jsx("p",{className:"text-xs text-red-600",children:T.cancelledAt||"Recently"})]})]})}),i.jsxs("div",{className:`inline-flex items-center gap-2 rounded-lg px-3 py-1 text-xs font-semibold uppercase ${mn}`,children:[" ",V[T.lessonType]]}),de?i.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:"Participants"}),i.jsx("span",{className:"rounded-full bg-violet-100 px-2 py-0.5 text-xs font-semibold text-violet-600",children:it})]}),i.jsx("button",{type:"button",onClick:()=>N(L=>!L),className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:x?"Hide":"Show"})]}),x&&i.jsx("div",{className:"space-y-1 p-2",children:Te.map((L,ee)=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-br ${Be[ee%Be.length]} text-sm font-bold text-white`,children:L.initials}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:L.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["USTA ",L.level,"  ",L.lessonsCompleted," lessons"]}),i.jsxs("p",{className:`mt-1 flex items-center gap-1 text-[11px] font-semibold ${je(L.status).text}`,children:[i.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${je(L.status).dot}`}),L.status]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{type:"button",onClick:()=>O({playerId:L.playerId,phone:L.phone}),className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:i.jsx($f,{className:"h-4 w-4"})}),i.jsx("button",{type:"button",onClick:()=>K({playerId:L.playerId,phone:L.phone}),className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:i.jsx(gy,{className:"h-4 w-4"})})]})]},L.id))})]}):Ce?i.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-50 p-4",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-purple-300 text-sm font-bold text-white",children:Ce.initials}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-base font-semibold text-slate-900",children:Ce.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[Ce.level,"  ",Ce.lessonsCompleted," lessons"]})]}),i.jsx("button",{type:"button",onClick:()=>O({playerId:Ce.playerId,phone:Ce.phone}),className:"flex h-9 w-9 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:i.jsx($f,{className:"h-5 w-5"})})]}):null,T.status==="pending"&&T.studentMessage&&i.jsxs("div",{className:"rounded-xl border border-slate-100 border-l-4 border-l-purple-500 bg-slate-50 p-4",children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-slate-400",children:"Message from Student"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:T.studentMessage})]}),T.status==="cancelled"&&T.cancellationReason&&i.jsxs("div",{className:"rounded-xl border border-red-100 border-l-4 border-l-red-500 bg-red-50 p-4",children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-slate-400",children:"Cancellation Reason"}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:T.cancellationReason})]}),i.jsxs("div",{className:"space-y-4 sm:grid sm:grid-cols-2 sm:gap-4 sm:space-y-0",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[i.jsx(Di,{className:"h-4 w-4"}),T.status==="pending"?"Requested Time":"Date & Time"]}),i.jsx("p",{className:`mt-2 text-base font-semibold ${T.status==="cancelled"?"text-slate-300 line-through":"text-slate-900"}`,children:T.dateLabel}),i.jsxs("p",{className:"text-sm text-slate-500",children:[T.startTimeLabel,T.endTimeLabel?`  ${T.endTimeLabel}`:""," (",Ee,")"]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[i.jsx(Li,{className:"h-4 w-4"}),"Location"]}),i.jsx("p",{className:"mt-2 text-base font-semibold text-slate-900",children:T.locationName||"TBD"}),i.jsx("p",{className:"text-sm text-slate-500",children:T.locationAddress||""})]}),T.status==="confirmed"&&i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[i.jsx(yy,{className:"h-4 w-4"}),"Status"]}),i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-600",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),U9.confirmed]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[i.jsx(M1,{className:"h-4 w-4"}),"Lesson Fee"]}),i.jsxs("p",{className:`mt-2 text-lg font-semibold ${T.status==="cancelled"?"text-slate-300 line-through":"text-slate-900"}`,children:[qr," ",i.jsx("span",{className:"text-sm font-normal text-slate-400",children:Ct})]})]})]}),!I&&i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[i.jsx(yy,{className:"h-4 w-4"}),"Player's Credit Usage"]}),_?i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Loading credit usage"}):E?i.jsx("p",{className:"mt-3 text-sm text-red-500",children:E}):j?i.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3 rounded-xl bg-white p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Ft}),i.jsxs("p",{className:"text-xs text-slate-500",children:[It," credit",It===1?"":"s"," used for this lesson"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-base font-bold text-purple-600",children:ir!==null?`${ir} left`:""}),i.jsx("p",{className:"text-xs text-slate-500",children:or!==null?`of ${or} credits`:"credits"}),i.jsx("span",{className:`mt-1 inline-flex rounded-full px-2 py-0.5 text-[11px] font-semibold capitalize ${_e}`,children:at})]})]}):i.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No credit usage found for this lesson."})]})]}),T!=null&&T.id?i.jsx(I9,{lessonId:T.id}):null]})}),!n&&i.jsx("div",{className:"border-t border-slate-100 bg-white px-5 py-5 sm:px-6",children:i.jsx("div",{className:"flex flex-col gap-3 sm:flex-row",children:A()})})]})},I_=async e=>{try{return await e.json()}catch{return null}},B9=async(e,t)=>{if(!e||!t)throw new Error("Email and password are both required to log in.");const r=await fetch(`${Hr}/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({email:e,password:t})}),n=await I_(r);return{ok:r.ok,status:r.status,data:n}},V9=async(e={})=>{const t=await fetch(`${Hr}/coach/signup/`,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(e)}),r=await I_(t);return{ok:t.ok,status:t.status,data:r}},cx={coach:1,player:2},F_=b.createContext(null),G9=()=>{if(typeof window>"u"||!window.localStorage)return null;try{const e=window.localStorage.getItem(jp);return e?JSON.parse(e):null}catch(e){return console.error("Failed to parse stored auth state",e),null}},Qf=e=>{if(!(typeof window>"u"||!window.localStorage)){if(!e){window.localStorage.removeItem(jp);return}window.localStorage.setItem(jp,JSON.stringify(e))}},ux=e=>({session:e,userType:(e==null?void 0:e.user_type)??null,userId:(e==null?void 0:e.user_id)??null,onboardingComplete:!!((e==null?void 0:e.onboarding_complete)??(e==null?void 0:e.is_complete)),profile:(e==null?void 0:e.profile)??null}),q9=({children:e})=>{const[t,r]=b.useState(()=>G9()),[n,s]=b.useState(!0),[a,o]=b.useState(null),[c,l]=b.useState(!1);b.useEffect(()=>{s(!1)},[]);const u=b.useCallback(async()=>{l(!1),o(null),r(null),Qf(null),await Wo()},[]),d=b.useCallback(async(y,v)=>{o(null),l(!0);try{const p=await B9(y,v);if(!p.ok){let g="Unable to log in with the provided credentials.";throw p.status===404?g="No user found with this email address.":p.status===403&&(g="Incorrect password."),new Error(g)}if(!p.data)throw new Error("Login response did not include user data.");if(p.data.user_type!==cx.coach)throw new Error("This portal is only available to coaches.");await rp(p.data.access_token,p.data.refresh_token);const w=ux(p.data);return r(w),Qf(w),o(null),{data:w}}catch(p){const w=p instanceof Error?p.message:"Unexpected error while logging in.";return o(w),await Wo(),{error:w}}finally{l(!1)}},[]),m=b.useCallback(async y=>{o(null),l(!0);try{const v=await V9(y);if(!v.ok){let w="Unable to create the account with the provided details.";throw v.status===400?w="Please review your details and try again.":v.status===409&&(w="An account with this email already exists."),new Error(w)}if(!v.data)throw new Error("Signup response did not include user data.");if(v.data.user_type!==cx.coach)throw new Error("This portal only supports coach accounts.");await rp(v.data.access_token,v.data.refresh_token);const p=ux(v.data);return r(p),Qf(p),o(null),{data:p}}catch(v){const p=v instanceof Error?v.message:"Unexpected error while creating the account.";return o(p),await Wo(),{error:p}}finally{l(!1)}},[]),f=b.useMemo(()=>({user:t,authLoading:c,authError:a,initialising:n,login:d,signup:m,logout:u}),[t,c,a,n,d,m,u]);return i.jsx(F_.Provider,{value:f,children:e})},Og=()=>{const e=b.useContext(F_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Mc={email:"",password:""},K9={fullName:"",email:"",phone:"",password:"",confirmPassword:""},Q9=()=>{const{login:e,signup:t,authLoading:r,authError:n}=Og(),[s,a]=b.useState("login"),[o,c]=b.useState(Mc),[l,u]=b.useState(null),d=b.useCallback((v,p)=>{c(w=>({...w,[v]:p}))},[]),m=b.useCallback(()=>{const v=/.+@.+\..+/i;return o.email.trim()?v.test(o.email.trim())?s==="login"?o.password?null:"Please enter your password.":o.fullName.trim()?o.phone.trim()?!o.password||o.password.length<8?"Please create a password with at least 8 characters.":o.password!==o.confirmPassword?"Passwords do not match.":null:"Please enter your contact number.":"Please enter your full name.":"Please enter a valid email address.":"Please enter your email address."},[o,s]),f=b.useCallback(async v=>{v.preventDefault(),u(null);const p=m();if(p){u(p);return}if(s==="login"){const w=await e(o.email.trim(),o.password);w!=null&&w.error?u(w.error):c(Mc)}else{const w={full_name:o.fullName.trim(),email:o.email.trim(),phone:o.phone.trim(),phone_number:o.phone.trim(),password:o.password,confirm_password:o.confirmPassword},g=await t(w);g!=null&&g.error?u(g.error):(c(Mc),a("login"))}},[o,s,e,t,m]),y=b.useCallback(()=>{u(null),s==="login"?(a("signup"),c(K9)):(a("login"),c(Mc))},[s]);return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-green-50 to-white px-4 py-12",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-emerald-100 bg-white p-8 shadow-xl",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 text-2xl font-bold text-white",children:"TP"}),i.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Coach Portal"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s==="login"?"Sign in to manage your coaching profile.":"Create your coach account to get started."})]}),i.jsxs("form",{className:"space-y-6",onSubmit:f,children:[s==="signup"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-full-name",children:"Full name"}),i.jsx("input",{id:"coach-signup-full-name",type:"text",autoComplete:"name",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:o.fullName,onChange:v=>d("fullName",v.target.value),disabled:r})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-phone",children:"Mobile number"}),i.jsx("input",{id:"coach-signup-phone",type:"tel",autoComplete:"tel",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:o.phone,onChange:v=>d("phone",v.target.value),disabled:r})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-login-email",children:"Email"}),i.jsx("input",{id:"coach-login-email",type:"email",autoComplete:"email",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:o.email,onChange:v=>d("email",v.target.value),disabled:r})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-login-password",children:"Password"}),i.jsx("input",{id:"coach-login-password",type:"password",autoComplete:"current-password",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:o.password,onChange:v=>d("password",v.target.value),disabled:r})]}),s==="signup"&&i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-confirm-password",children:"Confirm password"}),i.jsx("input",{id:"coach-signup-confirm-password",type:"password",autoComplete:"new-password",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:o.confirmPassword,onChange:v=>d("confirmPassword",v.target.value),disabled:r})]}),(l||n)&&i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:l||n}),i.jsx("button",{type:"submit",className:"flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:from-green-600 hover:to-emerald-700 disabled:cursor-not-allowed disabled:opacity-70",disabled:r,children:r?s==="login"?"Signing in":"Creating account":s==="login"?"Sign In":"Create Account"})]}),i.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:s==="login"?i.jsxs(i.Fragment,{children:["Need an account?"," ",i.jsx("button",{type:"button",onClick:y,className:"font-medium text-emerald-600 hover:text-emerald-700",children:"Sign up as a coach"})]}):i.jsxs(i.Fragment,{children:["Already have an account?"," ",i.jsx("button",{type:"button",onClick:y,className:"font-medium text-emerald-600 hover:text-emerald-700",children:"Back to sign in"})]})}),i.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"Access restricted to verified coaches. Please contact support if you need assistance."})]})})},z_={weekly:{},weeklyLocations:{},adHoc:[],blockedSlots:[]},dx=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},X9=e=>{if(!e)return"";const t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${t}:${r}`},fx=e=>{if(!e||typeof e!="object"||e.date&&e.time)return e;const t=dx(e.start_date_time||e.startDateTime||e.start),r=dx(e.end_date_time||e.endDateTime||e.end),n=t&&r?Math.max(0,(r-t)/6e4):null,s=n!==null?Math.max(1,Math.round(n/30)):2,a=e.lesson_type_name||e.lessonType||e.type||"",c=e.status===0?"pending":e.lessonStatus||"scheduled";return{...e,id:e.id??e.lesson_id??e.lessonId,date:t?t.toISOString().split("T")[0]:e.date,time:t?X9(t):e.time,duration:e.duration??s,type:typeof a=="string"?a.toLowerCase():e.type,student:e.student||e.full_name||e.player_name||e.playerName||"",location:e.location||e.court||e.venue||"",lessonStatus:c}},mx=e=>Array.isArray(e)?e.map(fx):e&&Array.isArray(e.lessons)?e.lessons.map(fx):[],Z9=e=>Array.isArray(e)?e:e&&Array.isArray(e.lessons)?e.lessons:[],J9=async({perPage:e=100,maxPages:t=100}={})=>{const r=[];for(let n=1;n<=t;n+=1){const s=await Xc({perPage:e,page:n}),a=Z9(s);if(a.length===0)break;r.push(...a);const o=(s==null?void 0:s.pagination)||(s==null?void 0:s.meta)||(s==null?void 0:s.pageInfo)||{},c=Number(o.totalPages||o.total_pages||o.pages);if(Number.isFinite(c)&&n>=c||a.length<e)break}return r},kp=(e,t,r,n,s)=>{if(!t||!r||!n)return;const a=`${r} - ${n}`,o=e.weekly[t]?[...e.weekly[t]]:[];o.includes(a)||o.push(a),e.weekly[t]=o;const c={...e.weeklyLocations[t]||{}};s&&(c[a]=s),e.weeklyLocations[t]=c},Cp=e=>{if(!e)return null;const t=e.start||e.startTime,r=e.end||e.endTime||e.finish,n=e.date;return!n||!t?null:{...e,id:e.id??e.availabilityId,date:n,start:t,end:r,location:e.location||e.court||e.venue||"",type:e.type||"ad-hoc"}},eH=e=>{if(!e)return{...z_};const t={weekly:{},weeklyLocations:{},adHoc:[],blockedSlots:[]},r=l=>{if(!l)return;const u=(l.dayOfWeek||l.day||l.day_of_week||"").toString().trim(),d=l.start||l.startTime||l.from,m=l.end||l.endTime||l.to,f=l.location||l.location_name||l.court||l.venue||"";kp(t,u,d,m,f)},n=(l,u,d={})=>{Array.isArray(u)&&u.forEach(m=>{if(typeof m=="string"){const[f,y]=m.split("-").map(p=>p.trim()),v=`${f} - ${y}`;kp(t,l,f,y,d[v])}else r({...m,day:l})})},s=l=>{Array.isArray(l)&&l.forEach(u=>{const d=Cp(u);d&&t.adHoc.push(d)})};if(Array.isArray(e))return e.forEach(l=>{const u=Cp(l);u?t.adHoc.push(u):r(l)}),t.schedule=e,t;Array.isArray(e.blockedSlots)&&(t.blockedSlots=e.blockedSlots);const a=e.weekly||e.recurring||e.recurringAvailability||e.slots||{};Object.entries(a||{}).forEach(([l,u])=>{const d=(e.weeklyLocations||e.locations||{})[l]||{};n(l,u,d)});const o=e.weeklyLocations||e.locations||{};Object.entries(o).forEach(([l,u])=>{t.weeklyLocations[l]={...t.weeklyLocations[l]||{},...u||{}},t.weekly[l]||(t.weekly[l]=Object.keys(u||{}))});const c=e.adHoc||e.adhoc||e.oneOff||e.single||e.ad_hoc||[];return Array.isArray(c)?s(c):Array.isArray(c==null?void 0:c.slots)&&s(c.slots),t},tH=(e,t,r)=>{const n={weekly:{...(e==null?void 0:e.weekly)||{}},weeklyLocations:{...(e==null?void 0:e.weeklyLocations)||{}},adHoc:Array.isArray(e==null?void 0:e.adHoc)?[...e.adHoc]:[],blockedSlots:Array.isArray(e==null?void 0:e.blockedSlots)?[...e.blockedSlots]:[]};if(!t&&!r)return n;const s=t||r||{};if(s.date||r!=null&&r.date){const u=Cp({...r,...s});if(u){const d=n.adHoc.filter(m=>!(m.date===u.date&&m.start===u.start));d.push(u),n.adHoc=d}return n}const a=s.dayOfWeek||s.day||(r==null?void 0:r.day)||(r==null?void 0:r.dayOfWeek),o=s.start||s.startTime||(r==null?void 0:r.start)||(r==null?void 0:r.startTime),c=s.end||s.endTime||(r==null?void 0:r.end)||(r==null?void 0:r.endTime),l=s.location||s.court||(r==null?void 0:r.location)||"";return kp(n,a,o,c,l),n},rH=e=>e?e.stats&&typeof e.stats=="object"?e.stats:e:null,px=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return null;const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`},nH=({enabled:e=!0,date:t,dates:r}={})=>{const[n,s]=b.useState([]),[a,o]=b.useState([]),[c,l]=b.useState({...z_}),[u,d]=b.useState(null),[m,f]=b.useState([]),[y,v]=b.useState(!!e),[p,w]=b.useState(null),[g,h]=b.useState(!1),[x,N]=b.useState(null),_=b.useCallback(async(j,M)=>{if(!e){v(!1);return}v(!0);try{const F=px(j),Q=Array.isArray(M)?M.map(G=>px(G)).filter(Boolean).filter((G,J,te)=>te.indexOf(G)===J):[],B=Q.length>0?Q.map(G=>Xc({date:G})):[Xc(F?{date:F}:{perPage:100,page:1})],O=Q.length>0?[...Q].sort():F?[F]:[],K=O.length>0?`${O[0]}T00:00:00.000Z`:null,T=O.length>0?`${O[O.length-1]}T23:59:59.999Z`:null,[Z,D,U,V,I]=await Promise.allSettled([Promise.allSettled(B),J9({perPage:100}),NT(),ST(),K&&T?jT({timeMin:K,timeMax:T}):Promise.resolve([])]);let z=null;if(Z.status==="fulfilled"){const G=Z.value,J=[];let te=null;G.forEach(de=>{if(de.status==="fulfilled"){const me=de.value;Array.isArray(me)?J.push(...me):me&&Array.isArray(me.lessons)&&J.push(...me.lessons)}else te||(te=de.reason)}),s(mx(J)),J.length===0&&te&&!z&&(z=te)}else z||(z=Z.reason);if(D.status==="fulfilled"?o(mx(D.value)):(o([]),z||(z=D.reason)),U.status==="fulfilled"?l(eH(U.value)):z||(z=U.reason),V.status==="fulfilled"?d(rH(V.value)):(d(null),z||(z=V.reason)),I.status==="fulfilled"){const G=I.value,J=Array.isArray(G)?G:(G==null?void 0:G.events)||(G==null?void 0:G.items)||[];f(J)}else f([]);if(z)throw z;w(null)}catch(F){const Q=F instanceof Error?F:new Error("Failed to load schedule data");w(Q)}finally{v(!1)}},[e]);b.useEffect(()=>{if(!e){v(!1);return}_(t,r)},[t,r,e,_]);const P=b.useCallback((j,M)=>_(j??t,M??r),[t,r,_]),E=b.useCallback(async j=>{if(!j)throw new Error("A slot payload is required to create availability.");h(!0),N(null);try{const M=await _T(j);return l(F=>tH(F,M,j)),M}catch(M){const F=M instanceof Error?M:new Error("Failed to create availability");throw N(F),F}finally{h(!1)}},[]),S=b.useCallback(async(j,M={})=>{if(!j)throw new Error("A lesson id is required to update a lesson.");h(!0),N(null);try{const F=await hT(j,M);return s(Q=>Q.map(B=>B.id!==j?B:F&&typeof F=="object"&&!Array.isArray(F)?{...B,...F}:{...B,...M})),F}catch(F){const Q=F instanceof Error?F:new Error("Failed to update lesson");throw N(Q),Q}finally{h(!1)}},[]);return{lessons:n,upcomingLessons:a,availability:c,stats:u,googleEvents:m,loading:y,error:p,refresh:P,addAvailabilitySlot:E,updateLesson:S,mutationLoading:g,mutationError:x}},sH=e=>Array.isArray(e)?e:e&&Array.isArray(e.students)?e.students:[],aH=({enabled:e=!0,perPage:t=5,search:r=""}={})=>{const[n,s]=b.useState([]),[a,o]=b.useState(!!e),[c,l]=b.useState(!1),[u,d]=b.useState(null),[m,f]=b.useState(1),[y,v]=b.useState(!0),[p,w]=b.useState(0),g=b.useCallback(async N=>{if(!e)return o(!1),[];N===1?o(!0):l(!0);try{const _=await cT({perPage:t,page:N,search:r}),P=sH(_);return s(E=>N===1?P:[...E,...P]),v(P.length>=t),d(null),P}catch(_){const P=_ instanceof Error?_:new Error("Failed to load students");return d(P),[]}finally{N===1?o(!1):l(!1)}},[e,t,r]);b.useEffect(()=>{if(!e){o(!1);return}s([]),v(!0),l(!1),f(1)},[e,t,r]),b.useEffect(()=>{e&&g(m)},[e,g,m,p]);const h=b.useCallback(()=>{s([]),v(!0),f(1),w(N=>N+1)},[]),x=b.useCallback(()=>{c||a||!y||f(N=>N+1)},[y,a,c]);return{students:n,setStudents:s,loading:a,loadingMore:c,error:u,hasMore:y,loadMore:x,page:m,perPage:t,refresh:h}},Dc=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),bn=(...e)=>{for(const t of e)if(t!=null)return t},Xf=(e,t)=>{if(typeof e=="number"&&!Number.isNaN(e))return e;const r=Number(e);return Number.isFinite(r)?r:t},hx=(e,t=null,r=null)=>{var x;const n=cs(),s=t?{...n,...t}:n,a=Dc(e)?e:{},o=a.profile||((x=a.data)==null?void 0:x.profile)||a.data||a.result||a.coach||a,c=bn(o==null?void 0:o.id,o==null?void 0:o.profile_id,o==null?void 0:o.coach_profile_id,a==null?void 0:a.id,r,s.id),l={...s,id:c??null,profileImageFile:null},u=bn(o==null?void 0:o.full_name,o==null?void 0:o.fullName,o==null?void 0:o.name);u!==void 0&&(l.name=u);const d=bn(o==null?void 0:o.experience_years,o==null?void 0:o.experienceYears,a==null?void 0:a.experience_years);d!==void 0&&(l.experience_years=d);const m=bn(o==null?void 0:o.about_me,o==null?void 0:o.aboutMe,o==null?void 0:o.bio);m!==void 0&&(l.bio=m);const f=bn(o==null?void 0:o.email,a==null?void 0:a.email);f!==void 0&&(l.email=f);const y=bn(o==null?void 0:o.phone,o==null?void 0:o.phone_number,a==null?void 0:a.phone);y!==void 0&&(l.phone=y);const v=bn(o==null?void 0:o.hourly_rate,o==null?void 0:o.hourlyRate,o==null?void 0:o.rate,o==null?void 0:o.price_private,a==null?void 0:a.hourly_rate,a==null?void 0:a.price_private);v!==void 0&&(l.price_private=Xf(v,s.price_private));const p=bn(o==null?void 0:o.price_semi,o==null?void 0:o.priceSemi,a==null?void 0:a.price_semi,a==null?void 0:a.priceSemi);p!==void 0&&(l.price_semi=Xf(p,s.price_semi));const w=bn(o==null?void 0:o.price_group,o==null?void 0:o.priceGroup,a==null?void 0:a.price_group,a==null?void 0:a.priceGroup);w!==void 0&&(l.price_group=Xf(w,s.price_group));const g=bn(o==null?void 0:o.profile_picture,o==null?void 0:o.profilePicture,o==null?void 0:o.profile_image,o==null?void 0:o.profileImage,o==null?void 0:o.avatar,a==null?void 0:a.profile_picture);g!==void 0&&(l.profileImage=g),Array.isArray(o==null?void 0:o.home_courts)&&(l.home_courts=o.home_courts),Array.isArray(o==null?void 0:o.homeCourts)&&(l.home_courts=o.homeCourts),Array.isArray(o==null?void 0:o.levels)&&(l.levels=o.levels),Array.isArray(o==null?void 0:o.specialties)&&(l.specialties=o.specialties),Array.isArray(o==null?void 0:o.formats)&&(l.formats=o.formats),Array.isArray(o==null?void 0:o.packages)&&(l.packages=o.packages),Array.isArray(o==null?void 0:o.languages)&&(l.languages=o.languages),typeof(o==null?void 0:o.otherLanguage)=="string"&&(l.otherLanguage=o.otherLanguage),typeof(o==null?void 0:o.other_language)=="string"&&(l.otherLanguage=o.other_language),Dc(o==null?void 0:o.availability)&&(l.availability={...l.availability,...o.availability}),Dc(o==null?void 0:o.availabilityLocations)&&(l.availabilityLocations={...l.availabilityLocations,...o.availabilityLocations}),Dc(o==null?void 0:o.availability_locations)&&(l.availabilityLocations={...l.availabilityLocations,...o.availability_locations}),Array.isArray(o==null?void 0:o.groupClasses)&&(l.groupClasses=o.groupClasses),Array.isArray(o==null?void 0:o.group_classes)&&(l.groupClasses=o.group_classes),(o==null?void 0:o.stripe_account_id)!==void 0&&(l.stripe_account_id=o.stripe_account_id),(o==null?void 0:o.charges_enabled)!==void 0&&(l.charges_enabled=!!o.charges_enabled),(o==null?void 0:o.charges_disabled_reason)!==void 0&&(l.charges_disabled_reason=o.charges_disabled_reason);const h=!!(bn(a==null?void 0:a.is_complete,a==null?void 0:a.isCompleted,a==null?void 0:a.onboarding_complete,o==null?void 0:o.is_complete,o==null?void 0:o.isCompleted,o==null?void 0:o.is_completed,o==null?void 0:o.onboarding_complete)??(l.name&&l.bio));return{id:l.id,profile:l,isComplete:h,raw:e}},iH=({enabled:e=!0}={})=>{const[t,r]=b.useState(()=>cs()),[n,s]=b.useState(null),[a,o]=b.useState(!!e),[c,l]=b.useState(null),[u,d]=b.useState(!1),[m,f]=b.useState(!1),y=b.useCallback(async()=>{if(!e)return o(!1),null;o(!0),l(null);try{const w=await x9();if(!w)return f(!0),d(!1),r(cs()),s(null),null;if(!w.ok){let x=`Failed to fetch coach onboarding (${w.status})`;try{const N=await w.json();x=(N==null?void 0:N.detail)||(N==null?void 0:N.message)||(N==null?void 0:N.error)||x}catch{}throw new Error(x)}const g=w.status===204?null:await w.json().catch(()=>null),h=hx(g);return r(h.profile),s(h.id??null),d(h.isComplete),f(!0),h}catch(w){const g=w instanceof Error?w:new Error("Failed to fetch coach onboarding");return l(g),f(!0),d(!1),r(cs()),s(null),null}finally{o(!1)}},[e]);b.useEffect(()=>{e?y():(r(cs()),s(null),d(!1),f(!1),l(null),o(!1))},[e,y]);const v=b.useCallback(async w=>{var g;o(!0),l(null);try{const h=await b9(w);if(!h)throw new Error("Failed to save coach onboarding");if(!h.ok){let _="Failed to save coach onboarding";try{const P=await h.json();_=(P==null?void 0:P.detail)||(P==null?void 0:P.message)||(P==null?void 0:P.error)||_}catch{}throw new Error(_)}const x=h.status===204?null:await h.json().catch(()=>null),N=hx(x,w,n);return r(N.profile),s(N.id??((g=N.profile)==null?void 0:g.id)??n),d(N.isComplete??!0),f(!0),N}catch(h){const x=h instanceof Error?h:new Error("Failed to save coach onboarding");throw l(x),x}finally{o(!1)}},[n]),p=b.useMemo(()=>({loading:a,error:c,isComplete:u,profileId:n,hasFetched:m}),[a,c,u,n,m]);return{profile:t,profileId:n,isComplete:u,loading:a,error:c,hasFetched:m,status:p,refreshProfile:y,saveProfile:v,setProfile:r}},oH=e=>e?"/coach/packages?includeInactive=true":"/coach/packages",lH=async({includeInactive:e=!1}={})=>lo(oH(e),{method:"GET"}),cH=async({coachAccessToken:e=null,lessonData:t=null})=>!e||!t?null:fetch(`${Hr}/coach/lessons`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({...t})}),gx=async(e=null,t=null,r={})=>{if(!e||t===null)throw new Error("Must pass coach token and lesson id");return fetch(`${Hr}/coach/lesson/${t}`,{method:"PATCH",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify(r)})},uH=async({coachAccessToken:e=null,lessonId:t=null}={})=>!e||t===null?null:fetch(`${Hr}/coach/stripe/paymentintent`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({lesson_id:t})}),dH=async(e=null)=>e?fetch(`${Hr}/coach/locations`,{method:"GET",headers:{Authorization:`token ${e}`}}):null,fH=async({coachAccessToken:e,location_id:t})=>e?fetch(`${Hr}/coach/locations`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({location_id:t})}):null,mH=async({coachAccessToken:e,location_id:t,location:r,latitude:n,longitude:s,address_components:a})=>{if(!e)return null;const o=t!=null?{location_id:t}:{location:r,latitude:n,longitude:s,address_components:a};return fetch(`${Hr}/coach/location`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify(o)})},pH=async({coachAccessToken:e=null,location_id:t=null})=>!e||t===null?null:fetch(`${Hr}/coach/locations/${t}`,{method:"DELETE",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`}}),hH=({groups:e=[],selectedGroupIds:t=[],onChange:r,label:n="Groups (optional)"})=>{const[s,a]=b.useState(""),o=b.useMemo(()=>{const l=s.trim().toLowerCase();return l?e.filter(u=>`${u.name||""} ${u.description||""}`.toLowerCase().includes(l)):e},[e,s]),c=b.useMemo(()=>e.filter(l=>t.includes(Number(l.id))),[e,t]);return i.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-white p-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-800",children:n}),c.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(l=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-700",children:[i.jsx("span",{children:l.emoji||""}),l.name,i.jsx("button",{type:"button",onClick:()=>r(t.filter(u=>u!==Number(l.id))),children:""})]},`selected-group-${l.id}`))}):null,i.jsx("input",{type:"text",value:s,onChange:l=>a(l.target.value),placeholder:"Search groups...",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-2 text-sm outline-none focus:border-violet-500"}),i.jsxs("div",{className:"max-h-44 space-y-2 overflow-y-auto pr-1",children:[o.map(l=>{const u=Number(l.id),d=t.includes(u);return i.jsxs("button",{type:"button",onClick:()=>r(d?t.filter(m=>m!==u):[...t,u]),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left ${d?"bg-violet-100":"bg-slate-50 hover:bg-slate-100"}`,children:[i.jsx("span",{className:"text-lg",children:l.emoji||""}),i.jsxs("span",{className:"flex-1",children:[i.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:l.name}),i.jsxs("span",{className:"block text-xs text-slate-500",children:[E_(l)," players"]})]}),d?i.jsx("span",{className:"text-violet-700",children:""}):null]},u)}),o.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No groups found."}):null]})]})},gH=({isOpen:e,draft:t,onClose:r,onSubmit:n,isSubmitting:s=!1,submitError:a=null,players:o=[],locations:c=[],groups:l=[]})=>{var mn,vr,Vt,Mr,pn;const[u,d]=b.useState(t),[m,f]=b.useState("students"),[y,v]=b.useState(""),[p,w]=b.useState(""),[g,h]=b.useState(!1),[x,N]=b.useState(()=>t!=null&&t.start?q(t.start).startOf("month"):q().startOf("month")),[_,P]=b.useState(()=>t!=null&&t.start?q(t.start).startOf("day"):q().startOf("day")),E=u;b.useEffect(()=>{d(t);const A=t!=null&&t.start?q(t.start).startOf("day"):q().startOf("day");N(A.clone().startOf("month")),P(A)},[t]),b.useEffect(()=>{f("students"),v(""),w("")},[e]);const S=(A,se)=>{d(ae=>({...ae||{},[A]:se}))},j=(A,se)=>{d(ae=>({...ae||{},metadata:{...(ae==null?void 0:ae.metadata)||{},[A]:se}}))},M=(A,se)=>{d(ae=>{var lr;const be=((lr=ae==null?void 0:ae.metadata)==null?void 0:lr.recurrence)||{frequency:"",count:""};let Be=se;if(A==="count"){const Gt=parseInt(String(se),10);Be=Number.isFinite(Gt)&&Gt>0?Gt:""}const Ze={...be,[A]:Be};return A==="frequency"&&se==="NONE"&&(Ze.count=""),{...ae||{},metadata:{...(ae==null?void 0:ae.metadata)||{},recurrence:Ze}}})},F=A=>{const se=parseInt(String(A),10);d(ae=>{const be=ae!=null&&ae.start?q(ae.start):q(),Be={...(ae==null?void 0:ae.metadata)||{},duration:String(A??"")};return!Number.isFinite(se)||se<=0?{...ae||{},metadata:Be}:{...ae||{},end:be.clone().add(se,"minutes").toDate(),metadata:{...(ae==null?void 0:ae.metadata)||{},duration:String(se)}}})},Q=b.useMemo(()=>Array.isArray(E==null?void 0:E.invitees)?E.invitees:[],[E==null?void 0:E.invitees]),B=()=>{d(A=>({...A||{},invitees:[...Array.isArray(A==null?void 0:A.invitees)?A.invitees:[],{full_name:"",phone:"",email:""}]}))},O=A=>{d(se=>({...se||{},invitees:(Array.isArray(se==null?void 0:se.invitees)?se.invitees:[]).filter((ae,be)=>be!==A)}))},K=(A,se,ae)=>{d(be=>({...be||{},invitees:(Array.isArray(be==null?void 0:be.invitees)?be.invitees:[]).map((Be,Ze)=>Ze===A?{...Be,[se]:ae}:Be)}))},T=b.useMemo(()=>(Array.isArray(o)?o:[]).map(A=>({id:A.player_id??A.id??A.user_id??A.email,name:A.full_name||A.name||"Student",email:A.email||""})).filter(A=>A.id),[o]),Z=b.useMemo(()=>Array.isArray(E==null?void 0:E.playerIds)?E.playerIds.map(A=>String(A)):[],[E==null?void 0:E.playerIds]),D=b.useMemo(()=>Array.isArray(E==null?void 0:E.groupIds)?E.groupIds.map(A=>Number(A)).filter(A=>Number.isFinite(A)):[],[E==null?void 0:E.groupIds]),U=b.useMemo(()=>{const A=y.trim().toLowerCase();return A?T.filter(se=>`${se.name} ${se.email}`.toLowerCase().includes(A)):T},[y,T]),V=b.useMemo(()=>{const A=p.trim().toLowerCase();return A?T.filter(se=>`${se.name} ${se.email}`.toLowerCase().includes(A)):T},[p,T]),I=b.useMemo(()=>T.filter(A=>Z.includes(String(A.id))),[Z,T]),z=b.useMemo(()=>(Array.isArray(c)?c:[]).map(A=>{if(A&&typeof A=="object"){const se=A.location_id??A.locationId??A.id??A.value,ae=A.location??A.name??A.label??A.address??String(se??"");return{id:se,label:ae}}return{id:null,label:String(A)}}),[c]),G=b.useMemo(()=>z.some(A=>A.id!==null&&A.id!==void 0),[z]);if(!E)return null;const J=E.start?q(E.start).format("HH:mm"):"",te=((mn=E.metadata)==null?void 0:mn.recurrence)||{frequency:"NONE",count:""},de=E.start?q(E.start):q(),me=q().startOf("day"),he=[0,1,2,3].map(A=>me.clone().add(A,"days")),je=de.clone().startOf("day"),Te=he.some(A=>A.isSame(je,"day"))?he:[...he.slice(0,3),je],Ce=x.clone().startOf("month"),Ee=x.clone().endOf("month"),ze=Ce.clone().startOf("week"),bt=Ee.clone().endOf("week"),Rt=[],Ne=ze.clone();for(;Ne.isSameOrBefore(bt,"day");)Rt.push(Ne.clone()),Ne.add(1,"day");const Ct=E.start&&E.end?Math.max(q(E.end).diff(q(E.start),"minutes"),0):60,qr=["30","60","90","120"],Ke=String(((vr=E.metadata)==null?void 0:vr.duration)||Ct||"60"),Ht=qr.includes(Ke)?Ke:"60",at=[];for(let A=6;A<=22;A+=1)for(const se of[0,30]){const ae=`${String(A).padStart(2,"0")}:${String(se).padStart(2,"0")}`;at.push({value:ae,label:q(ae,"HH:mm").format("h:mm A")})}const _e=A=>{d(se=>{const ae=se!=null&&se.start?q(se.start):q();let be=se!=null&&se.end?q(se.end):ae.clone().add(60,"minutes");ae.year(A.year()).month(A.month()).date(A.date());const Be=Math.max(be.diff(ae,"minutes"),0)||60;return be.year(A.year()).month(A.month()).date(A.date()),be.isAfter(ae)||(be=ae.clone().add(Be,"minutes")),{...se||{},start:ae.toDate(),end:be.toDate()}})},It=A=>{const[se="0",ae="0"]=String(A||"").split(":");d(be=>{var Gt;const Be=be!=null&&be.start?q(be.start):q();Be.hour(Number(se)).minute(Number(ae)).second(0).millisecond(0);const Ze=parseInt(String(((Gt=be==null?void 0:be.metadata)==null?void 0:Gt.duration)||Ct||60),10),lr=Number.isFinite(Ze)&&Ze>0?Ze:60;return{...be||{},start:Be.toDate(),end:Be.clone().add(lr,"minutes").toDate()}})},ir=()=>{P(de.clone().startOf("day")),N(de.clone().startOf("month")),h(!0)},or=()=>{h(!1)},Ft=()=>{_&&_e(_.clone()),h(!1)},Bt=(A,se)=>{d(ae=>{const be=Array.isArray(ae==null?void 0:ae.invitees)&&ae.invitees.length>0?ae.invitees[0]:{full_name:"",phone:"",email:""};return{...ae||{},invitees:[{...be,[A]:se}]}})},it=Q[0]||{full_name:"",phone:"",email:""},zt=(A="")=>{const se=["from-violet-500 to-purple-400","from-sky-500 to-blue-400","from-emerald-500 to-green-400","from-amber-500 to-orange-400"],ae=(A||"").split("").reduce((be,Be)=>be+Be.charCodeAt(0),0);return se[ae%se.length]},Or=(A="")=>{const se=A.trim().split(/\s+/).filter(Boolean);return se.length===0?"PL":se.slice(0,2).map(ae=>ae[0]).join("").toUpperCase()};return i.jsxs(Ua,{isOpen:e,onClose:r,placement:"bottom",panelClassName:"w-full sm:max-w-3xl",children:[i.jsx(ql,{title:"Add Lesson",onClose:r}),i.jsxs(Kl,{className:"space-y-5 bg-slate-50",children:[a&&i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Date"}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"flex flex-1 gap-2 overflow-x-auto pb-1",children:Te.map(A=>{const se=de.isSame(A,"day"),ae=q().isSame(A,"day");return i.jsxs("button",{type:"button",onClick:()=>_e(A),className:`min-w-[64px] rounded-xl border-2 px-2 py-2 text-center transition ${se?"border-violet-500 bg-violet-500 text-white":ae?"border-violet-400 bg-white text-slate-900":"border-slate-200 bg-slate-50 text-slate-900 hover:border-slate-300"}`,children:[i.jsx("p",{className:`text-[10px] font-semibold uppercase ${se?"text-white":"text-slate-500"}`,children:A.format("ddd")}),i.jsx("p",{className:`text-lg font-bold ${se?"text-white":"text-slate-900"}`,children:A.format("D")}),i.jsx("p",{className:`text-[10px] ${se?"text-violet-100":"text-slate-500"}`,children:A.format("MMM")})]},A.format("YYYY-MM-DD"))})}),i.jsxs("button",{type:"button",onClick:ir,"aria-label":"Pick a specific date",className:"flex min-w-[64px] flex-col items-center justify-center rounded-xl border-2 border-dashed border-violet-400 bg-violet-50 px-2 py-2 text-violet-700 transition hover:bg-violet-100",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Pick"})]})]})]}),g&&i.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 px-4",onClick:or,children:i.jsxs("div",{className:"relative w-full max-w-sm rounded-2xl bg-white p-5 shadow-2xl",onClick:A=>A.stopPropagation(),children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Pick a Date"}),i.jsx("button",{type:"button",onClick:or,className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200",children:""})]}),i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-semibold text-slate-800",children:x.format("MMMM YYYY")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>N(A=>A.clone().subtract(1,"month")),className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200",children:""}),i.jsx("button",{type:"button",onClick:()=>N(A=>A.clone().add(1,"month")),className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200",children:""})]})]}),i.jsx("div",{className:"mb-2 grid grid-cols-7 gap-1",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(A=>i.jsx("span",{className:"py-1 text-center text-[11px] font-semibold text-slate-400",children:A},A))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:Rt.map(A=>{const se=_==null?void 0:_.isSame(A,"day"),ae=q().isSame(A,"day"),be=A.isBefore(q().startOf("day"),"day"),Be=!A.isSame(x,"month");return i.jsx("button",{type:"button",disabled:be,onClick:()=>P(A.clone()),className:`aspect-square rounded-lg text-sm font-semibold transition ${se?"bg-violet-500 text-white":"text-slate-800 hover:bg-slate-100"} ${be?"cursor-not-allowed text-slate-300 hover:bg-transparent":""} ${Be?"text-slate-300":""} ${ae&&!se?"border border-violet-400":""}`,children:A.date()},A.format("YYYY-MM-DD"))})}),i.jsxs("button",{type:"button",onClick:Ft,className:"mt-5 w-full rounded-xl bg-violet-600 px-4 py-3 text-sm font-semibold text-white hover:bg-violet-700",children:["Select ",_==null?void 0:_.format("MMM D")]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Time"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[i.jsxs("label",{className:"rounded-xl border-2 border-slate-200 bg-white px-3 py-2",children:[i.jsx("span",{className:"mb-1 block text-[11px] font-semibold uppercase text-slate-400",children:"Start"}),i.jsx("select",{value:J||"09:00",onChange:A=>It(A.target.value),className:"w-full bg-transparent text-sm font-semibold text-slate-800 outline-none",children:at.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))})]}),i.jsxs("label",{className:"rounded-xl border-2 border-slate-200 bg-white px-3 py-2",children:[i.jsx("span",{className:"mb-1 block text-[11px] font-semibold uppercase text-slate-400",children:"Duration"}),i.jsxs("select",{value:Ht,onChange:A=>F(A.target.value),className:"w-full bg-transparent text-sm font-semibold text-slate-800 outline-none",children:[i.jsx("option",{value:"30",children:"30 min"}),i.jsx("option",{value:"60",children:"1 hour"}),i.jsx("option",{value:"90",children:"1.5 hours"}),i.jsx("option",{value:"120",children:"2 hours"})]})]})]}),i.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 rounded-lg bg-emerald-50 px-3 py-2 text-sm font-semibold text-emerald-700",children:[i.jsx("span",{children:""}),i.jsxs("span",{children:[q(E.start||new Date).format("h:mm A"),"  ",q(E.end||new Date).format("h:mm A")]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Lesson Type"}),i.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[{id:1,name:"Private",subtitle:"$100/hr",selectedClass:"border-red-400 bg-red-100"},{id:2,name:"Semi-Private",subtitle:"$75/hr ea",selectedClass:"border-amber-400 bg-amber-100"},{id:3,name:"Open Group",subtitle:"Public",selectedClass:"border-sky-400 bg-sky-100"}].map(A=>{const se=Number(E.lessontype_id)===A.id;return i.jsxs("button",{type:"button",onClick:()=>{S("lessontype_id",A.id),A.id===1&&S("groupIds",[])},className:`rounded-xl border-2 px-3 py-3 text-center transition ${se?A.selectedClass:"border-slate-200 bg-white hover:border-slate-300"}`,children:[i.jsx("p",{className:"text-sm font-bold text-slate-800",children:A.name}),i.jsx("p",{className:"text-xs text-slate-500",children:A.subtitle})]},A.id)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Location"}),i.jsxs("select",{value:G?E.location_id??"":E.location||"",onChange:A=>{const se=A.target.value;if(G){const ae=z.find(be=>String(be.id)===se);S("location_id",(ae==null?void 0:ae.id)??null),S("location",(ae==null?void 0:ae.label)??"")}else S("location",se),S("location_id",null)},className:"w-full rounded-xl border-2 border-slate-200 bg-white px-3 py-3 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[i.jsx("option",{value:"",children:"Select location"}),z.map(A=>i.jsx("option",{value:A.id??A.label,children:A.label},A.id??A.label))]})]}),Number(E.lessontype_id)===1&&i.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-800",children:"Player"}),i.jsxs("div",{className:"grid grid-cols-2 rounded-lg bg-slate-100 p-1",children:[i.jsx("button",{type:"button",onClick:()=>f("students"),className:`rounded-md px-3 py-2 text-sm font-semibold ${m==="students"?"bg-white text-slate-800 shadow":"text-slate-500"}`,children:"My Students"}),i.jsx("button",{type:"button",onClick:()=>f("new"),className:`rounded-md px-3 py-2 text-sm font-semibold ${m==="new"?"bg-white text-slate-800 shadow":"text-slate-500"}`,children:"New Player"})]}),m==="students"?i.jsxs(i.Fragment,{children:[I.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(A=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-800",children:[i.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br ${zt(A.name)} text-[10px] text-white`,children:Or(A.name)}),A.name,i.jsx("button",{type:"button",onClick:()=>S("playerIds",[]),children:""})]},`selected-${A.id}`))}),i.jsx("input",{type:"text",value:y,onChange:A=>v(A.target.value),placeholder:"Search players...",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-2 text-sm outline-none focus:border-violet-500"}),i.jsx("div",{className:"max-h-44 space-y-2 overflow-y-auto pr-1",children:U.map(A=>{const se=Z.includes(String(A.id));return i.jsxs("button",{type:"button",onClick:()=>S("playerIds",se?[]:[Number(A.id)]),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left ${se?"bg-violet-100":"bg-slate-50 hover:bg-slate-100"}`,children:[i.jsx("span",{className:`flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br ${zt(A.name)} text-xs font-bold text-white`,children:Or(A.name)}),i.jsxs("span",{className:"flex-1",children:[i.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:A.name}),i.jsx("span",{className:"block text-xs text-slate-500",children:A.email||"Student"})]}),se&&i.jsx("span",{className:"text-violet-700",children:""})]},A.id)})})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"text",value:it.full_name||"",onChange:A=>Bt("full_name",A.target.value),placeholder:"Player name",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-3 text-sm outline-none focus:border-violet-500"}),i.jsx("input",{type:"tel",value:it.phone||"",onChange:A=>Bt("phone",A.target.value),placeholder:"Phone number (optional)",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-3 text-sm outline-none focus:border-violet-500"}),i.jsx("input",{type:"email",value:it.email||"",onChange:A=>Bt("email",A.target.value),placeholder:"Email (optional)",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-3 text-sm outline-none focus:border-violet-500"}),i.jsx("p",{className:"rounded-lg bg-blue-50 px-3 py-2 text-xs text-blue-800",children:" Add a phone number or email for invites. New players will receive lesson details and a Tennis Plan join link."})]})]}),(Number(E.lessontype_id)===2||Number(E.lessontype_id)===3)&&i.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4",children:[i.jsx(hH,{groups:Array.isArray(l)?l:[],selectedGroupIds:D,onChange:A=>S("groupIds",A)}),i.jsx("label",{className:"block text-sm font-semibold text-slate-800",children:"Existing players (optional)"}),I.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(A=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-800",children:[i.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br ${zt(A.name)} text-[10px] text-white`,children:Or(A.name)}),A.name,i.jsx("button",{type:"button",onClick:()=>S("playerIds",Z.filter(se=>se!==String(A.id)).map(se=>Number(se))),children:""})]},`selected-group-${A.id}`))}),i.jsx("input",{type:"text",value:p,onChange:A=>w(A.target.value),placeholder:"Search players...",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-2 text-sm outline-none focus:border-violet-500"}),i.jsx("div",{className:"max-h-44 space-y-2 overflow-y-auto pr-1",children:V.map(A=>{const se=Z.includes(String(A.id));return i.jsxs("button",{type:"button",onClick:()=>S("playerIds",se?Z.filter(ae=>ae!==String(A.id)).map(ae=>Number(ae)):[...Z,String(A.id)].map(ae=>Number(ae))),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left ${se?"bg-violet-100":"bg-slate-50 hover:bg-slate-100"}`,children:[i.jsx("span",{className:`flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br ${zt(A.name)} text-xs font-bold text-white`,children:Or(A.name)}),i.jsxs("span",{className:"flex-1",children:[i.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:A.name}),i.jsx("span",{className:"block text-xs text-slate-500",children:A.email||"Student"})]}),se&&i.jsx("span",{className:"text-violet-700",children:""})]},`group-player-${A.id}`)})}),i.jsx("p",{className:"text-xs text-gray-500",children:"You can select existing players, add new invitees below, or use both."})]}),(Number(E.lessontype_id)===2||Number(E.lessontype_id)===3)&&i.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:Number(E.lessontype_id)===1?"Invite player by phone or email":"Invite players by phone or email"}),i.jsx("button",{type:"button",onClick:B,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-100",children:"Add Invitee"})]}),Q.length===0?i.jsx("p",{className:"text-xs text-gray-500",children:"No invitees added."}):i.jsx("div",{className:"space-y-2",children:Q.map((A,se)=>i.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-[1fr_1fr_1fr_auto]",children:[i.jsx("input",{type:"text",value:A.full_name||"",onChange:ae=>K(se,"full_name",ae.target.value),placeholder:"Full name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("input",{type:"tel",value:A.phone||"",onChange:ae=>K(se,"phone",ae.target.value),placeholder:"+1 415 555 1212",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("input",{type:"email",value:A.email||"",onChange:ae=>K(se,"email",ae.target.value),placeholder:"player@example.com",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"button",onClick:()=>O(se),className:"rounded-lg bg-red-50 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-100",children:"Remove"})]},`invitee-${se}`))}),i.jsx("p",{className:"text-xs text-gray-500",children:"New invitees will receive lesson details and a Tennis Plan join link by SMS/email."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Optional)"}),i.jsx("input",{type:"text",value:((Vt=E.metadata)==null?void 0:Vt.title)||"",onChange:A=>j("title",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(Number(E.lessontype_id)===2||Number(E.lessontype_id)===3)&&i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per person"}),i.jsx("input",{type:"number",value:E.price_per_person||"",onChange:A=>S("price_per_person",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),Number(E.lessontype_id)===3&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),i.jsx("select",{value:((Mr=E.metadata)==null?void 0:Mr.level)||"All",onChange:A=>j("level",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:R_.map(A=>i.jsx("option",{value:A.name,children:A.name},A.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:((pn=E.metadata)==null?void 0:pn.description)||"",onChange:A=>j("description",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player limit"}),i.jsx("input",{type:"number",value:E.player_limit||"",onChange:A=>S("player_limit",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence"}),i.jsxs("select",{value:te.frequency||"NONE",onChange:A=>M("frequency",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"NONE",children:"None"}),i.jsx("option",{value:"DAILY",children:"Daily"}),i.jsx("option",{value:"WEEKLY",children:"Weekly"})]})]}),te.frequency&&te.frequency!=="NONE"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence Count"}),i.jsx("input",{type:"number",min:"1",value:te.count||"",onChange:A=>M("count",A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]}),i.jsxs(Kd,{children:[i.jsx("button",{type:"button",onClick:r,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),i.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(E),disabled:s,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${s?"cursor-not-allowed bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:s?"Saving":"Save Lesson"})]})]})},vx={1:"Private Lesson",2:"Semi-Private Lesson",3:"Open Group Lesson"},vH=(e="")=>{const t=String(e).replace(/\D/g,"");return t.length===10?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:e},yH=(e="")=>{const t=String(e).trim().split(/\s+/).filter(Boolean);return t.length?t.slice(0,2).map(r=>r[0]).join("").toUpperCase():"PL"},xH={1:"private",2:"semi-private",3:"group"},yx=({coachName:e,lessonTypeId:t,start:r,location:n})=>{const s=e||"Coach",a=xH[t]||"private",o=r?q(r).format("YYYY-MM-DD hh:mm a"):"TBD";return`Coach ${s} invited you to a ${a} lesson.
When: ${o}
Where: ${n||"TBD"}
Coach ${s} invited you to a lesson. Tap the link to confirm.`};function bH({isOpen:e,onClose:t,data:r}){if(!e||!r)return null;const n=r.inviteMethod==="sms",s=n?`Text invite sent to ${r.playerFirstName}`:`Invite sent to ${r.playerFirstName}`,a=n?`${vH(r.playerPhone)}  Text sent`:"Notification sent  Awaiting response",o=()=>{const c=r.start?q(r.start):null;if(!c||!c.isValid())return;const l=r.end&&q(r.end).isValid()?q(r.end):q(c).add(1,"hour"),u=g=>q(g).utc().format("YYYYMMDD[T]HHmmss[Z]"),d=String(r.playerName||"lesson").toLowerCase().replace(/[^a-z0-9]+/g,"-"),m=`${vx[r.lessonTypeId]||"Lesson"} with ${r.playerName||"Player"}`,f=n?yx(r).replace(/\n/g,"\\n"):`Invite sent to ${r.playerName||"player"} via app notification.`,y=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//TTP Coach//Lesson Calendar//EN","BEGIN:VEVENT",`UID:${Date.now()}-${d}@ttpcoach`,`DTSTAMP:${u(q())}`,`DTSTART:${u(c)}`,`DTEND:${u(l)}`,`SUMMARY:${m}`,`LOCATION:${(r.location||"TBD location").replace(/,/g,"\\,")}`,`DESCRIPTION:${f}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),v=new Blob([y],{type:"text/calendar;charset=utf-8"}),p=URL.createObjectURL(v),w=document.createElement("a");w.href=p,w.download=`${d||"lesson"}.ics`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(p)};return i.jsx(Ua,{isOpen:e,onClose:t,placement:"bottom",panelClassName:"w-full sm:max-w-md rounded-t-3xl sm:rounded-2xl",children:i.jsxs("div",{className:"px-5 pb-6 pt-3",children:[i.jsx("div",{className:"mx-auto mb-5 h-1.5 w-10 rounded-full bg-slate-200"}),i.jsxs("div",{className:"max-h-[78vh] overflow-y-auto pb-3",children:[i.jsxs("div",{className:"mb-3 text-center",children:[i.jsx("div",{className:"mx-auto mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 text-3xl text-white",children:""}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Lesson Created!"}),i.jsx("p",{className:"mt-1 text-sm text-slate-500",children:s})]}),i.jsxs("div",{className:"mb-4 rounded-2xl bg-slate-50 p-4 text-left",children:[i.jsxs("div",{className:"flex items-center gap-3 py-2 text-sm text-slate-800",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:r.start?q(r.start).format("dddd, MMM D  h:mm A"):""})]}),i.jsxs("div",{className:"flex items-center gap-3 border-t border-slate-200 py-2 text-sm text-slate-800",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:r.location||"TBD location"})]}),i.jsxs("div",{className:"flex items-center gap-3 border-t border-slate-200 py-2 text-sm text-slate-800",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:vx[r.lessonTypeId]||"Lesson"})]}),i.jsxs("div",{className:"flex items-center gap-3 border-t border-slate-200 py-2 text-sm text-slate-800",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"font-medium",children:r.priceLabel})]})]}),i.jsxs("div",{className:"mb-4 flex items-center gap-3 rounded-2xl bg-violet-50 p-4 text-left",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-violet-500 to-violet-400 text-sm font-semibold text-white",children:yH(r.playerName)}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:r.playerName}),i.jsxs("p",{className:"mt-0.5 flex items-center gap-2 text-xs text-slate-500",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),a]})]})]}),n&&i.jsxs("div",{className:"mb-4 rounded-2xl bg-slate-50 p-4 text-left",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Message sent"})]}),i.jsx("p",{className:"whitespace-pre-line rounded-2xl rounded-bl-md bg-slate-200 px-3 py-2 text-sm leading-relaxed text-slate-800",children:yx(r)})]}),i.jsxs("div",{className:"mb-2 flex items-center justify-between gap-3 rounded-xl bg-blue-100 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-900",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Add to your calendar"})]}),i.jsx("button",{type:"button",onClick:o,className:"rounded-lg bg-white px-3 py-1.5 text-xs font-semibold text-blue-600",children:"Add"})]})]}),i.jsx("div",{className:"mt-3 border-t border-slate-100 pt-4",children:i.jsx("button",{type:"button",onClick:t,className:"rounded-xl bg-violet-600 px-4 py-3 text-sm font-semibold text-white",children:"Done"})})]})})}const wH={VITE_API_URL:"https://ttp-api.codemymobile.com/api"},NH=()=>{const e=typeof import.meta<"u"?wH||{}:{},t=e.VITE_API_BASE_URL||e.VITE_API_URL||e.API_BASE_URL||"";return t?t.endsWith("/")?t.slice(0,-1):t:""},Zf=NH(),_H=e=>{if(!e)throw new Error("A path is required.");const t=e.startsWith("/")?e:`/${e}`;if(!Zf)return t;const r=Zf.endsWith("/api")&&t.startsWith("/api/")?t.slice(4):t;return`${Zf}${r}`},SH=async e=>{const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}},Jf=async(e,t,r="GET")=>{const n=await fetch(_H(e),{method:r,headers:{Authorization:`Bearer ${t}`}}),s=await SH(n);if(!n.ok){const a=(s==null?void 0:s.message)||(s==null?void 0:s.error)||n.statusText||"Request failed.",o=new Error(a);throw o.status=n.status,o.code=(s==null?void 0:s.code)||null,o.data=s,o}return s},jH=()=>({getAuthUrl:async({token:n})=>{if(!n)throw new Error("Auth token is required.");return Jf("/api/coach/google-calendar/auth-url",n)},syncEvents:async({token:n,timeMin:s,timeMax:a})=>{if(!n)throw new Error("Auth token is required.");const o=new URLSearchParams;s&&o.set("timeMin",s),a&&o.set("timeMax",a);const c=o.toString(),l=c?`/api/coach/google-calendar/sync?${c}`:"/api/coach/google-calendar/sync";return Jf(l,n,"POST")},getSyncedEvents:async({token:n,timeMin:s,timeMax:a})=>{if(!n)throw new Error("Auth token is required.");const o=new URLSearchParams;s&&o.set("timeMin",s),a&&o.set("timeMax",a);const c=o.toString(),l=c?`/api/coach/google-calendar/synced-events?${c}`:"/api/coach/google-calendar/synced-events";return Jf(l,n)}}),xx=e=>{if(!e)return"TBD";const t=new Date(e);return Number.isNaN(t.getTime())?"TBD":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t)},bx=(e,t)=>{var a,o,c,l,u,d,m,f;const r=t==="start"?e.start_datetime||e.startDateTime||e.start_at:e.end_datetime||e.endDateTime||e.end_at;if(r)return r;const n=t==="start"?((o=(a=e.raw_payload)==null?void 0:a.start)==null?void 0:o.dateTime)||((l=(c=e.raw_payload)==null?void 0:c.start)==null?void 0:l.date):((d=(u=e.raw_payload)==null?void 0:u.end)==null?void 0:d.dateTime)||((f=(m=e.raw_payload)==null?void 0:m.end)==null?void 0:f.date);if(n)return n;const s=t==="start"?e.start:e.end;return s?typeof s=="string"?s:s.dateTime||s.date||null:null},kH=e=>Array.isArray(e)?e:e&&Array.isArray(e.events)?e.events:e&&Array.isArray(e.items)?e.items:[],CH=({onBack:e})=>{var Z;const{user:t}=Og(),r=((Z=t==null?void 0:t.session)==null?void 0:Z.access_token)||localStorage.getItem("token")||"",{getAuthUrl:n,syncEvents:s,getSyncedEvents:a}=jH(),[o,c]=b.useState([]),[l,u]=b.useState(!0),[d,m]=b.useState(!1),[f,y]=b.useState(null),[v,p]=b.useState(!1),[w,g]=b.useState("unknown"),[h,x]=b.useState(null),[N,_]=b.useState(()=>localStorage.getItem("google_calendar_last_sync")||""),[P,E]=b.useState(()=>{const D=new Date;return{year:D.getFullYear(),month:D.getMonth()}}),S=b.useRef(!1),j=b.useRef(""),M=b.useCallback(async()=>{if(!r)throw new Error("Unauthorized. Please sign in again.");const D=await n({token:r}),U=(D==null?void 0:D.redirect_url)||(D==null?void 0:D.url)||(D==null?void 0:D.auth_url)||(D==null?void 0:D.authorization_url);if(!U)throw new Error("No Google auth URL returned.");window.location.assign(U)},[r,n]),F=b.useMemo(()=>{const D=new Date(P.year,P.month,1,0,0,0,0),U=new Date(P.year,P.month+1,0,23,59,59,999);return{timeMin:D.toISOString(),timeMax:U.toISOString()}},[P.month,P.year]),Q=b.useMemo(()=>{const D=new Date(P.year,P.month,1);return new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(D)},[P.month,P.year]),B=b.useCallback(async()=>{var D;if(!r){y("Unauthorized. Please sign in again."),c([]),g("not_connected");return}y(null),u(!0);try{const U=await a({token:r,...F});c(kH(U)),g("connected")}catch(U){const V=U==null?void 0:U.status;if(((U==null?void 0:U.code)||((D=U==null?void 0:U.data)==null?void 0:D.code))==="google_reconnect_required")y("Google authorization expired. Reconnect required."),await M();else if(V===404)g("not_connected"),y("Google Calendar not connected.");else if(V===401||V===403)y("Unauthorized. Please sign in again.");else{const z=U instanceof Error?U.message:"Failed to load events.";y(z)}c([])}finally{u(!1)}},[r,a,M,F.timeMax,F.timeMin]);b.useEffect(()=>{N&&localStorage.setItem("google_calendar_last_sync",N)},[N]);const O=b.useCallback(async()=>{var D;if(!r){y("Unauthorized. Please sign in again.");return}y(null),x(null),m(!0);try{const U=await s({token:r,...F});x(U),g("connected"),_(new Date().toISOString()),await B()}catch(U){const V=U==null?void 0:U.status;if(((U==null?void 0:U.code)||((D=U==null?void 0:U.data)==null?void 0:D.code))==="google_reconnect_required")y("Google authorization expired. Reconnect required."),await M();else if(V===404)g("not_connected"),y("Google Calendar not connected.");else{const z=U instanceof Error?U.message:"Failed to sync Google Calendar.";y(z)}}finally{m(!1)}},[r,M,B,s,F]);b.useEffect(()=>{const D=`${F.timeMin}|${F.timeMax}`;j.current===D&&S.current||(j.current=D,S.current=!0,B())},[B,F.timeMax,F.timeMin]);const K=D=>{E(U=>{const V=new Date(U.year,U.month+D,1);return{year:V.getFullYear(),month:V.getMonth()}})},T=b.useCallback(async()=>{if(!r){y("Unauthorized. Please sign in again.");return}p(!0),y(null);try{await M()}catch(D){const U=D instanceof Error?D.message:"Failed to start Google connection.";y(U)}finally{p(!1)}},[r,M]);return i.jsxs("div",{className:"min-h-screen bg-slate-50",children:[i.jsx("div",{className:"border-b bg-white",children:i.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Integrations"}),i.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Coach Google Calendar Events"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Preview upcoming events pulled from Google Calendar."})]}),i.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Back"})]})}),i.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Events Preview"}),i.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["Showing events for ",Q,"."]}),w==="connected"&&N&&i.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Last synced ",new Date(N).toLocaleString()]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>K(-1),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50",children:"Prev"}),i.jsx("button",{type:"button",onClick:()=>K(1),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50",children:"Next"}),i.jsx("button",{type:"button",onClick:B,disabled:l,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-70",children:l?"Refreshing":"Refresh"}),w!=="not_connected"&&i.jsx("button",{type:"button",onClick:O,disabled:d,className:"rounded-lg bg-emerald-600 px-3 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",children:d?"Syncing":"Sync Now"})]})]}),f&&i.jsx("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:f}),f==="Google Calendar not connected."&&i.jsx("button",{type:"button",onClick:T,disabled:v,className:"mt-4 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",children:v?"Connecting":"Connect Google Calendar"}),h&&i.jsxs("div",{className:"mt-4 rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:["Synced events. Fetched: ",h.fetched??0,", Upserted: ",h.upserted??0,", Deleted: ",h.deleted??0,"."]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[l&&i.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Loading events"}),!l&&o.length===0&&!f&&i.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No events found in this time range."}),!l&&o.map((D,U)=>{const V=bx(D,"start"),I=bx(D,"end");return i.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:D.summary||D.title||"Untitled event"}),i.jsxs("div",{className:"mt-1 text-sm text-slate-500",children:[xx(V),"  ",xx(I)]}),D.location&&i.jsx("div",{className:"mt-1 text-xs text-slate-400",children:D.location})]},`${D.id||D.summary||"event"}-${U}`)})]})]})})]})},wx=e=>{if(!e)return null;const t=q.utc(e);return t.isValid()?t:null},Nx=e=>{if(!e)return"";const t=wx(e==null?void 0:e.start_date_time),r=wx(e==null?void 0:e.end_date_time),n=t&&r?`${t.format("hh:mm a")} - ${r.format("hh:mm a")}`:"",s=t?t.format("MMM DD"):"",a=(e==null?void 0:e.location)||"";return[s,n,a,e!=null&&e.requested_price?`$${e.requested_price}`:""].filter(Boolean).join("  ")},_x=(e,t)=>{var r;return typeof((r=e==null?void 0:e.body)==null?void 0:r.detail)=="string"&&e.body.detail.trim()?e.body.detail:e instanceof Error&&e.message?e.message:t},EH=({onBack:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState([]),[a,o]=b.useState(1),[c]=b.useState(20),[l,u]=b.useState(0),[d,m]=b.useState(!0),[f,y]=b.useState(null),[v,p]=b.useState({}),w=a*c<l,g=b.useCallback(async({pageToLoad:S=1}={})=>{var j;m(!0),y(null);try{const M=await U1({perPage:c,page:S}),F=Array.isArray(M==null?void 0:M.requests)?M.requests:[],Q=Array.isArray(M==null?void 0:M.awaiting_player_confirmation)?M.awaiting_player_confirmation:[];r(F),s(Q);const B=typeof((j=M==null?void 0:M.breakdown)==null?void 0:j.awaiting_player_confirmation)=="number"?((M==null?void 0:M.count)||0)+M.breakdown.awaiting_player_confirmation:F.length+Q.length;u(B)}catch(M){y(_x(M,"Failed to load requests."))}finally{m(!1)}},[c]);b.useEffect(()=>{g({pageToLoad:a})},[g,a]);const h=()=>{g({pageToLoad:a})},x=async(S,j)=>{var Q;const M=`${S.request_type}-${S.request_id}`,F=[...t];p(B=>({...B,[M]:j})),r(B=>B.filter(O=>!(O.request_id===S.request_id&&O.request_type===S.request_type)));try{await W1({requestType:S.request_type,requestId:S.request_id,endpoint:(Q=S==null?void 0:S.actions)==null?void 0:Q.endpoint,action:j}),u(B=>Math.max(B-1,0))}catch(B){const O=Number(B==null?void 0:B.status);O===404?(y("Request no longer available."),g({pageToLoad:a})):O===409?g({pageToLoad:a}):(r(F),y(_x(B,"Failed to update request.")))}finally{p(B=>{const O={...B};return delete O[M],O})}},N=b.useMemo(()=>t.map(S=>{var M,F,Q;const j=S.request_type==="lesson_request";return{key:`${S.request_type}-${S.request_id}`,item:S,title:((M=S==null?void 0:S.player)==null?void 0:M.full_name)||"Player",subtitle:j?"Lesson request":"Roster request",detail:j?Nx(S.lesson):((F=S==null?void 0:S.player)==null?void 0:F.email)||((Q=S==null?void 0:S.player)==null?void 0:Q.phone)||"Pending roster request",createdAt:S!=null&&S.created_at?q(S.created_at).fromNow():"",approveLabel:j?"Confirm":"Approve"}}),[t]),_=b.useMemo(()=>n.map(S=>{var j,M,F;return{key:`awaiting-${S.request_id}`,item:S,title:((j=S==null?void 0:S.player)==null?void 0:j.full_name)||"Player",subtitle:"Awaiting player confirmation",detail:Nx(S.lesson),createdAt:S!=null&&S.created_at?q(S.created_at).fromNow():"",viewUrl:((M=S==null?void 0:S.actions)==null?void 0:M.view)||((F=S==null?void 0:S.actions)==null?void 0:F.endpoint)||""}}),[n]),P=l||N.length+_.length,E=!d&&N.length===0&&_.length===0;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"border-b bg-white",children:i.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-purple-50 text-purple-600",children:i.jsx(D1,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-gray-400",children:"Requests"}),i.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Updates ",P?`(${P})`:""]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{type:"button",onClick:h,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[i.jsx(Ks,{className:"h-4 w-4"}),"Refresh"]}),i.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[i.jsx(L1,{className:"h-4 w-4"}),"Back to Dashboard"]})]})]})}),i.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-6",children:[f&&i.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),d&&i.jsx("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white px-4 py-10 text-center text-sm text-gray-500",children:"Loading requests..."}),E&&i.jsx("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white px-4 py-10 text-center text-sm text-gray-500",children:"No pending requests."}),!d&&(N.length>0||_.length>0)&&i.jsxs("div",{className:"space-y-4",children:[N.map(({key:S,item:j,title:M,subtitle:F,detail:Q,createdAt:B,approveLabel:O})=>i.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-purple-500",children:F}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:M}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:Q})]}),i.jsx("span",{className:"text-xs text-gray-400",children:B})]}),i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>x(j,j.request_type==="lesson_request"?"confirm":"approve"),disabled:!!v[S],className:"rounded-lg bg-purple-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:bg-purple-300",children:v[S]==="confirm"||v[S]==="approve"?"Processing...":O}),i.jsx("button",{type:"button",onClick:()=>x(j,"decline"),disabled:!!v[S],className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:text-gray-400",children:v[S]==="decline"?"Processing...":"Decline"})]})]},S)),_.map(({key:S,title:j,subtitle:M,detail:F,createdAt:Q,viewUrl:B})=>i.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-500",children:M}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:j}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:F})]}),i.jsx("span",{className:"text-xs text-gray-400",children:Q})]}),i.jsx("div",{className:"mt-3 flex gap-2",children:i.jsx("button",{type:"button",onClick:()=>{B&&window.open(B,"_blank","noopener,noreferrer")},className:"rounded-lg bg-gray-900 px-3 py-2 text-xs font-semibold text-white transition hover:bg-gray-800",children:"View"})})]},S)),i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o(S=>Math.max(S-1,1)),disabled:d||a<=1,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed",children:"Prev"}),i.jsx("button",{type:"button",onClick:()=>o(S=>S+1),disabled:d||!w,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})},PH=e=>e===1||e==="CONFIRMED"?"Confirmed":e===2||e==="CANCELLED"?"Cancelled":e===0||e==="PENDING"?"Pending":"Unknown",TH=(e,t)=>{if(!e)return"";const r=String(e).replace(/Z$/,""),n=t?String(t).replace(/Z$/,""):null,s=q(r),a=n?q(n):null;return s.isValid()?a&&a.isValid()?`${s.format("MMM DD, YYYY")}  ${s.format("h:mm A")} - ${a.format("h:mm A")}`:`${s.format("MMM DD, YYYY")}  ${s.format("h:mm A")}`:""},$H=({isOpen:e,student:t,lessons:r=[],loading:n=!1,loadingMore:s=!1,error:a=null,hasMore:o=!1,onClose:c,onLoadMore:l})=>t?i.jsxs(Ua,{isOpen:e,onClose:c,placement:"center",panelClassName:"w-full sm:max-w-3xl",children:[i.jsx(ql,{title:t.name||"Student details",description:t.email||t.phone||"",onClose:c}),i.jsxs(Kl,{className:"space-y-4",children:[i.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:i.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Status"}),i.jsx("span",{className:"font-medium text-gray-900",children:t.isConfirmed?"Active":t.isPlayerRequest?"Request pending":"Invite pending"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Phone"}),i.jsx("span",{className:"font-medium text-gray-900",children:t.phone||""})]}),i.jsxs("div",{children:[i.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Player ID"}),i.jsx("span",{className:"font-medium text-gray-900",children:t.playerId||""})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Previous Lessons"}),n&&i.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})]}),a&&i.jsx("div",{className:"mt-3 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}),!n&&r.length===0&&!a&&i.jsx("div",{className:"mt-3 rounded-lg border border-dashed border-gray-200 bg-white px-4 py-6 text-sm text-gray-500",children:"No previous lessons found."}),r.length>0&&i.jsx("div",{className:"mt-3 space-y-3",children:r.map((u,d)=>{var m;return i.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((m=u.metadata)==null?void 0:m.title)||u.lesson_type_name||"Lesson"}),i.jsx("p",{className:"text-xs text-gray-500",children:TH(u.start_date_time,u.end_date_time)}),u.location&&i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:u.location})]}),i.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:PH(u.status)})]})},u.id??`${u.start_date_time}-${d}`)})}),o&&i.jsx("div",{className:"mt-4 flex justify-center",children:i.jsx("button",{type:"button",onClick:l,disabled:s,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed",children:s?"Loading...":"Load more"})})]})]})]}):null,zn=e=>String(e).padStart(2,"0"),Ep=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?"":`${t.getUTCFullYear()}${zn(t.getUTCMonth()+1)}${zn(t.getUTCDate())}T${zn(t.getUTCHours())}${zn(t.getUTCMinutes())}${zn(t.getUTCSeconds())}Z`},Sx=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?"":`${t.getFullYear()}${zn(t.getMonth()+1)}${zn(t.getDate())}T${zn(t.getHours())}${zn(t.getMinutes())}${zn(t.getSeconds())}`},jx=({title:e,description:t,location:r,start:n,end:s})=>{const a=`${Date.now()}@ttpcoach`,o=Ep(new Date().toISOString()),c=Sx(n),l=Sx(s);return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//TTP Coach//Lesson Confirmation//EN","BEGIN:VEVENT",`UID:${a}`,`DTSTAMP:${o}`,`DTSTART:${c}`,`DTEND:${l}`,`SUMMARY:${e}`,`DESCRIPTION:${t.replace(/\n/g,"\\n")}`,`LOCATION:${r}`,"END:VEVENT","END:VCALENDAR"].join(`\r
`)},kx=(e,t)=>{const r=new Blob([e],{type:"text/calendar;charset=utf-8"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},Kr=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null};function AH({isOpen:e,lesson:t,onDone:r,coachHourlyRate:n=null}){const s=b.useMemo(()=>{if(!t)return null;const p=t.playerName||t.player_name||t.studentName||"Your student",w=t.playerSkillLevel||t.player_skill_level||t.level||"All levels",g=t.lessonType||t.lesson_type||"private",h=t.startDateTime||t.start_date_time_tz||t.start_date_time,x=t.endDateTime||t.end_date_time_tz||t.end_date_time,N=t.locationName||t.location_name||t.location||"TBD",_=t.locationAddress||t.location_address||t.locationAddressLine||"",P=Kr(t.group_price_per_person)??Kr(t.groupPricePerPerson)??Kr(t.price_per_person)??Kr(t.pricePerPerson)??Kr(t.private_lesson_fee)??Kr(t.lesson_fee)??Kr(t.pricePerHour)??Kr(t.price_per_hour)??Kr(t.hourly_rate)??Kr(t.hourlyRate)??Kr(t.price)??Kr(n),E=h?new Date(h):null,S=x?new Date(x):null,j=!!(t.creditUsageStatus||t.credit_usage_status||t.creditsUsed||t.credits_used||t.paymentType==="credits"||t.payment_type==="credits");return{studentName:p,studentLevel:w,lessonType:g,start:h,end:x,locationName:N,locationAddress:_,lessonFee:P,startDate:E,endDate:S,isCreditLesson:j}},[t,n]);if(!e||!s)return null;const a=s.studentName.split(" ").filter(Boolean).slice(0,2).map(p=>{var w;return(w=p[0])==null?void 0:w.toUpperCase()}).join("")||"ST",o=s.startDate?s.startDate.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"Date TBD",c=s.startDate&&s.endDate?`${s.startDate.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}  ${s.endDate.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:"Time TBD",l=s.startDate?new Date(s.startDate.getTime()-24*60*60*1e3):null,u=l?`${s.studentName.split(" ")[0]} can cancel for free until ${l.toLocaleDateString(void 0,{month:"short",day:"numeric"})} at ${l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}.`:"Student can cancel for free up to 24 hours before lesson start.",d=`${s.lessonType==="private"?"Private":"Lesson"} with ${s.studentName}`,m=[`${d}`,`Time: ${o}, ${c}`,`Location: ${s.locationName}${s.locationAddress?`, ${s.locationAddress}`:""}`].join(`
`),f=()=>{const p=Ep(s.start),w=Ep(s.end),g=new URLSearchParams({action:"TEMPLATE",text:d,dates:`${p}/${w}`,details:m,location:`${s.locationName}${s.locationAddress?`, ${s.locationAddress}`:""}`});window.open(`https://calendar.google.com/calendar/render?${g.toString()}`,"_blank","noopener,noreferrer")},y=()=>{const p=jx({title:d,description:m,location:`${s.locationName}${s.locationAddress?`, ${s.locationAddress}`:""}`,start:s.start,end:s.end});kx(p,"lesson.ics")},v=()=>{const p=jx({title:d,description:m,location:`${s.locationName}${s.locationAddress?`, ${s.locationAddress}`:""}`,start:s.start,end:s.end});kx(p,"lesson-outlook.ics")};return i.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/45",children:i.jsx("div",{className:"mx-auto flex h-full w-full items-end justify-center sm:items-center sm:p-4",children:i.jsxs("div",{className:"max-h-[92vh] w-full overflow-y-auto rounded-t-3xl bg-white p-5 shadow-2xl sm:max-h-[90vh] sm:max-w-2xl sm:rounded-3xl sm:p-7",children:[i.jsx("div",{className:"mx-auto mb-3 h-1.5 w-10 rounded-full bg-slate-200 sm:hidden"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-[72px] w-[72px] items-center justify-center rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 text-4xl text-white shadow-[0_12px_24px_rgba(16,185,129,0.35)]",children:""}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Lesson Confirmed!"}),i.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:[s.studentName.split(" ")[0]," has been notified"]})]}),i.jsxs("div",{className:"mt-5 rounded-2xl bg-slate-50 p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center gap-3 border-b border-slate-200 pb-3",children:[i.jsx("span",{className:"rounded-md bg-rose-100 px-2.5 py-1 text-[11px] font-bold uppercase tracking-wide text-rose-600",children:s.lessonType}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-blue-500 text-xs font-bold text-white",children:a}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.studentName}),i.jsx("p",{className:"text-xs text-slate-500",children:s.studentLevel})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-400",children:"Date"}),i.jsx("p",{className:"font-semibold text-slate-800",children:o})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-400",children:"Time"}),i.jsx("p",{className:"font-semibold text-slate-800",children:c})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-400",children:"Location"}),i.jsx("p",{className:"font-semibold text-slate-800",children:s.locationName}),s.locationAddress&&i.jsx("p",{className:"text-xs text-slate-500",children:s.locationAddress})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-400",children:"Price"}),i.jsx("p",{className:"font-semibold text-slate-800",children:s.lessonFee!==null?`$${s.lessonFee} / hour`:""})]})]})]}),i.jsxs("div",{className:"mt-5",children:[i.jsx("p",{className:"mb-2 text-xs font-bold uppercase tracking-wide text-slate-400",children:"Add to Calendar"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[i.jsxs("button",{type:"button",onClick:f,className:"rounded-xl border border-slate-200 px-3 py-3 text-left transition hover:border-slate-300 hover:bg-slate-50 sm:text-center",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Google Calendar"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Opens in browser"})]}),i.jsxs("button",{type:"button",onClick:y,className:"rounded-xl border border-slate-200 px-3 py-3 text-left transition hover:border-slate-300 hover:bg-slate-50 sm:text-center",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Apple Calendar"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Download .ics file"})]}),i.jsxs("button",{type:"button",onClick:v,className:"rounded-xl border border-slate-200 px-3 py-3 text-left transition hover:border-slate-300 hover:bg-slate-50 sm:text-center",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Outlook"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Download .ics file"})]})]})]}),i.jsx("div",{className:"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900",children:i.jsxs("p",{children:[i.jsx("strong",{children:" Payment info:"})," ",s.isCreditLesson?"This lesson is covered by player credits, so no payout will be deposited for this booking.":s.lessonFee!==null?`$${s.lessonFee} will be deposited to your connected account after the lesson is completed.`:"Your lesson payout will be deposited to your connected account after the lesson is completed."]})}),i.jsx("div",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:i.jsxs("p",{children:[i.jsx("strong",{children:" 24-hour cancellation policy:"})," ",u,i.jsx("span",{className:"hidden sm:inline",children:" After that, you'll be compensated for late cancellations."})]})}),i.jsx("div",{className:"mt-3 rounded-xl border border-blue-200 bg-blue-50 p-3 text-sm text-blue-900",children:i.jsxs("p",{children:[i.jsxs("strong",{children:[" ",s.studentName.split(" ")[0]," will receive:"]})," Email confirmation with lesson details, location, and a link to message you."]})}),i.jsx("button",{type:"button",onClick:r,className:"mt-5 w-full rounded-xl bg-violet-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-violet-700",children:"Done"})]})})})}const OH=(e={})=>{const t=Array.isArray(e.player_ids)?e.player_ids:[];return t.length>0?t.map(n=>Number(n)).filter(n=>Number.isFinite(n)&&n>0):(Array.isArray(e.players)?e.players:[]).map(n=>Number((n==null?void 0:n.player_id)??(n==null?void 0:n.id)??(n==null?void 0:n.user_id))).filter(n=>Number.isFinite(n)&&n>0)},iu=({playerIds:e=[],groupIds:t=[],groups:r=[]}={})=>{const n=(Array.isArray(e)?e:[]).map(o=>Number(o)).filter(o=>Number.isFinite(o)&&o>0),s=new Map((Array.isArray(r)?r:[]).map(o=>[Number(o.id),o])),a=(Array.isArray(t)?t:[]).map(o=>s.get(Number(o))).filter(Boolean).flatMap(o=>OH(o));return[...new Set([...n,...a])]},MH=({playerIds:e=[],groupIds:t=[],groups:r=[],invitees:n=[]}={})=>{const s=iu({playerIds:e,groupIds:t,groups:r}),a=(Array.isArray(n)?n:[]).filter(c=>{const l=String((c==null?void 0:c.full_name)||"").trim(),u=String((c==null?void 0:c.phone)||"").trim(),d=String((c==null?void 0:c.email)||"").trim();return!!(l&&(u||d))}).length,o=s.length+a;return{total:o,isValid:o===1,uniqueExistingPlayers:s}},Cx=e=>{var t;if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.packages))return e.packages;if(Array.isArray((t=e.data)==null?void 0:t.packages))return e.data.packages;if(Array.isArray(e.data))return e.data;if(Array.isArray(e.result))return e.result;if(Array.isArray(e.items))return e.items}return[]},Ex=cs(),DH=e=>{const t=Math.floor(e/2),r=e%2===1;return t===0&&r?"30 min":t===1&&!r?"1 hour":t===1&&r?"1.5 hours":t>1&&!r?`${t} hours`:t>1&&r?`${t}.5 hours`:`${e*30} min`},LH=(e,t)=>{const[r,n]=e.split(":").map(Number),s=new Date;return s.setHours(r,n+t,0,0),s.toTimeString().slice(0,5)};function RH(){var Dg,Lg,Rg,Ig;const{user:e,initialising:t,logout:r}=Og(),n=!!e,s="/TTP_Coach_Web_Public/pr-preview/pr-65/",a=b.useCallback($=>{if(!$)return"/";const Y=s.endsWith("/")?s:`${s}/`;if(!$.startsWith(Y))return $;const H=$.slice(Y.length);return H?`/${H}`:"/"},[s]),o=b.useCallback($=>{const Y=s.endsWith("/")?s.slice(0,-1):s,H=$.startsWith("/")?$:`/${$}`;return`${Y}${H}`},[s]),[c,l]=b.useState(()=>a(window.location.pathname)),{profile:u,isComplete:d,loading:m,error:f,hasFetched:y,saveProfile:v,refreshProfile:p}=iH({enabled:n}),[w,g]=b.useState(!1),[h,x]=b.useState(Ex),[N,_]=b.useState(!1),[P,E]=b.useState(0),[S,j]=b.useState("calendar"),[M,F]=b.useState("week"),[Q,B]=b.useState(()=>new Date),[O,K]=b.useState([]),[T,Z]=b.useState(!1),[D,U]=b.useState(!1),[V,I]=b.useState(!1),[z,G]=b.useState(!1),[J,te]=b.useState(!1),[de,me]=b.useState(null),[he,je]=b.useState(null),[Te,Ce]=b.useState(null),[Ee,ze]=b.useState(!1),[bt,Rt]=b.useState(null),[Ne,Ct]=b.useState(null),[qr,Ke]=b.useState(!1),[Ht,at]=b.useState(!1),[_e,It]=b.useState(null),[ir,or]=b.useState(""),[Ft,Bt]=b.useState(null),[it,zt]=b.useState(!1),[Or,mn]=b.useState([]),[vr,Vt]=b.useState(1),[Mr,pn]=b.useState(!0),[A,se]=b.useState(!1),[ae,be]=b.useState(!1),[Be,Ze]=b.useState(null),[lr,Gt]=b.useState(!1),[Re,yr]=b.useState({date:"",start:"09:00",end:"10:00",location:"",location_id:null}),[Dr,xr]=b.useState({}),[C,W]=b.useState(!1),[X,le]=b.useState(!1),[dt,cr]=b.useState(null),Et=b.useRef(!1),[L,ee]=b.useState([]),[He,ht]=b.useState(!1),[xe,Ye]=b.useState(null),[ot,$t]=b.useState([]),[Qn,hn]=b.useState(!1),[Wa,Xn]=b.useState(null),[ia,gt]=b.useState(null),[Zn,br]=b.useState(!1),oa=c==="/",Ss=c==="/dashboard",An=c==="/settings",On=c==="/notifications",js=c==="/google-calendar",ks=c==="/redirect";b.useEffect(()=>{const $=()=>W(window.innerWidth<768);return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),b.useEffect(()=>{x(u)},[u]),b.useEffect(()=>{N||g(d)},[d,N]),b.useEffect(()=>{f&&console.error("Failed to load coach profile",f)},[f]),b.useEffect(()=>{n||(x(Ex),g(!1),_(!1),E(0),le(!1),cr(null),Et.current=!1,ee([]),ht(!1),Ye(null),$t([]),hn(!1),Xn(null),gt(null),br(!1))},[n]);const Lr=b.useCallback(($,{replace:Y=!1}={})=>{const H=o($);window.location.pathname!==H&&(Y?window.history.replaceState(null,"",H):window.history.pushState(null,"",H),l(a(H)))},[o,a]);b.useEffect(()=>{const $=()=>l(a(window.location.pathname));return window.addEventListener("popstate",$),()=>window.removeEventListener("popstate",$)},[a]),b.useEffect(()=>{if(!t){if(!n&&!oa){Lr("/",{replace:!0});return}n&&!Ss&&!An&&!On&&!js&&!ks&&Lr("/dashboard",{replace:!0})}},[t,n,oa,Ss,An,On,js,ks,Lr]);const{students:Rr,loading:Ya,loadingMore:Ha,error:Ba,hasMore:Va,loadMore:Ga,page:gn,perPage:la,refresh:qa}=aH({enabled:w&&n,perPage:5,search:ir}),ca=b.useCallback($=>Array.isArray($)?$:$&&Array.isArray($.lessons)?$.lessons:$&&Array.isArray($.data)?$.data:$&&Array.isArray($.items)?$.items:[],[]),$e=b.useCallback(async({playerId:$,page:Y=1,replace:H=!1}={})=>{if($){Y===1?se(!0):be(!0),Ze(null);try{const pe=await dT({playerId:$,perPage:10,page:Y}),we=ca(pe);mn(Me=>H?we:[...Me,...we]),pn(we.length>=10)}catch(pe){const we=pe instanceof Error?pe.message:"Failed to load previous lessons.";Ze(we)}finally{se(!1),be(!1)}}},[ca]),{lessons:Jn,upcomingLessons:Ut,availability:Ie,stats:vn,googleEvents:Ql,loading:Xl,error:Zl,refresh:Cs,addAvailabilitySlot:Jl,updateLesson:ec,mutationError:tc,mutationLoading:Ka}=nH({enabled:w&&n,date:Q,dates:O}),rc=b.useCallback($=>{if(!$){K([]);return}if(Array.isArray($)){K($);return}if($ instanceof Date){K([$]);return}if($!=null&&$.start&&($!=null&&$.end)){const Y=[],H=new Date($.start),pe=new Date($.end);if(Number.isNaN(H.getTime())||Number.isNaN(pe.getTime())){K([]);return}const we=new Date(H);we.setHours(0,0,0,0);const Me=new Date(pe);for(Me.setHours(0,0,0,0);we<=Me;)Y.push(new Date(we)),we.setDate(we.getDate()+1);K(Y);return}K([])},[]),ua=b.useCallback(async({force:$=!1}={})=>{var Y;if(n&&!(X&&!$)){le(!0),cr(null);try{const H=await lH();if(!H)throw new Error("Your session has expired. Please sign in again.");if(!H.ok){let Me="Failed to load packages. Please try again.";try{const Nr=await H.json();Me=(Nr==null?void 0:Nr.message)||(Nr==null?void 0:Nr.error)||((Y=Nr==null?void 0:Nr.errors)==null?void 0:Y[0])||Me}catch{}throw new Error(Me)}const pe=await H.json().catch(()=>null),we=Cx(pe);x(Me=>({...Me,packages:we}))}catch(H){const pe=H instanceof Error?H.message:"Failed to load packages.";cr(pe),console.error("Failed to fetch packages",H)}finally{Et.current=!0,le(!1)}}},[n,X,x,Cx,Et]),nc=b.useCallback(()=>ua({force:!0}),[ua]),co=b.useCallback($=>Array.isArray($)?$:$&&Array.isArray($.locations)?$.locations:$&&Array.isArray($.data)?$.data:$&&Array.isArray($.result)?$.result:[],[]),Ir=b.useCallback(async()=>{var $,Y;if(n){ht(!0),Ye(null);try{const H=await dH(($=e==null?void 0:e.session)==null?void 0:$.access_token);if(!H)throw new Error("Your session has expired. Please sign in again.");if(!H.ok){let we="Failed to load locations. Please try again.";try{const Me=await H.json();we=(Me==null?void 0:Me.message)||(Me==null?void 0:Me.error)||((Y=Me==null?void 0:Me.errors)==null?void 0:Y[0])||we}catch{}throw new Error(we)}const pe=await H.json().catch(()=>null);ee(co(pe))}catch(H){const pe=H instanceof Error?H.message:"Failed to load locations.";Ye(pe)}finally{ht(!1)}}},[n,co,(Dg=e==null?void 0:e.session)==null?void 0:Dg.access_token]),sc=b.useCallback(()=>Ir(),[Ir]);b.useEffect(()=>{!n||S!=="packages"||Et.current||ua()},[S,ua,n,Et]),b.useEffect(()=>{S!=="packages"&&(Et.current=!1)},[S,Et]);const ac=b.useCallback(async $=>{var Y;if(!$||!n)return{error:"A location id is required."};try{const H=await fH({coachAccessToken:(Y=e==null?void 0:e.session)==null?void 0:Y.access_token,location_id:Number($)});if(!(H!=null&&H.ok)){const pe=await(H==null?void 0:H.json().catch(()=>null));throw new Error((pe==null?void 0:pe.message)||(pe==null?void 0:pe.error)||"Failed to add location.")}return await Ir(),{ok:!0}}catch(H){return{error:H instanceof Error?H.message:"Failed to add location."}}},[Ir,n,(Lg=e==null?void 0:e.session)==null?void 0:Lg.access_token]),ic=b.useCallback(async({location:$,latitude:Y,longitude:H})=>{var pe;if(!$||Y===""||H===""||!n)return{error:"Location name, latitude, and longitude are required."};try{const we=await mH({coachAccessToken:(pe=e==null?void 0:e.session)==null?void 0:pe.access_token,location:$,latitude:Number(Y),longitude:Number(H)});if(!(we!=null&&we.ok)){const Me=await(we==null?void 0:we.json().catch(()=>null));throw new Error((Me==null?void 0:Me.message)||(Me==null?void 0:Me.error)||"Failed to add location.")}return await Ir(),{ok:!0}}catch(we){return{error:we instanceof Error?we.message:"Failed to add location."}}},[Ir,n,(Rg=e==null?void 0:e.session)==null?void 0:Rg.access_token]),oc=b.useCallback(async $=>{var Y;if(!$||!n)return{error:"A location id is required."};try{const H=await pH({coachAccessToken:(Y=e==null?void 0:e.session)==null?void 0:Y.access_token,location_id:$});if(!(H!=null&&H.ok)){const pe=await(H==null?void 0:H.json().catch(()=>null));throw new Error((pe==null?void 0:pe.message)||(pe==null?void 0:pe.error)||"Failed to delete location.")}return await Ir(),{ok:!0}}catch(H){return{error:H instanceof Error?H.message:"Failed to delete location."}}},[Ir,n,(Ig=e==null?void 0:e.session)==null?void 0:Ig.access_token]);b.useEffect(()=>{!n||S!=="locations"&&S!=="calendar"||Ir()},[S,Ir,n]),b.useMemo(()=>!(Ie!=null&&Ie.weekly)||Object.keys(Ie.weekly).length===0?h.availability:Ie.weekly,[Ie,h.availability]),b.useMemo(()=>!(Ie!=null&&Ie.weeklyLocations)||Object.keys(Ie.weeklyLocations).length===0?h.availabilityLocations:Ie.weeklyLocations,[Ie,h.availabilityLocations]);const k=b.useMemo(()=>Ie!=null&&Ie.adHoc?Ie.adHoc.reduce(($,Y)=>{const H=Y==null?void 0:Y.date,pe=(Y==null?void 0:Y.start)||(Y==null?void 0:Y.startTime);if(!H||!pe)return $;const we=Y.end||Y.endTime||Y.finish,Me=Y.location||Y.court||"";return $[H]||($[H]={}),$[H][pe]={type:Y.type||"ad-hoc",location:Me,endTime:we},$},{}):{},[Ie]);b.useMemo(()=>{const $={...k};return Object.entries(Dr).forEach(([Y,H])=>{$[Y]={...$[Y]||{},...H}}),$},[k,Dr]);const oe=()=>Ke(!0),Pe=async()=>{var $;if(!(Ne!=null&&Ne.id)){Ke(!1),I(!1),Ct(null);return}try{const Y=await gx(($=e==null?void 0:e.session)==null?void 0:$.access_token,Ne.id,{status:"CANCELLED"});await Cs(),(Y==null?void 0:Y.status)===200?window.alert("The lesson cancelled successfully!!"):window.alert("Something went wrong!!")}catch(Y){console.error("Failed to cancel lesson",Y),window.alert("Something went wrong!!")}finally{Ke(!1),I(!1),Ct(null)}},Oe=()=>{Ne&&(at(!0),It({...Ne}))},wt=()=>{at(!1),It(null)},Nt=async()=>{if(!(_e!=null&&_e.id)){wt();return}const $=Number((_e==null?void 0:_e.lessontype_id)??(_e==null?void 0:_e.lesson_type_id))===3||String((_e==null?void 0:_e.lesson_type_name)||(_e==null?void 0:_e.lessonType)||(_e==null?void 0:_e.type)||"").toLowerCase().includes("group")||String((_e==null?void 0:_e.lesson_type_name)||(_e==null?void 0:_e.lessonType)||(_e==null?void 0:_e.type)||"").toLowerCase().includes("open"),Y=H=>{var Nr,Mn,Ps;if(!$)return H;const pe={...(H==null?void 0:H.metadata)||{},title:(H==null?void 0:H.title)||(H==null?void 0:H.lesson_title)||((Nr=H==null?void 0:H.metadata)==null?void 0:Nr.title)||"",description:((Mn=H==null?void 0:H.metadata)==null?void 0:Mn.description)||(H==null?void 0:H.description)||"",level:((Ps=H==null?void 0:H.metadata)==null?void 0:Ps.level)||(H==null?void 0:H.level)||""},we=(H==null?void 0:H.player_limit)??(H==null?void 0:H.max_participants)??(H==null?void 0:H.maxParticipants),Me=Number(we);return{metadata:pe,...Number.isFinite(Me)?{player_limit:Me}:{}}};try{const H=Y(_e),pe=await ec(_e.id,H);Ct(pe||{..._e,...H}),at(!1)}catch(H){console.error("Failed to save lesson",H)}},fe=$=>{Ct($),at(!1),It(null),I(!0)},lt=$=>{$!=null&&$.playerId&&(Bt($),zt(!0),mn([]),Vt(1),pn(!0),$e({playerId:$.playerId,page:1,replace:!0}))},wr=$=>{if($){uo($);return}Ct($),at(!1),It(null),I(!0)},Es=($,Y)=>{if(!$||!Y)return null;const[H,pe]=String(Y).split(":").map(Number),we=new Date($);return Number.isNaN(we.getTime())?null:(we.setHours(H||0,pe||0,0,0),we)},uo=$=>{const Y=Es($==null?void 0:$.date,$==null?void 0:$.start),H=Es($==null?void 0:$.date,$==null?void 0:$.end);me({start:Y,end:H,location_id:($==null?void 0:$.location_id)??null,court:($==null?void 0:$.court)??null,lessontype_id:1,playerIds:[],groupIds:[],invitees:[],metadata:{title:"",level:"All",duration:Y&&H?String(Math.max(0,Math.round((H-Y)/6e4))):"",description:"",recurrence:{frequency:"",count:""}},price_per_person:"",player_limit:""}),I(!1),G(!0)},lc=()=>{const $=Xd();me({start:null,end:null,location_id:$.location_id??null,court:null,lessontype_id:1,playerIds:[],groupIds:[],invitees:[],metadata:{title:"",level:"All",duration:"",description:"",recurrence:{frequency:"",count:""}},price_per_person:"",player_limit:""}),I(!1),G(!0)},U_=()=>{zt(!1),Bt(null),Ze(null)},W_=()=>{if(!(Ft!=null&&Ft.playerId)||ae||!Mr)return;const $=vr+1;Vt($),$e({playerId:Ft.playerId,page:$})},Y_=({date:$,start:Y,location:H})=>{const pe=Xd();yr({date:$,start:Y,end:LH(Y,60),location:H||pe.location,location_id:pe.location_id}),Z(!0)},H_=()=>{const $=new Date().toISOString().split("T")[0],Y=Xd();yr({date:$,start:"09:00",end:"10:00",location:Y.location,location_id:Y.location_id}),Z(!0)},B_=async()=>{if(Re.date&&Re.start&&Re.end&&Re.location){const $={type:"ad-hoc",date:Re.date,start:Re.start,end:Re.end,location:Re.location,location_id:Re.location_id};try{const Y=await Jl($),H=(Y==null?void 0:Y.end)||(Y==null?void 0:Y.endTime)||Re.end;xr(pe=>({...pe,[Re.date]:{...pe[Re.date]||{},[Re.start]:{type:(Y==null?void 0:Y.type)||"ad-hoc",location:(Y==null?void 0:Y.location)||Re.location,endTime:H}}})),Z(!1),yr({date:"",start:"09:00",end:"10:00",location:"",location_id:null})}catch(Y){console.error("Failed to add availability slot",Y)}}},Qd=($,Y)=>{const H=Number($==null?void 0:$.status);return H===400?"Please check your group details and try again.":H===404?"Group not found. Refresh and try again.":H===409?"A group with this name already exists.":H>=500?"Server error while saving group. Please try again.":$ instanceof Error?$.message:Y},Qa=b.useCallback(async()=>{if(n){hn(!0),Xn(null);try{const $=await yT(),Y=Array.isArray($)?$:Array.isArray($==null?void 0:$.groups)?$.groups:Array.isArray($==null?void 0:$.data)?$.data:[];$t(Y)}catch($){Xn($ instanceof Error?$.message:"Failed to load groups.")}finally{hn(!1)}}},[n]),V_=async($,Y)=>{br(!0),gt(null);try{await xT($),await Qa(),Y==null||Y()}catch(H){gt(Qd(H,"Failed to create group."))}finally{br(!1)}},G_=async($,Y,H)=>{br(!0),gt(null);try{await bT($,Y),await Qa(),H==null||H()}catch(pe){gt(Qd(pe,"Failed to update group."))}finally{br(!1)}},q_=async($,Y)=>{if(window.confirm(`Delete group "${($==null?void 0:$.name)||"this group"}"?`)){br(!0),gt(null);try{await wT($==null?void 0:$.id),await Qa(),Y==null||Y()}catch(pe){gt(Qd(pe,"Failed to delete group."))}finally{br(!1)}}};b.useEffect(()=>{n&&Qa()},[n,Qa]);const K_=async $=>{var Fg,zg,Ug,Wg,Yg,Hg,Bg,Vg,Gg,qg,Kg,Qg,Xg,Zg;if(!($!=null&&$.start)||!($!=null&&$.end)){Ce("Start and end time are required.");return}const Y=new Date($.start),H=new Date($.end);if(Number.isNaN(Y.getTime())||Number.isNaN(H.getTime())){Ce("Invalid date/time values.");return}const pe=parseInt((Fg=$.metadata)==null?void 0:Fg.duration,10);let we=H;Number($.lessontype_id)===3&&Number.isFinite(pe)&&pe>0&&(we=new Date(Y.getTime()+pe*6e4));const Me=ye=>{const ve=_t=>String(_t).padStart(2,"0");return`${ye.getFullYear()}-${ve(ye.getMonth()+1)}-${ve(ye.getDate())} ${ve(ye.getHours())}:${ve(ye.getMinutes())}:00`},Nr=$.court===""||$.court===void 0||$.court===null?null:Number.isFinite(Number($.court))?Number($.court):null,Mn=((zg=$.metadata)==null?void 0:zg.recurrence)||{frequency:"NONE",count:""},Ps=Array.isArray($.playerIds)?$.playerIds.map(ye=>Number(ye)).filter(ye=>Number.isFinite(ye)&&ye>0):[],fo=Array.isArray($.groupIds)?$.groupIds.map(ye=>Number(ye)).filter(ye=>Number.isFinite(ye)&&ye>0):[],Xa=Array.isArray($.invitees)?$.invitees.map(ye=>{const ve=String((ye==null?void 0:ye.full_name)||"").trim(),_t=String((ye==null?void 0:ye.phone)||"").trim(),_r=String((ye==null?void 0:ye.email)||"").trim();return!ve||!_t&&!_r?null:_t?{full_name:ve,phone:_t}:{full_name:ve,email:_r}}).filter(Boolean):[],rS=Zd.filter(ye=>Ps.includes(Number(ye.playerId??ye.id??ye.user_id))),nS=()=>{if($.location&&String($.location).trim())return String($.location).trim();const ye=L.length>0?L:h.home_courts,ve=(Array.isArray(ye)?ye:[]).find(_t=>{if(_t&&typeof _t=="object"){const _r=_t.location_id??_t.locationId??_t.id??_t.value;return String(_r??"")===String($.location_id??"")}return!1});return ve&&typeof ve=="object"&&(ve.location||ve.name||ve.label||ve.address)||""},ur={start_date_time:new Date(`${Me(Y)}Z`).toISOString(),end_date_time:new Date(`${Me(we)}Z`).toISOString(),start_date_time_tz:Y.toISOString(),end_date_time_tz:we.toISOString(),location_id:$.location_id,court:Nr,status:"PENDING",lessontype_id:Number($.lessontype_id),group_ids:fo,recurrence:{frequency:Mn.frequency||"NONE",count:Mn.count??""},metadata:{title:((Ug=$.metadata)==null?void 0:Ug.title)||"",level:((Wg=$.metadata)==null?void 0:Wg.level)||"All",description:((Yg=$.metadata)==null?void 0:Yg.description)||"",duration:String(Math.round((we-Y)/6e4)),recurrence:Mn}};if(ur.lessontype_id===1){if(!MH({playerIds:Ps,groupIds:fo,groups:ot,invitees:Xa}).isValid){Ce("Private lesson must resolve to exactly one player across selected groups, manual players, and invitees.");return}const ve=iu({playerIds:Ps,groupIds:fo,groups:ot});ve.length===1?ur.player_id=Number(ve[0]):ur.player=Xa[0],delete ur.recurrence}else if(ur.lessontype_id===2){const ve=[...iu({playerIds:Ps,groupIds:fo,groups:ot}).map(_t=>({player_id:Number(_t)})),...Xa];if(ve.length===0){Ce("Add at least one player for a semi-private lesson.");return}if(!$.price_per_person){Ce("Enter a price per person for a semi-private lesson.");return}ur.player_ids_arr=ve,ur.price_per_person=Number($.price_per_person),delete ur.recurrence}else if(ur.lessontype_id===3){if(!$.price_per_person){Ce("Enter a price per person for open group lessons.");return}if(!$.player_limit){Ce("Enter a player limit for open group lessons.");return}Mn!=null&&Mn.frequency&&(ur.recurrence=Mn),ur.price_per_person=Number($.price_per_person),ur.player_limit=Number($.player_limit);const ye=iu({playerIds:Ps,groupIds:fo,groups:ot});(ye.length>0||Xa.length>0)&&(ur.player_ids_arr=[...ye.map(ve=>({player_id:Number(ve)})),...Xa])}Ce(null),ze(!0);try{const ye=await cH({coachAccessToken:(Hg=e==null?void 0:e.session)==null?void 0:Hg.access_token,lessonData:ur});if(!(ye!=null&&ye.ok)){const Za=await(ye==null?void 0:ye.json().catch(()=>null));throw new Error((Za==null?void 0:Za.message)||(Za==null?void 0:Za.error)||"Failed to create lesson.")}const ve=await(ye==null?void 0:ye.json().catch(()=>null));await Cs();const _t=rS[0],_r=Xa[0],Jd=(_t==null?void 0:_t.full_name)||(_t==null?void 0:_t.name)||(_r==null?void 0:_r.full_name)||"Player",sS=Jd.split(" ")[0]||Jd,Jg=Number(ur.lessontype_id),aS=Jg===1?`$${Math.round(Number(h.hourly_rate??h.price_private??0)||0)}`:$.price_per_person?`$${$.price_per_person} per person`:"$0",iS=String(h.name||h.full_name||h.first_name||((Bg=e==null?void 0:e.user_metadata)==null?void 0:Bg.full_name)||((Vg=e==null?void 0:e.user_metadata)==null?void 0:Vg.name)||((Kg=(qg=(Gg=e==null?void 0:e.session)==null?void 0:Gg.user)==null?void 0:qg.user_metadata)==null?void 0:Kg.full_name)||"").trim(),oS=(ve==null?void 0:ve.claimLink)||(ve==null?void 0:ve.claim_link)||(ve==null?void 0:ve.link)||(ve==null?void 0:ve.url)||"",lS=nS()||(ve==null?void 0:ve.location)||((Qg=ve==null?void 0:ve.data)==null?void 0:Qg.location)||"TBD location";Rt({lessonId:((Xg=ve==null?void 0:ve.lesson)==null?void 0:Xg.id)||((Zg=ve==null?void 0:ve.data)==null?void 0:Zg.id)||(ve==null?void 0:ve.id)||null,start:Y,location:lS,lessonTypeId:Jg,priceLabel:aS,playerName:Jd,playerFirstName:sS,playerPhone:(_r==null?void 0:_r.phone)||"",coachName:iS||"Coach",claimLink:oS,inviteMethod:_r!=null&&_r.phone?"sms":"app"}),G(!1),me(null)}catch(ye){const ve=ye instanceof Error?ye.message:"Failed to create lesson.";Ce(ve)}finally{ze(!1)}},Xd=b.useCallback(()=>{if(L.length===0)return{location:h.home_courts[0]||"",location_id:null};const $=L[0]||{},Y=$.location||$.name||$.address||"",H=$.location_id??$.locationId??null;return{location:Y,location_id:H}},[L,h.home_courts]),Q_=$=>{$&&(x(Y=>{const pe=(Array.isArray(Y.packages)?Y.packages:[]).filter(we=>(we==null?void 0:we.id)!==$.id);return{...Y,packages:[$,...pe]}}),cr(null),Et.current=!0)},Mg=async $=>{try{const Y=await v($),H=Y!=null&&Y.profile?{...Y.profile}:{...h,...$};return x(H),g(!!((Y==null?void 0:Y.isComplete)??!0)),_(!1),E(0),{data:H}}catch(Y){return{error:Y instanceof Error?Y.message:"Failed to save profile"}}},X_=()=>{E(8),_(!0),g(!1)},Z_=()=>{I(!1),at(!1),It(null)},J_=async()=>{var $;if(!(Ne!=null&&Ne.id)){I(!1);return}if(Ne.status===1){I(!1);return}try{const Y=await uH({coachAccessToken:($=e==null?void 0:e.session)==null?void 0:$.access_token,lessonId:Ne.id});await Cs(),(Y==null?void 0:Y.status)===200||(Y==null?void 0:Y.status)===201?(je(Ne),te(!0)):window.alert("Something went wrong!!")}catch(Y){console.error("Failed to accept lesson request",Y),window.alert("Something went wrong!!")}finally{I(!1)}},eS=async()=>{var $;if(!(Ne!=null&&Ne.id)){I(!1);return}if(Ne.status==="CANCELLED"){I(!1);return}try{const Y=await gx(($=e==null?void 0:e.session)==null?void 0:$.access_token,Ne.id,{status:"CANCELLED"});await Cs(),(Y==null?void 0:Y.status)===200?window.alert("The lesson cancelled successfully!!"):window.alert("Something went wrong!!")}catch(Y){console.error("Failed to cancel lesson request",Y),window.alert("Something went wrong!!")}finally{I(!1)}},Zd=b.useMemo(()=>Array.isArray(Rr)?Rr:(Rr==null?void 0:Rr.students)||[],[Rr]),tS=(!w||N)&&n;return t?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white text-gray-600",children:"Loading..."}):n?!N&&!y&&m?i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white text-gray-600",children:"Loading profile..."}):tS?i.jsx(nx,{initialData:h,initialStep:P,onComplete:Mg,onRefreshProfile:p,isMobile:C}):i.jsxs(i.Fragment,{children:[An?i.jsx(nx,{initialData:h,initialStep:0,onComplete:Mg,onRefreshProfile:p,isMobile:C,isSettingsMode:!0,onBack:()=>Lr("/dashboard"),onOpenGoogleCalendar:()=>Lr("/google-calendar")}):js||ks?i.jsx(CH,{onBack:()=>Lr("/settings")}):On?i.jsx(EH,{onBack:()=>Lr("/dashboard")}):i.jsx(HY,{profile:h,isMobile:C,dashboardTab:S,onDashboardTabChange:j,calendarView:M,onCalendarViewChange:F,currentDate:Q,onCurrentDateChange:B,onRangeChange:rc,studentsData:Rr,studentsLoading:Ya,studentsLoadingMore:Ha,studentsError:Ba,onRefreshStudents:qa,studentsHasMore:Va,onLoadMoreStudents:Ga,studentsPage:gn,studentsPerPage:la,lessonsData:Jn,upcomingLessonsData:Ut,availabilityData:Ie,googleEvents:Ql,statsData:vn,scheduleLoading:Xl,scheduleError:Zl,onRefreshSchedule:Cs,mutationError:tc,mutationLoading:Ka,onLessonSelect:fe,onAvailabilitySlotSelect:wr,onEmptySlotSelect:Y_,onOpenAddAvailability:H_,onOpenCreateLesson:lc,onOpenCreatePackage:()=>U(!0),onRequestAvailabilityOnboarding:X_,onOpenSettings:()=>Lr("/settings"),onOpenNotifications:()=>Lr("/notifications"),onLogout:r,studentSearchQuery:ir,onStudentSearchQueryChange:or,onStudentSelect:lt,showMobileMenu:lr,onToggleMobileMenu:Gt,packagesLoading:X,packagesError:dt,onRefreshPackages:nc,locationsData:L,locationsLoading:He,locationsError:xe,onRefreshLocations:sc,onAddLocationById:ac,onAddCustomLocation:ic,onDeleteLocation:oc,groupsData:ot,groupsLoading:Qn,groupsError:Wa,groupsActionError:ia,groupsSaving:Zn,onRefreshGroups:Qa,onCreateGroup:V_,onUpdateGroup:G_,onDeleteGroup:q_}),i.jsx($H,{isOpen:it,student:Ft,lessons:Or,loading:A,loadingMore:ae,error:Be,hasMore:Mr,onClose:U_,onLoadMore:W_}),i.jsx(H9,{isOpen:V&&!!Ne,lesson:Ne,onClose:Z_,isEditing:Ht,onStartEdit:Oe,onCancelEdit:wt,onSaveEdit:Nt,editData:_e||Ne,onEditChange:It,mutationLoading:Ka,onCancelLesson:oe,students:Zd,coachCourts:h.home_courts,coachHourlyRate:h.hourly_rate??h.price_private,formatDuration:DH,onAcceptRequest:J_,onDeclineRequest:eS,onCreateLesson:uo}),i.jsx(AH,{isOpen:J,lesson:he,coachHourlyRate:h.hourly_rate??h.price_private,onDone:()=>{te(!1),je(null)}}),i.jsx(C9,{isOpen:qr,title:"Cancel Lesson",description:"Are you sure you want to cancel this lesson? This action cannot be undone and the student will be notified.",confirmLabel:"Cancel Lesson",cancelLabel:"Keep Lesson",onConfirm:Pe,onCancel:()=>Ke(!1)}),i.jsx(P9,{isOpen:D,onClose:()=>U(!1),onCreated:Q_}),i.jsx(k9,{isOpen:T,slot:Re,onChange:yr,onClose:()=>Z(!1),onSubmit:B_,isSubmitting:Ka,locations:L.length>0?L:h.home_courts}),i.jsx(gH,{isOpen:z,draft:de,onClose:()=>{G(!1),me(null),Ce(null)},onSubmit:K_,isSubmitting:Ee,submitError:Te,players:Zd,locations:L.length>0?L:h.home_courts,groups:ot}),i.jsx(bH,{isOpen:!!bt,data:bt,onClose:()=>Rt(null)})]}):i.jsx(Q9,{})}em.createRoot(document.getElementById("root")).render(i.jsx(R.StrictMode,{children:i.jsx(q9,{children:i.jsx(RH,{})})}));
