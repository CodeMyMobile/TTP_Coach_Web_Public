(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j0={exports:{}},uu={},k0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),a_=Symbol.for("react.portal"),i_=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),ag=Symbol.iterator;function h_(e){return e===null||typeof e!="object"?null:(e=ag&&e[ag]||e["@@iterator"],typeof e=="function"?e:null)}var E0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C0=Object.assign,T0={};function ai(e,t,r){this.props=e,this.context=t,this.refs=T0,this.updater=r||E0}ai.prototype.isReactComponent={};ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P0(){}P0.prototype=ai.prototype;function Rp(e,t,r){this.props=e,this.context=t,this.refs=T0,this.updater=r||E0}var Ip=Rp.prototype=new P0;Ip.constructor=Rp;C0(Ip,ai.prototype);Ip.isPureReactComponent=!0;var ig=Array.isArray,O0=Object.prototype.hasOwnProperty,Fp={current:null},M0={key:!0,ref:!0,__self:!0,__source:!0};function $0(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)O0.call(t,n)&&!M0.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Wo,type:e,key:a,ref:i,props:s,_owner:Fp.current}}function g_(e,t){return{$$typeof:Wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Up(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wo}function v_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var og=/\/+/g;function fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v_(""+e.key):t.toString(36)}function ql(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wo:case a_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+fd(i,0):n,ig(s)?(r="",e!=null&&(r=e.replace(og,"$&/")+"/"),ql(s,t,r,"",function(u){return u})):s!=null&&(Up(s)&&(s=g_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(og,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",ig(e))for(var c=0;c<e.length;c++){a=e[c];var l=n+fd(a,c);i+=ql(a,t,r,l,s)}else if(l=h_(e),typeof l=="function")for(e=l.call(e),c=0;!(a=e.next()).done;)a=a.value,l=n+fd(a,c++),i+=ql(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wl(e,t,r){if(e==null)return e;var n=[],s=0;return ql(e,n,"","",function(a){return t.call(r,a,s++)}),n}function y_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Kl={transition:null},x_={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Fp};function A0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:wl,forEach:function(e,t,r){wl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!Up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=ai;Se.Fragment=i_;Se.Profiler=l_;Se.PureComponent=Rp;Se.StrictMode=o_;Se.Suspense=f_;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_;Se.act=A0;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C0({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Fp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)O0.call(t,l)&&!M0.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Wo,type:e.type,key:s,ref:a,props:n,_owner:i}};Se.createContext=function(e){return e={$$typeof:u_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c_,_context:e},e.Consumer=e};Se.createElement=$0;Se.createFactory=function(e){var t=$0.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:d_,render:e}};Se.isValidElement=Up;Se.lazy=function(e){return{$$typeof:m_,_payload:{_status:-1,_result:e},_init:y_}};Se.memo=function(e,t){return{$$typeof:p_,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Kl.transition;Kl.transition={};try{e()}finally{Kl.transition=t}};Se.unstable_act=A0;Se.useCallback=function(e,t){return Ht.current.useCallback(e,t)};Se.useContext=function(e){return Ht.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Ht.current.useEffect(e,t)};Se.useId=function(){return Ht.current.useId()};Se.useImperativeHandle=function(e,t,r){return Ht.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Ht.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return Ht.current.useReducer(e,t,r)};Se.useRef=function(e){return Ht.current.useRef(e)};Se.useState=function(e){return Ht.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return Ht.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return Ht.current.useTransition()};Se.version="18.3.1";k0.exports=Se;var _=k0.exports;const D=Yt(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_=_,w_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),__=Object.prototype.hasOwnProperty,N_=b_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j_={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)__.call(t,n)&&!j_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:w_,type:e,key:a,ref:i,props:s,_owner:N_.current}}uu.Fragment=S_;uu.jsx=D0;uu.jsxs=D0;j0.exports=uu;var o=j0.exports,lf={},L0={exports:{}},gr={},R0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,R){var H=I.length;I.push(R);e:for(;0<H;){var O=H-1>>>1,F=I[O];if(0<s(F,R))I[O]=R,I[H]=F,H=O;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var R=I[0],H=I.pop();if(H!==R){I[0]=H;e:for(var O=0,F=I.length,W=F>>>1;O<W;){var K=2*(O+1)-1,Q=I[K],oe=K+1,le=I[oe];if(0>s(Q,H))oe<F&&0>s(le,Q)?(I[O]=le,I[oe]=H,O=oe):(I[O]=Q,I[K]=H,O=K);else if(oe<F&&0>s(le,H))I[O]=le,I[oe]=H,O=oe;else break e}}return R}function s(I,R){var H=I.sortIndex-R.sortIndex;return H!==0?H:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var l=[],u=[],d=1,p=null,f=3,y=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=I)n(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(u)}}function S(I){if(v=!1,x(I),!g)if(r(l)!==null)g=!0,z(b);else{var R=r(u);R!==null&&V(S,R.startTime-I)}}function b(I,R){g=!1,v&&(v=!1,h(P),P=-1),y=!0;var H=f;try{for(x(R),p=r(l);p!==null&&(!(p.expirationTime>R)||I&&!U());){var O=p.callback;if(typeof O=="function"){p.callback=null,f=p.priorityLevel;var F=O(p.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?p.callback=F:p===r(l)&&n(l),x(R)}else n(l);p=r(l)}if(p!==null)var W=!0;else{var K=r(u);K!==null&&V(S,K.startTime-R),W=!1}return W}finally{p=null,f=H,y=!1}}var k=!1,j=null,P=-1,C=5,L=-1;function U(){return!(e.unstable_now()-L<C)}function G(){if(j!==null){var I=e.unstable_now();L=I;var R=!0;try{R=j(!0,I)}finally{R?X():(k=!1,j=null)}}else k=!1}var X;if(typeof m=="function")X=function(){m(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,A=$.port2;$.port1.onmessage=G,X=function(){A.postMessage(null)}}else X=function(){w(G,0)};function z(I){j=I,k||(k=!0,X())}function V(I,R){P=w(function(){I(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,z(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var H=f;f=R;try{return I()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=f;f=I;try{return R()}finally{f=H}},e.unstable_scheduleCallback=function(I,R,H){var O=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,I={id:d++,callback:R,priorityLevel:I,startTime:H,expirationTime:F,sortIndex:-1},H>O?(I.sortIndex=H,t(u,I),r(l)===null&&I===r(u)&&(v?(h(P),P=-1):v=!0,V(S,H-O))):(I.sortIndex=F,t(l,I),g||y||(g=!0,z(b))),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var R=f;return function(){var H=f;f=R;try{return I.apply(this,arguments)}finally{f=H}}}})(I0);R0.exports=I0;var k_=R0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_=_,pr=k_;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F0=new Set,ao={};function ia(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(ao[e]=t,e=0;e<t.length;e++)F0.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,C_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lg={},cg={};function T_(e){return cf.call(cg,e)?!0:cf.call(lg,e)?!1:C_.test(e)?cg[e]=!0:(lg[e]=!0,!1)}function P_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O_(e,t,r,n){if(t===null||typeof t>"u"||P_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zp=/[\-:]([a-z])/g;function Wp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zp,Wp);jt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zp,Wp);jt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zp,Wp);jt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,r,n){var s=jt.hasOwnProperty(t)?jt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O_(t,r,s,n)&&(r=null),n||s===null?T_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bn=E_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),xa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),z0=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),W0=Symbol.for("react.offscreen"),ug=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=ug&&e[ug]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,pd;function zi(e){if(pd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pd=t&&t[1]||""}return`
`+pd+e}var md=!1;function hd(e,t){if(!e||md)return"";md=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,c=a.length-1;1<=i&&0<=c&&s[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(s[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||s[i]!==a[c]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=c);break}}}finally{md=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zi(e):""}function M_(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=hd(e.type,!1),e;case 11:return e=hd(e.type.render,!1),e;case 1:return e=hd(e.type,!0),e;default:return""}}function pf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ba:return"Fragment";case xa:return"Portal";case uf:return"Profiler";case Hp:return"StrictMode";case df:return"Suspense";case ff:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z0:return(e.displayName||"Context")+".Consumer";case U0:return(e._context.displayName||"Context")+".Provider";case Bp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vp:return t=e.displayName||null,t!==null?t:pf(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return pf(e(t))}catch{}}return null}function $_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(t);case 8:return t===Hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function A_(e){var t=Y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _l(e){e._valueTracker||(e._valueTracker=A_(e))}function H0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mf(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ss(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B0(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function hf(e,t){B0(e,t);var r=Ss(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gf(e,t.type,r):t.hasOwnProperty("defaultValue")&&gf(e,t.type,Ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gf(e,t,r){(t!=="number"||xc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wi=Array.isArray;function Ma(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ss(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Wi(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ss(r)}}function V0(e,t){var r=Ss(t.value),n=Ss(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,q0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function io(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D_=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){D_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function K0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function X0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=K0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var L_=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xf(e,t){if(t){if(L_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function bf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function Gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sf=null,$a=null,Aa=null;function hg(e){if(e=Bo(e)){if(typeof Sf!="function")throw Error(re(280));var t=e.stateNode;t&&(t=hu(t),Sf(e.stateNode,e.type,t))}}function Q0(e){$a?Aa?Aa.push(e):Aa=[e]:$a=e}function Z0(){if($a){var e=$a,t=Aa;if(Aa=$a=null,hg(e),t)for(e=0;e<t.length;e++)hg(t[e])}}function J0(e,t){return e(t)}function ex(){}var gd=!1;function tx(e,t,r){if(gd)return e(t,r);gd=!0;try{return J0(e,t,r)}finally{gd=!1,($a!==null||Aa!==null)&&(ex(),Z0())}}function oo(e,t){var r=e.stateNode;if(r===null)return null;var n=hu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var _f=!1;if(In)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{_f=!1}function R_(e,t,r,n,s,a,i,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gi=!1,bc=null,wc=!1,Nf=null,I_={onError:function(e){Gi=!0,bc=e}};function F_(e,t,r,n,s,a,i,c,l){Gi=!1,bc=null,R_.apply(I_,arguments)}function U_(e,t,r,n,s,a,i,c,l){if(F_.apply(this,arguments),Gi){if(Gi){var u=bc;Gi=!1,bc=null}else throw Error(re(198));wc||(wc=!0,Nf=u)}}function oa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gg(e){if(oa(e)!==e)throw Error(re(188))}function z_(e){var t=e.alternate;if(!t){if(t=oa(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return gg(s),e;if(a===n)return gg(s),t;a=a.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,c=s.child;c;){if(c===r){i=!0,r=s,n=a;break}if(c===n){i=!0,n=s,r=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===r){i=!0,r=a,n=s;break}if(c===n){i=!0,n=a,r=s;break}c=c.sibling}if(!i)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function nx(e){return e=z_(e),e!==null?sx(e):null}function sx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sx(e);if(t!==null)return t;e=e.sibling}return null}var ax=pr.unstable_scheduleCallback,vg=pr.unstable_cancelCallback,W_=pr.unstable_shouldYield,Y_=pr.unstable_requestPaint,it=pr.unstable_now,H_=pr.unstable_getCurrentPriorityLevel,qp=pr.unstable_ImmediatePriority,ix=pr.unstable_UserBlockingPriority,Sc=pr.unstable_NormalPriority,B_=pr.unstable_LowPriority,ox=pr.unstable_IdlePriority,du=null,fn=null;function V_(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(du,e,void 0,(e.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:K_,G_=Math.log,q_=Math.LN2;function K_(e){return e>>>=0,e===0?32:31-(G_(e)/q_|0)|0}var jl=64,kl=4194304;function Yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _c(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var c=i&~s;c!==0?n=Yi(c):(a&=i,a!==0&&(n=Yi(a)))}else i=r&~s,i!==0?n=Yi(i):a!==0&&(n=Yi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xr(t),s=1<<r,n|=e[r],t&=~s;return n}function X_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Xr(a),c=1<<i,l=s[i];l===-1?(!(c&r)||c&n)&&(s[i]=X_(c,t)):l<=t&&(e.expiredLanes|=c),a&=~c}}function jf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lx(){var e=jl;return jl<<=1,!(jl&4194240)&&(jl=64),e}function vd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xr(t),e[t]=r}function Z_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Xr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Kp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var De=0;function cx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ux,Xp,dx,fx,px,kf=!1,El=[],fs=null,ps=null,ms=null,lo=new Map,co=new Map,is=[],J_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function Pi(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Bo(t),t!==null&&Xp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eN(e,t,r,n,s){switch(t){case"focusin":return fs=Pi(fs,e,t,r,n,s),!0;case"dragenter":return ps=Pi(ps,e,t,r,n,s),!0;case"mouseover":return ms=Pi(ms,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return lo.set(a,Pi(lo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,co.set(a,Pi(co.get(a)||null,e,t,r,n,s)),!0}return!1}function mx(e){var t=Fs(e.target);if(t!==null){var r=oa(t);if(r!==null){if(t=r.tag,t===13){if(t=rx(r),t!==null){e.blockedOn=t,px(e.priority,function(){dx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ef(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wf=n,r.target.dispatchEvent(n),wf=null}else return t=Bo(r),t!==null&&Xp(t),e.blockedOn=r,!1;t.shift()}return!0}function xg(e,t,r){Xl(e)&&r.delete(t)}function tN(){kf=!1,fs!==null&&Xl(fs)&&(fs=null),ps!==null&&Xl(ps)&&(ps=null),ms!==null&&Xl(ms)&&(ms=null),lo.forEach(xg),co.forEach(xg)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,kf||(kf=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,tN)))}function uo(e){function t(s){return Oi(s,e)}if(0<El.length){Oi(El[0],e);for(var r=1;r<El.length;r++){var n=El[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fs!==null&&Oi(fs,e),ps!==null&&Oi(ps,e),ms!==null&&Oi(ms,e),lo.forEach(t),co.forEach(t),r=0;r<is.length;r++)n=is[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<is.length&&(r=is[0],r.blockedOn===null);)mx(r),r.blockedOn===null&&is.shift()}var Da=Bn.ReactCurrentBatchConfig,Nc=!0;function rN(e,t,r,n){var s=De,a=Da.transition;Da.transition=null;try{De=1,Qp(e,t,r,n)}finally{De=s,Da.transition=a}}function nN(e,t,r,n){var s=De,a=Da.transition;Da.transition=null;try{De=4,Qp(e,t,r,n)}finally{De=s,Da.transition=a}}function Qp(e,t,r,n){if(Nc){var s=Ef(e,t,r,n);if(s===null)Ed(e,t,n,jc,r),yg(e,n);else if(eN(s,e,t,r,n))n.stopPropagation();else if(yg(e,n),t&4&&-1<J_.indexOf(e)){for(;s!==null;){var a=Bo(s);if(a!==null&&ux(a),a=Ef(e,t,r,n),a===null&&Ed(e,t,n,jc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ed(e,t,n,null,r)}}var jc=null;function Ef(e,t,r,n){if(jc=null,e=Gp(n),e=Fs(e),e!==null)if(t=oa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jc=e,null}function hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H_()){case qp:return 1;case ix:return 4;case Sc:case B_:return 16;case ox:return 536870912;default:return 16}default:return 16}}var ls=null,Zp=null,Ql=null;function gx(){if(Ql)return Ql;var e,t=Zp,r=t.length,n,s="value"in ls?ls.value:ls.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Ql=s.slice(e,1<n?1-n:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cl(){return!0}function bg(){return!1}function vr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cl:bg,this.isPropagationStopped=bg,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jp=vr(ii),Ho=Je({},ii,{view:0,detail:0}),sN=vr(Ho),yd,xd,Mi,fu=Je({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(yd=e.screenX-Mi.screenX,xd=e.screenY-Mi.screenY):xd=yd=0,Mi=e),yd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),wg=vr(fu),aN=Je({},fu,{dataTransfer:0}),iN=vr(aN),oN=Je({},Ho,{relatedTarget:0}),bd=vr(oN),lN=Je({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),cN=vr(lN),uN=Je({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dN=vr(uN),fN=Je({},ii,{data:0}),Sg=vr(fN),pN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hN[e])?!!t[e]:!1}function em(){return gN}var vN=Je({},Ho,{key:function(e){if(e.key){var t=pN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yN=vr(vN),xN=Je({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_g=vr(xN),bN=Je({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),wN=vr(bN),SN=Je({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),_N=vr(SN),NN=Je({},fu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=vr(NN),kN=[9,13,27,32],tm=In&&"CompositionEvent"in window,qi=null;In&&"documentMode"in document&&(qi=document.documentMode);var EN=In&&"TextEvent"in window&&!qi,vx=In&&(!tm||qi&&8<qi&&11>=qi),Ng=" ",jg=!1;function yx(e,t){switch(e){case"keyup":return kN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function CN(e,t){switch(e){case"compositionend":return xx(t);case"keypress":return t.which!==32?null:(jg=!0,Ng);case"textInput":return e=t.data,e===Ng&&jg?null:e;default:return null}}function TN(e,t){if(wa)return e==="compositionend"||!tm&&yx(e,t)?(e=gx(),Ql=Zp=ls=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vx&&t.locale!=="ko"?null:t.data;default:return null}}var PN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PN[e.type]:t==="textarea"}function bx(e,t,r,n){Q0(n),t=kc(t,"onChange"),0<t.length&&(r=new Jp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ki=null,fo=null;function ON(e){Ox(e,0)}function pu(e){var t=Na(e);if(H0(t))return e}function MN(e,t){if(e==="change")return t}var wx=!1;if(In){var wd;if(In){var Sd="oninput"in document;if(!Sd){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Sd=typeof Eg.oninput=="function"}wd=Sd}else wd=!1;wx=wd&&(!document.documentMode||9<document.documentMode)}function Cg(){Ki&&(Ki.detachEvent("onpropertychange",Sx),fo=Ki=null)}function Sx(e){if(e.propertyName==="value"&&pu(fo)){var t=[];bx(t,fo,e,Gp(e)),tx(ON,t)}}function $N(e,t,r){e==="focusin"?(Cg(),Ki=t,fo=r,Ki.attachEvent("onpropertychange",Sx)):e==="focusout"&&Cg()}function AN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(fo)}function DN(e,t){if(e==="click")return pu(t)}function LN(e,t){if(e==="input"||e==="change")return pu(t)}function RN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zr=typeof Object.is=="function"?Object.is:RN;function po(e,t){if(Zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!cf.call(t,s)||!Zr(e[s],t[s]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,t){var r=Tg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tg(r)}}function _x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nx(){for(var e=window,t=xc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xc(e.document)}return t}function rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IN(e){var t=Nx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_x(r.ownerDocument.documentElement,r)){if(n!==null&&rm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Pg(r,a);var i=Pg(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FN=In&&"documentMode"in document&&11>=document.documentMode,Sa=null,Cf=null,Xi=null,Tf=!1;function Og(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tf||Sa==null||Sa!==xc(n)||(n=Sa,"selectionStart"in n&&rm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&po(Xi,n)||(Xi=n,n=kc(Cf,"onSelect"),0<n.length&&(t=new Jp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sa)))}function Tl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _a={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},_d={},jx={};In&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function mu(e){if(_d[e])return _d[e];if(!_a[e])return e;var t=_a[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jx)return _d[e]=t[r];return e}var kx=mu("animationend"),Ex=mu("animationiteration"),Cx=mu("animationstart"),Tx=mu("transitionend"),Px=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){Px.set(e,t),ia(t,[e])}for(var Nd=0;Nd<Mg.length;Nd++){var jd=Mg[Nd],UN=jd.toLowerCase(),zN=jd[0].toUpperCase()+jd.slice(1);ks(UN,"on"+zN)}ks(kx,"onAnimationEnd");ks(Ex,"onAnimationIteration");ks(Cx,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Tx,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function $g(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U_(n,t,void 0,e),e.currentTarget=null}function Ox(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var c=n[i],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==a&&s.isPropagationStopped())break e;$g(s,c,u),a=l}else for(i=0;i<n.length;i++){if(c=n[i],l=c.instance,u=c.currentTarget,c=c.listener,l!==a&&s.isPropagationStopped())break e;$g(s,c,u),a=l}}}if(wc)throw e=Nf,wc=!1,Nf=null,e}function Ye(e,t){var r=t[Af];r===void 0&&(r=t[Af]=new Set);var n=e+"__bubble";r.has(n)||(Mx(t,e,2,!1),r.add(n))}function kd(e,t,r){var n=0;t&&(n|=4),Mx(r,e,n,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function mo(e){if(!e[Pl]){e[Pl]=!0,F0.forEach(function(r){r!=="selectionchange"&&(WN.has(r)||kd(r,!1,e),kd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,kd("selectionchange",!1,t))}}function Mx(e,t,r,n){switch(hx(t)){case 1:var s=rN;break;case 4:s=nN;break;default:s=Qp}r=s.bind(null,t,r,e),s=void 0,!_f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ed(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;c!==null;){if(i=Fs(c),i===null)return;if(l=i.tag,l===5||l===6){n=a=i;continue e}c=c.parentNode}}n=n.return}tx(function(){var u=a,d=Gp(r),p=[];e:{var f=Px.get(e);if(f!==void 0){var y=Jp,g=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":y=yN;break;case"focusin":g="focus",y=bd;break;case"focusout":g="blur",y=bd;break;case"beforeblur":case"afterblur":y=bd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wN;break;case kx:case Ex:case Cx:y=cN;break;case Tx:y=_N;break;case"scroll":y=sN;break;case"wheel":y=jN;break;case"copy":case"cut":case"paste":y=dN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_g}var v=(t&4)!==0,w=!v&&e==="scroll",h=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,x;m!==null;){x=m;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,h!==null&&(S=oo(m,h),S!=null&&v.push(ho(m,S,x)))),w)break;m=m.return}0<v.length&&(f=new y(f,g,null,r,d),p.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==wf&&(g=r.relatedTarget||r.fromElement)&&(Fs(g)||g[Fn]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?Fs(g):null,g!==null&&(w=oa(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(v=wg,S="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=_g,S="onPointerLeave",h="onPointerEnter",m="pointer"),w=y==null?f:Na(y),x=g==null?f:Na(g),f=new v(S,m+"leave",y,r,d),f.target=w,f.relatedTarget=x,S=null,Fs(d)===u&&(v=new v(h,m+"enter",g,r,d),v.target=x,v.relatedTarget=w,S=v),w=S,y&&g)t:{for(v=y,h=g,m=0,x=v;x;x=pa(x))m++;for(x=0,S=h;S;S=pa(S))x++;for(;0<m-x;)v=pa(v),m--;for(;0<x-m;)h=pa(h),x--;for(;m--;){if(v===h||h!==null&&v===h.alternate)break t;v=pa(v),h=pa(h)}v=null}else v=null;y!==null&&Ag(p,f,y,v,!1),g!==null&&w!==null&&Ag(p,w,g,v,!0)}}e:{if(f=u?Na(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var b=MN;else if(kg(f))if(wx)b=LN;else{b=AN;var k=$N}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=DN);if(b&&(b=b(e,u))){bx(p,b,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&gf(f,"number",f.value)}switch(k=u?Na(u):window,e){case"focusin":(kg(k)||k.contentEditable==="true")&&(Sa=k,Cf=u,Xi=null);break;case"focusout":Xi=Cf=Sa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Og(p,r,d);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":Og(p,r,d)}var j;if(tm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else wa?yx(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(vx&&r.locale!=="ko"&&(wa||P!=="onCompositionStart"?P==="onCompositionEnd"&&wa&&(j=gx()):(ls=d,Zp="value"in ls?ls.value:ls.textContent,wa=!0)),k=kc(u,P),0<k.length&&(P=new Sg(P,e,null,r,d),p.push({event:P,listeners:k}),j?P.data=j:(j=xx(r),j!==null&&(P.data=j)))),(j=EN?CN(e,r):TN(e,r))&&(u=kc(u,"onBeforeInput"),0<u.length&&(d=new Sg("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=j))}Ox(p,t)})}function ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=oo(e,r),a!=null&&n.unshift(ho(e,a,s)),a=oo(e,t),a!=null&&n.push(ho(e,a,s))),e=e.return}return n}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ag(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,s?(l=oo(r,a),l!=null&&i.unshift(ho(r,l,c))):s||(l=oo(r,a),l!=null&&i.push(ho(r,l,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var YN=/\r\n?/g,HN=/\u0000|\uFFFD/g;function Dg(e){return(typeof e=="string"?e:""+e).replace(YN,`
`).replace(HN,"")}function Ol(e,t,r){if(t=Dg(t),Dg(e)!==t&&r)throw Error(re(425))}function Ec(){}var Pf=null,Of=null;function Mf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,BN=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(e){return Lg.resolve(null).then(e).catch(GN)}:$f;function GN(e){setTimeout(function(){throw e})}function Cd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),uo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);uo(t)}function hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),un="__reactFiber$"+oi,go="__reactProps$"+oi,Fn="__reactContainer$"+oi,Af="__reactEvents$"+oi,qN="__reactListeners$"+oi,KN="__reactHandles$"+oi;function Fs(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rg(e);e!==null;){if(r=e[un])return r;e=Rg(e)}return t}e=r,r=e.parentNode}return null}function Bo(e){return e=e[un]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function hu(e){return e[go]||null}var Df=[],ja=-1;function Es(e){return{current:e}}function Ve(e){0>ja||(e.current=Df[ja],Df[ja]=null,ja--)}function We(e,t){ja++,Df[ja]=e.current,e.current=t}var _s={},At=Es(_s),tr=Es(!1),qs=_s;function Ya(e,t){var r=e.type.contextTypes;if(!r)return _s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rr(e){return e=e.childContextTypes,e!=null}function Cc(){Ve(tr),Ve(At)}function Ig(e,t,r){if(At.current!==_s)throw Error(re(168));We(At,t),We(tr,r)}function $x(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(re(108,$_(e)||"Unknown",s));return Je({},r,n)}function Tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,qs=At.current,We(At,e),We(tr,tr.current),!0}function Fg(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=$x(e,t,qs),n.__reactInternalMemoizedMergedChildContext=e,Ve(tr),Ve(At),We(At,e)):Ve(tr),We(tr,r)}var Cn=null,gu=!1,Td=!1;function Ax(e){Cn===null?Cn=[e]:Cn.push(e)}function XN(e){gu=!0,Ax(e)}function Cs(){if(!Td&&Cn!==null){Td=!0;var e=0,t=De;try{var r=Cn;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cn=null,gu=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),ax(qp,Cs),s}finally{De=t,Td=!1}}return null}var ka=[],Ea=0,Pc=null,Oc=0,kr=[],Er=0,Ks=null,Pn=1,On="";function Ds(e,t){ka[Ea++]=Oc,ka[Ea++]=Pc,Pc=e,Oc=t}function Dx(e,t,r){kr[Er++]=Pn,kr[Er++]=On,kr[Er++]=Ks,Ks=e;var n=Pn;e=On;var s=32-Xr(n)-1;n&=~(1<<s),r+=1;var a=32-Xr(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Pn=1<<32-Xr(t)+s|r<<s|n,On=a+e}else Pn=1<<a|r<<s|n,On=e}function nm(e){e.return!==null&&(Ds(e,1),Dx(e,1,0))}function sm(e){for(;e===Pc;)Pc=ka[--Ea],ka[Ea]=null,Oc=ka[--Ea],ka[Ea]=null;for(;e===Ks;)Ks=kr[--Er],kr[Er]=null,On=kr[--Er],kr[Er]=null,Pn=kr[--Er],kr[Er]=null}var fr=null,dr=null,Xe=!1,qr=null;function Lx(e,t){var r=Or(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ug(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fr=e,dr=hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ks!==null?{id:Pn,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Or(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fr=e,dr=null,!0):!1;default:return!1}}function Lf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rf(e){if(Xe){var t=dr;if(t){var r=t;if(!Ug(e,t)){if(Lf(e))throw Error(re(418));t=hs(r.nextSibling);var n=fr;t&&Ug(e,t)?Lx(n,r):(e.flags=e.flags&-4097|2,Xe=!1,fr=e)}}else{if(Lf(e))throw Error(re(418));e.flags=e.flags&-4097|2,Xe=!1,fr=e}}}function zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fr=e}function Ml(e){if(e!==fr)return!1;if(!Xe)return zg(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mf(e.type,e.memoizedProps)),t&&(t=dr)){if(Lf(e))throw Rx(),Error(re(418));for(;t;)Lx(e,t),t=hs(t.nextSibling)}if(zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=hs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=fr?hs(e.stateNode.nextSibling):null;return!0}function Rx(){for(var e=dr;e;)e=hs(e.nextSibling)}function Ha(){dr=fr=null,Xe=!1}function am(e){qr===null?qr=[e]:qr.push(e)}var QN=Bn.ReactCurrentBatchConfig;function $i(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=s.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function $l(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wg(e){var t=e._init;return t(e._payload)}function Ix(e){function t(h,m){if(e){var x=h.deletions;x===null?(h.deletions=[m],h.flags|=16):x.push(m)}}function r(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function n(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function s(h,m){return h=xs(h,m),h.index=0,h.sibling=null,h}function a(h,m,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<m?(h.flags|=2,m):x):(h.flags|=2,m)):(h.flags|=1048576,m)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,m,x,S){return m===null||m.tag!==6?(m=Ld(x,h.mode,S),m.return=h,m):(m=s(m,x),m.return=h,m)}function l(h,m,x,S){var b=x.type;return b===ba?d(h,m,x.props.children,S,x.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ss&&Wg(b)===m.type)?(S=s(m,x.props),S.ref=$i(h,m,x),S.return=h,S):(S=ac(x.type,x.key,x.props,null,h.mode,S),S.ref=$i(h,m,x),S.return=h,S)}function u(h,m,x,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Rd(x,h.mode,S),m.return=h,m):(m=s(m,x.children||[]),m.return=h,m)}function d(h,m,x,S,b){return m===null||m.tag!==7?(m=Hs(x,h.mode,S,b),m.return=h,m):(m=s(m,x),m.return=h,m)}function p(h,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ld(""+m,h.mode,x),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Sl:return x=ac(m.type,m.key,m.props,null,h.mode,x),x.ref=$i(h,null,m),x.return=h,x;case xa:return m=Rd(m,h.mode,x),m.return=h,m;case ss:var S=m._init;return p(h,S(m._payload),x)}if(Wi(m)||Ci(m))return m=Hs(m,h.mode,x,null),m.return=h,m;$l(h,m)}return null}function f(h,m,x,S){var b=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:c(h,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:return x.key===b?l(h,m,x,S):null;case xa:return x.key===b?u(h,m,x,S):null;case ss:return b=x._init,f(h,m,b(x._payload),S)}if(Wi(x)||Ci(x))return b!==null?null:d(h,m,x,S,null);$l(h,x)}return null}function y(h,m,x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(x)||null,c(m,h,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sl:return h=h.get(S.key===null?x:S.key)||null,l(m,h,S,b);case xa:return h=h.get(S.key===null?x:S.key)||null,u(m,h,S,b);case ss:var k=S._init;return y(h,m,x,k(S._payload),b)}if(Wi(S)||Ci(S))return h=h.get(x)||null,d(m,h,S,b,null);$l(m,S)}return null}function g(h,m,x,S){for(var b=null,k=null,j=m,P=m=0,C=null;j!==null&&P<x.length;P++){j.index>P?(C=j,j=null):C=j.sibling;var L=f(h,j,x[P],S);if(L===null){j===null&&(j=C);break}e&&j&&L.alternate===null&&t(h,j),m=a(L,m,P),k===null?b=L:k.sibling=L,k=L,j=C}if(P===x.length)return r(h,j),Xe&&Ds(h,P),b;if(j===null){for(;P<x.length;P++)j=p(h,x[P],S),j!==null&&(m=a(j,m,P),k===null?b=j:k.sibling=j,k=j);return Xe&&Ds(h,P),b}for(j=n(h,j);P<x.length;P++)C=y(j,h,P,x[P],S),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?P:C.key),m=a(C,m,P),k===null?b=C:k.sibling=C,k=C);return e&&j.forEach(function(U){return t(h,U)}),Xe&&Ds(h,P),b}function v(h,m,x,S){var b=Ci(x);if(typeof b!="function")throw Error(re(150));if(x=b.call(x),x==null)throw Error(re(151));for(var k=b=null,j=m,P=m=0,C=null,L=x.next();j!==null&&!L.done;P++,L=x.next()){j.index>P?(C=j,j=null):C=j.sibling;var U=f(h,j,L.value,S);if(U===null){j===null&&(j=C);break}e&&j&&U.alternate===null&&t(h,j),m=a(U,m,P),k===null?b=U:k.sibling=U,k=U,j=C}if(L.done)return r(h,j),Xe&&Ds(h,P),b;if(j===null){for(;!L.done;P++,L=x.next())L=p(h,L.value,S),L!==null&&(m=a(L,m,P),k===null?b=L:k.sibling=L,k=L);return Xe&&Ds(h,P),b}for(j=n(h,j);!L.done;P++,L=x.next())L=y(j,h,P,L.value,S),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?P:L.key),m=a(L,m,P),k===null?b=L:k.sibling=L,k=L);return e&&j.forEach(function(G){return t(h,G)}),Xe&&Ds(h,P),b}function w(h,m,x,S){if(typeof x=="object"&&x!==null&&x.type===ba&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:e:{for(var b=x.key,k=m;k!==null;){if(k.key===b){if(b=x.type,b===ba){if(k.tag===7){r(h,k.sibling),m=s(k,x.props.children),m.return=h,h=m;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ss&&Wg(b)===k.type){r(h,k.sibling),m=s(k,x.props),m.ref=$i(h,k,x),m.return=h,h=m;break e}r(h,k);break}else t(h,k);k=k.sibling}x.type===ba?(m=Hs(x.props.children,h.mode,S,x.key),m.return=h,h=m):(S=ac(x.type,x.key,x.props,null,h.mode,S),S.ref=$i(h,m,x),S.return=h,h=S)}return i(h);case xa:e:{for(k=x.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(h,m.sibling),m=s(m,x.children||[]),m.return=h,h=m;break e}else{r(h,m);break}else t(h,m);m=m.sibling}m=Rd(x,h.mode,S),m.return=h,h=m}return i(h);case ss:return k=x._init,w(h,m,k(x._payload),S)}if(Wi(x))return g(h,m,x,S);if(Ci(x))return v(h,m,x,S);$l(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(h,m.sibling),m=s(m,x),m.return=h,h=m):(r(h,m),m=Ld(x,h.mode,S),m.return=h,h=m),i(h)):r(h,m)}return w}var Ba=Ix(!0),Fx=Ix(!1),Mc=Es(null),$c=null,Ca=null,im=null;function om(){im=Ca=$c=null}function lm(e){var t=Mc.current;Ve(Mc),e._currentValue=t}function If(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function La(e,t){$c=e,im=Ca=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function $r(e){var t=e._currentValue;if(im!==e)if(e={context:e,memoizedValue:t,next:null},Ca===null){if($c===null)throw Error(re(308));Ca=e,$c.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Us=null;function cm(e){Us===null?Us=[e]:Us.push(e)}function Ux(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,cm(t)):(r.next=s.next,s.next=r),t.interleaved=r,Un(e,n)}function Un(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var as=!1;function um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Un(e,r)}return s=n.interleaved,s===null?(t.next=t,cm(n)):(t.next=s.next,s.next=t),n.interleaved=t,Un(e,r)}function Jl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kp(e,r)}}function Yg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ac(e,t,r,n){var s=e.updateQueue;as=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,i===null?a=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==i&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(a!==null){var p=s.baseState;i=0,d=u=l=null,c=a;do{var f=c.lane,y=c.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,v=c;switch(f=t,y=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){p=g.call(y,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(y,p,f):g,f==null)break e;p=Je({},p,f);break e;case 2:as=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else y={eventTime:y,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=y,l=p):d=d.next=y,i|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Qs|=i,e.lanes=i,e.memoizedState=p}}function Hg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var Vo={},pn=Es(Vo),vo=Es(Vo),yo=Es(Vo);function zs(e){if(e===Vo)throw Error(re(174));return e}function dm(e,t){switch(We(yo,t),We(vo,e),We(pn,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yf(t,e)}Ve(pn),We(pn,t)}function Va(){Ve(pn),Ve(vo),Ve(yo)}function Wx(e){zs(yo.current);var t=zs(pn.current),r=yf(t,e.type);t!==r&&(We(vo,e),We(pn,r))}function fm(e){vo.current===e&&(Ve(pn),Ve(vo))}var Qe=Es(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pd=[];function pm(){for(var e=0;e<Pd.length;e++)Pd[e]._workInProgressVersionPrimary=null;Pd.length=0}var ec=Bn.ReactCurrentDispatcher,Od=Bn.ReactCurrentBatchConfig,Xs=0,Ze=null,pt=null,xt=null,Lc=!1,Qi=!1,xo=0,ZN=0;function Tt(){throw Error(re(321))}function mm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zr(e[r],t[r]))return!1;return!0}function hm(e,t,r,n,s,a){if(Xs=a,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ec.current=e===null||e.memoizedState===null?r2:n2,e=r(n,s),Qi){a=0;do{if(Qi=!1,xo=0,25<=a)throw Error(re(301));a+=1,xt=pt=null,t.updateQueue=null,ec.current=s2,e=r(n,s)}while(Qi)}if(ec.current=Rc,t=pt!==null&&pt.next!==null,Xs=0,xt=pt=Ze=null,Lc=!1,t)throw Error(re(300));return e}function gm(){var e=xo!==0;return xo=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=e:xt=xt.next=e,xt}function Ar(){if(pt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=xt===null?Ze.memoizedState:xt.next;if(t!==null)xt=t,pt=e;else{if(e===null)throw Error(re(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},xt===null?Ze.memoizedState=xt=e:xt=xt.next=e}return xt}function bo(e,t){return typeof t=="function"?t(e):t}function Md(e){var t=Ar(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=pt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var c=i=null,l=null,u=a;do{var d=u.lane;if((Xs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=p,i=n):l=l.next=p,Ze.lanes|=d,Qs|=d}u=u.next}while(u!==null&&u!==a);l===null?i=n:l.next=c,Zr(n,t.memoizedState)||(er=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ze.lanes|=a,Qs|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $d(e){var t=Ar(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Zr(a,t.memoizedState)||(er=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Yx(){}function Hx(e,t){var r=Ze,n=Ar(),s=t(),a=!Zr(n.memoizedState,s);if(a&&(n.memoizedState=s,er=!0),n=n.queue,vm(Gx.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,wo(9,Vx.bind(null,r,n,s,t),void 0,null),bt===null)throw Error(re(349));Xs&30||Bx(r,t,s)}return s}function Bx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vx(e,t,r,n){t.value=r,t.getSnapshot=n,qx(t)&&Kx(e)}function Gx(e,t,r){return r(function(){qx(t)&&Kx(e)})}function qx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zr(e,r)}catch{return!0}}function Kx(e){var t=Un(e,1);t!==null&&Qr(t,e,1,-1)}function Bg(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=t2.bind(null,Ze,e),[t.memoizedState,e]}function wo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xx(){return Ar().memoizedState}function tc(e,t,r,n){var s=ln();Ze.flags|=e,s.memoizedState=wo(1|t,r,void 0,n===void 0?null:n)}function vu(e,t,r,n){var s=Ar();n=n===void 0?null:n;var a=void 0;if(pt!==null){var i=pt.memoizedState;if(a=i.destroy,n!==null&&mm(n,i.deps)){s.memoizedState=wo(t,r,a,n);return}}Ze.flags|=e,s.memoizedState=wo(1|t,r,a,n)}function Vg(e,t){return tc(8390656,8,e,t)}function vm(e,t){return vu(2048,8,e,t)}function Qx(e,t){return vu(4,2,e,t)}function Zx(e,t){return vu(4,4,e,t)}function Jx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eb(e,t,r){return r=r!=null?r.concat([e]):null,vu(4,4,Jx.bind(null,t,e),r)}function ym(){}function tb(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rb(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nb(e,t,r){return Xs&21?(Zr(r,t)||(r=lx(),Ze.lanes|=r,Qs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=r)}function JN(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=Od.transition;Od.transition={};try{e(!1),t()}finally{De=r,Od.transition=n}}function sb(){return Ar().memoizedState}function e2(e,t,r){var n=ys(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ab(e))ib(t,r);else if(r=Ux(e,t,r,n),r!==null){var s=zt();Qr(r,e,n,s),ob(r,t,n)}}function t2(e,t,r){var n=ys(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ab(e))ib(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,r);if(s.hasEagerState=!0,s.eagerState=c,Zr(c,i)){var l=t.interleaved;l===null?(s.next=s,cm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ux(e,t,s,n),r!==null&&(s=zt(),Qr(r,e,n,s),ob(r,t,n))}}function ab(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function ib(e,t){Qi=Lc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ob(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kp(e,r)}}var Rc={readContext:$r,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},r2={readContext:$r,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:$r,useEffect:Vg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,tc(4194308,4,Jx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return tc(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=e2.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Bg,useDebugValue:ym,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Bg(!1),t=e[0];return e=JN.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,s=ln();if(Xe){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),bt===null)throw Error(re(349));Xs&30||Bx(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Vg(Gx.bind(null,n,a,e),[e]),n.flags|=2048,wo(9,Vx.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ln(),t=bt.identifierPrefix;if(Xe){var r=On,n=Pn;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n2={readContext:$r,useCallback:tb,useContext:$r,useEffect:vm,useImperativeHandle:eb,useInsertionEffect:Qx,useLayoutEffect:Zx,useMemo:rb,useReducer:Md,useRef:Xx,useState:function(){return Md(bo)},useDebugValue:ym,useDeferredValue:function(e){var t=Ar();return nb(t,pt.memoizedState,e)},useTransition:function(){var e=Md(bo)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Hx,useId:sb,unstable_isNewReconciler:!1},s2={readContext:$r,useCallback:tb,useContext:$r,useEffect:vm,useImperativeHandle:eb,useInsertionEffect:Qx,useLayoutEffect:Zx,useMemo:rb,useReducer:$d,useRef:Xx,useState:function(){return $d(bo)},useDebugValue:ym,useDeferredValue:function(e){var t=Ar();return pt===null?t.memoizedState=e:nb(t,pt.memoizedState,e)},useTransition:function(){var e=$d(bo)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Hx,useId:sb,unstable_isNewReconciler:!1};function Vr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ff(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yu={isMounted:function(e){return(e=e._reactInternals)?oa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),s=ys(e),a=Dn(n,s);a.payload=t,r!=null&&(a.callback=r),t=gs(e,a,s),t!==null&&(Qr(t,e,s,n),Jl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),s=ys(e),a=Dn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=gs(e,a,s),t!==null&&(Qr(t,e,s,n),Jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=ys(e),s=Dn(r,n);s.tag=2,t!=null&&(s.callback=t),t=gs(e,s,n),t!==null&&(Qr(t,e,n,r),Jl(t,e,n))}};function Gg(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!po(r,n)||!po(s,a):!0}function lb(e,t,r){var n=!1,s=_s,a=t.contextType;return typeof a=="object"&&a!==null?a=$r(a):(s=rr(t)?qs:At.current,n=t.contextTypes,a=(n=n!=null)?Ya(e,s):_s),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function qg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yu.enqueueReplaceState(t,t.state,null)}function Uf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},um(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=$r(a):(a=rr(t)?qs:At.current,s.context=Ya(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ff(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yu.enqueueReplaceState(s,s.state,null),Ac(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ga(e,t){try{var r="",n=t;do r+=M_(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ad(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var a2=typeof WeakMap=="function"?WeakMap:Map;function cb(e,t,r){r=Dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fc||(Fc=!0,Qf=n),zf(e,t)},r}function ub(e,t,r){r=Dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){zf(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){zf(e,t),typeof n!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Kg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new a2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=x2.bind(null,e,t,r),t.then(e,e))}function Xg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dn(-1,1),t.tag=2,gs(r,t,1))),r.lanes|=1),e)}var i2=Bn.ReactCurrentOwner,er=!1;function Ft(e,t,r,n){t.child=e===null?Fx(t,null,r,n):Ba(t,e.child,r,n)}function Zg(e,t,r,n,s){r=r.render;var a=t.ref;return La(t,s),n=hm(e,t,r,n,a,s),r=gm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(Xe&&r&&nm(t),t.flags|=1,Ft(e,t,n,s),t.child)}function Jg(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!km(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,db(e,t,a,n,s)):(e=ac(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:po,r(i,n)&&e.ref===t.ref)return zn(e,t,s)}return t.flags|=1,e=xs(a,n),e.ref=t.ref,e.return=t,t.child=e}function db(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(po(a,n)&&e.ref===t.ref)if(er=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,zn(e,t,s)}return Wf(e,t,r,n,s)}function fb(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Pa,ur),ur|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Pa,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,We(Pa,ur),ur|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,We(Pa,ur),ur|=n;return Ft(e,t,s,r),t.child}function pb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wf(e,t,r,n,s){var a=rr(r)?qs:At.current;return a=Ya(t,a),La(t,s),r=hm(e,t,r,n,a,s),n=gm(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(Xe&&n&&nm(t),t.flags|=1,Ft(e,t,r,s),t.child)}function ev(e,t,r,n,s){if(rr(r)){var a=!0;Tc(t)}else a=!1;if(La(t,s),t.stateNode===null)rc(e,t),lb(t,r,n),Uf(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=rr(r)?qs:At.current,u=Ya(t,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==n||l!==u)&&qg(t,i,n,u),as=!1;var f=t.memoizedState;i.state=f,Ac(t,n,i,s),l=t.memoizedState,c!==n||f!==l||tr.current||as?(typeof d=="function"&&(Ff(t,r,d,n),l=t.memoizedState),(c=as||Gg(t,r,c,n,f,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,zx(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Vr(t.type,c),i.props=u,p=t.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=rr(r)?qs:At.current,l=Ya(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==p||f!==l)&&qg(t,i,n,l),as=!1,f=t.memoizedState,i.state=f,Ac(t,n,i,s);var g=t.memoizedState;c!==p||f!==g||tr.current||as?(typeof y=="function"&&(Ff(t,r,y,n),g=t.memoizedState),(u=as||Gg(t,r,u,n,f,g,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Yf(e,t,r,n,a,s)}function Yf(e,t,r,n,s,a){pb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Fg(t,r,!1),zn(e,t,a);n=t.stateNode,i2.current=t;var c=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ba(t,e.child,null,a),t.child=Ba(t,null,c,a)):Ft(e,t,c,a),t.memoizedState=n.state,s&&Fg(t,r,!0),t.child}function mb(e){var t=e.stateNode;t.pendingContext?Ig(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ig(e,t.context,!1),dm(e,t.containerInfo)}function tv(e,t,r,n,s){return Ha(),am(s),t.flags|=256,Ft(e,t,r,n),t.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Bf(e){return{baseLanes:e,cachePool:null,transitions:null}}function hb(e,t,r){var n=t.pendingProps,s=Qe.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(Qe,s&1),e===null)return Rf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=wu(i,n,0,null),e=Hs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Bf(r),t.memoizedState=Hf,e):xm(t,i));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return o2(e,t,i,n,c,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=xs(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=xs(c,a):(a=Hs(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Bf(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Hf,n}return a=e.child,e=a.sibling,n=xs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xm(e,t){return t=wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,r,n){return n!==null&&am(n),Ba(t,e.child,null,r),e=xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o2(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Ad(Error(re(422))),Al(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=wu({mode:"visible",children:n.children},s,0,null),a=Hs(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ba(t,e.child,null,i),t.child.memoizedState=Bf(i),t.memoizedState=Hf,a);if(!(t.mode&1))return Al(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(re(419)),n=Ad(a,n,void 0),Al(e,t,i,n)}if(c=(i&e.childLanes)!==0,er||c){if(n=bt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Un(e,s),Qr(n,e,s,-1))}return jm(),n=Ad(Error(re(421))),Al(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=b2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,dr=hs(s.nextSibling),fr=t,Xe=!0,qr=null,e!==null&&(kr[Er++]=Pn,kr[Er++]=On,kr[Er++]=Ks,Pn=e.id,On=e.overflow,Ks=t),t=xm(t,n.children),t.flags|=4096,t)}function rv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),If(e.return,t,r)}function Dd(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function gb(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ft(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rv(e,r,t);else if(e.tag===19)rv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Dc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Dd(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Dd(t,!0,r,null,a);break;case"together":Dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=xs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l2(e,t,r){switch(t.tag){case 3:mb(t),Ha();break;case 5:Wx(t);break;case 1:rr(t.type)&&Tc(t);break;case 4:dm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;We(Mc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?hb(e,t,r):(We(Qe,Qe.current&1),e=zn(e,t,r),e!==null?e.sibling:null);We(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,fb(e,t,r)}return zn(e,t,r)}var vb,Vf,yb,xb;vb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vf=function(){};yb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zs(pn.current);var a=null;switch(r){case"input":s=mf(e,s),n=mf(e,n),a=[];break;case"select":s=Je({},s,{value:void 0}),n=Je({},n,{value:void 0}),a=[];break;case"textarea":s=vf(e,s),n=vf(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ec)}xf(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ao.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ao.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ye("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};xb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ai(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function c2(e,t,r){var n=t.pendingProps;switch(sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return rr(t.type)&&Cc(),Pt(t),null;case 3:return n=t.stateNode,Va(),Ve(tr),Ve(At),pm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qr!==null&&(ep(qr),qr=null))),Vf(e,t),Pt(t),null;case 5:fm(t);var s=zs(yo.current);if(r=t.type,e!==null&&t.stateNode!=null)yb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Pt(t),null}if(e=zs(pn.current),Ml(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[un]=t,n[go]=a,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<Hi.length;s++)Ye(Hi[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":dg(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":pg(n,a),Ye("invalid",n)}xf(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ol(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ol(n.textContent,c,e),s=["children",""+c]):ao.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Ye("scroll",n)}switch(r){case"input":_l(n),fg(n,a,!0);break;case"textarea":_l(n),mg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ec)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[un]=t,e[go]=n,vb(e,t,!1,!1),t.stateNode=e;e:{switch(i=bf(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hi.length;s++)Ye(Hi[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":dg(e,n),s=mf(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Je({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":pg(e,n),s=vf(e,n),Ye("invalid",e);break;default:s=n}xf(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var l=c[a];a==="style"?X0(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q0(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&io(e,l):typeof l=="number"&&io(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ao.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ye("scroll",e):l!=null&&Yp(e,a,l,i))}switch(r){case"input":_l(e),fg(e,n,!1);break;case"textarea":_l(e),mg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ss(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ma(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ma(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ec)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)xb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=zs(yo.current),zs(pn.current),Ml(t)){if(n=t.stateNode,r=t.memoizedProps,n[un]=t,(a=n.nodeValue!==r)&&(e=fr,e!==null))switch(e.tag){case 3:Ol(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[un]=t,t.stateNode=n}return Pt(t),null;case 13:if(Ve(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&dr!==null&&t.mode&1&&!(t.flags&128))Rx(),Ha(),t.flags|=98560,a=!1;else if(a=Ml(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[un]=t}else Ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),a=!1}else qr!==null&&(ep(qr),qr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?mt===0&&(mt=3):jm())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Va(),Vf(e,t),e===null&&mo(t.stateNode.containerInfo),Pt(t),null;case 10:return lm(t.type._context),Pt(t),null;case 17:return rr(t.type)&&Cc(),Pt(t),null;case 19:if(Ve(Qe),a=t.memoizedState,a===null)return Pt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ai(a,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Dc(e),i!==null){for(t.flags|=128,Ai(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Qe,Qe.current&1|2),t.child}e=e.sibling}a.tail!==null&&it()>qa&&(t.flags|=128,n=!0,Ai(a,!1),t.lanes=4194304)}else{if(!n)if(e=Dc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ai(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Xe)return Pt(t),null}else 2*it()-a.renderingStartTime>qa&&r!==1073741824&&(t.flags|=128,n=!0,Ai(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,r=Qe.current,We(Qe,n?r&1|2:r&1),t):(Pt(t),null);case 22:case 23:return Nm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ur&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function u2(e,t){switch(sm(t),t.tag){case 1:return rr(t.type)&&Cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Va(),Ve(tr),Ve(At),pm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fm(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return Va(),null;case 10:return lm(t.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Dl=!1,Mt=!1,d2=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ta(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Gf(e,t,r){try{r()}catch(n){et(e,t,n)}}var nv=!1;function f2(e,t){if(Pf=Nc,e=Nx(),rm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,c=-1,l=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var y;p!==r||s!==0&&p.nodeType!==3||(c=i+s),p!==a||n!==0&&p.nodeType!==3||(l=i+n),p.nodeType===3&&(i+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===e)break t;if(f===r&&++u===s&&(c=i),f===a&&++d===n&&(l=i),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Of={focusedElem:e,selectionRange:r},Nc=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vr(t.type,v),w);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return g=nv,nv=!1,g}function Zi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Gf(t,r,a)}s=s.next}while(s!==n)}}function xu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bb(e){var t=e.alternate;t!==null&&(e.alternate=null,bb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[go],delete t[Af],delete t[qN],delete t[KN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wb(e){return e.tag===5||e.tag===3||e.tag===4}function sv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ec));else if(n!==4&&(e=e.child,e!==null))for(Kf(e,t,r),e=e.sibling;e!==null;)Kf(e,t,r),e=e.sibling}function Xf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xf(e,t,r),e=e.sibling;e!==null;)Xf(e,t,r),e=e.sibling}var _t=null,Gr=!1;function rs(e,t,r){for(r=r.child;r!==null;)Sb(e,t,r),r=r.sibling}function Sb(e,t,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(du,r)}catch{}switch(r.tag){case 5:Mt||Ta(r,t);case 6:var n=_t,s=Gr;_t=null,rs(e,t,r),_t=n,Gr=s,_t!==null&&(Gr?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(Gr?(e=_t,r=r.stateNode,e.nodeType===8?Cd(e.parentNode,r):e.nodeType===1&&Cd(e,r),uo(e)):Cd(_t,r.stateNode));break;case 4:n=_t,s=Gr,_t=r.stateNode.containerInfo,Gr=!0,rs(e,t,r),_t=n,Gr=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Gf(r,t,i),s=s.next}while(s!==n)}rs(e,t,r);break;case 1:if(!Mt&&(Ta(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){et(r,t,c)}rs(e,t,r);break;case 21:rs(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,rs(e,t,r),Mt=n):rs(e,t,r);break;default:rs(e,t,r)}}function av(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d2),t.forEach(function(n){var s=w2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Yr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:_t=c.stateNode,Gr=!1;break e;case 3:_t=c.stateNode.containerInfo,Gr=!0;break e;case 4:_t=c.stateNode.containerInfo,Gr=!0;break e}c=c.return}if(_t===null)throw Error(re(160));Sb(a,i,s),_t=null,Gr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_b(t,e),t=t.sibling}function _b(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yr(t,e),on(e),n&4){try{Zi(3,e,e.return),xu(3,e)}catch(v){et(e,e.return,v)}try{Zi(5,e,e.return)}catch(v){et(e,e.return,v)}}break;case 1:Yr(t,e),on(e),n&512&&r!==null&&Ta(r,r.return);break;case 5:if(Yr(t,e),on(e),n&512&&r!==null&&Ta(r,r.return),e.flags&32){var s=e.stateNode;try{io(s,"")}catch(v){et(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&B0(s,a),bf(c,i);var u=bf(c,a);for(i=0;i<l.length;i+=2){var d=l[i],p=l[i+1];d==="style"?X0(s,p):d==="dangerouslySetInnerHTML"?q0(s,p):d==="children"?io(s,p):Yp(s,d,p,u)}switch(c){case"input":hf(s,a);break;case"textarea":V0(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Ma(s,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ma(s,!!a.multiple,a.defaultValue,!0):Ma(s,!!a.multiple,a.multiple?[]:"",!1))}s[go]=a}catch(v){et(e,e.return,v)}}break;case 6:if(Yr(t,e),on(e),n&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){et(e,e.return,v)}}break;case 3:if(Yr(t,e),on(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uo(t.containerInfo)}catch(v){et(e,e.return,v)}break;case 4:Yr(t,e),on(e);break;case 13:Yr(t,e),on(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Sm=it())),n&4&&av(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||d,Yr(t,e),Mt=u):Yr(t,e),on(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(p=de=d;de!==null;){switch(f=de,y=f.child,f.tag){case 0:case 11:case 14:case 15:Zi(4,f,f.return);break;case 1:Ta(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){et(n,r,v)}}break;case 5:Ta(f,f.return);break;case 22:if(f.memoizedState!==null){ov(p);continue}}y!==null?(y.return=f,de=y):ov(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=K0("display",i))}catch(v){et(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){et(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Yr(t,e),on(e),n&4&&av(e);break;case 21:break;default:Yr(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wb(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(io(s,""),n.flags&=-33);var a=sv(e);Xf(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,c=sv(e);Kf(e,c,i);break;default:throw Error(re(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p2(e,t,r){de=e,Nb(e)}function Nb(e,t,r){for(var n=(e.mode&1)!==0;de!==null;){var s=de,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Dl;if(!i){var c=s.alternate,l=c!==null&&c.memoizedState!==null||Mt;c=Dl;var u=Mt;if(Dl=i,(Mt=l)&&!u)for(de=s;de!==null;)i=de,l=i.child,i.tag===22&&i.memoizedState!==null?lv(s):l!==null?(l.return=i,de=l):lv(s);for(;a!==null;)de=a,Nb(a),a=a.sibling;de=s,Dl=c,Mt=u}iv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,de=a):iv(e)}}function iv(e){for(;de!==null;){var t=de;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||xu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Vr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Hg(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hg(t,i,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&uo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Mt||t.flags&512&&qf(t)}catch(f){et(t,t.return,f)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function ov(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function lv(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xu(4,t)}catch(l){et(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){et(t,s,l)}}var a=t.return;try{qf(t)}catch(l){et(t,a,l)}break;case 5:var i=t.return;try{qf(t)}catch(l){et(t,i,l)}}}catch(l){et(t,t.return,l)}if(t===e){de=null;break}var c=t.sibling;if(c!==null){c.return=t.return,de=c;break}de=t.return}}var m2=Math.ceil,Ic=Bn.ReactCurrentDispatcher,bm=Bn.ReactCurrentOwner,Mr=Bn.ReactCurrentBatchConfig,Pe=0,bt=null,lt=null,Nt=0,ur=0,Pa=Es(0),mt=0,So=null,Qs=0,bu=0,wm=0,Ji=null,Jt=null,Sm=0,qa=1/0,kn=null,Fc=!1,Qf=null,vs=null,Ll=!1,cs=null,Uc=0,eo=0,Zf=null,nc=-1,sc=0;function zt(){return Pe&6?it():nc!==-1?nc:nc=it()}function ys(e){return e.mode&1?Pe&2&&Nt!==0?Nt&-Nt:QN.transition!==null?(sc===0&&(sc=lx()),sc):(e=De,e!==0||(e=window.event,e=e===void 0?16:hx(e.type)),e):1}function Qr(e,t,r,n){if(50<eo)throw eo=0,Zf=null,Error(re(185));Yo(e,r,n),(!(Pe&2)||e!==bt)&&(e===bt&&(!(Pe&2)&&(bu|=r),mt===4&&os(e,Nt)),nr(e,n),r===1&&Pe===0&&!(t.mode&1)&&(qa=it()+500,gu&&Cs()))}function nr(e,t){var r=e.callbackNode;Q_(e,t);var n=_c(e,e===bt?Nt:0);if(n===0)r!==null&&vg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vg(r),t===1)e.tag===0?XN(cv.bind(null,e)):Ax(cv.bind(null,e)),VN(function(){!(Pe&6)&&Cs()}),r=null;else{switch(cx(n)){case 1:r=qp;break;case 4:r=ix;break;case 16:r=Sc;break;case 536870912:r=ox;break;default:r=Sc}r=Mb(r,jb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jb(e,t){if(nc=-1,sc=0,Pe&6)throw Error(re(327));var r=e.callbackNode;if(Ra()&&e.callbackNode!==r)return null;var n=_c(e,e===bt?Nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zc(e,n);else{t=n;var s=Pe;Pe|=2;var a=Eb();(bt!==e||Nt!==t)&&(kn=null,qa=it()+500,Ys(e,t));do try{v2();break}catch(c){kb(e,c)}while(!0);om(),Ic.current=a,Pe=s,lt!==null?t=0:(bt=null,Nt=0,t=mt)}if(t!==0){if(t===2&&(s=jf(e),s!==0&&(n=s,t=Jf(e,s))),t===1)throw r=So,Ys(e,0),os(e,n),nr(e,it()),r;if(t===6)os(e,n);else{if(s=e.current.alternate,!(n&30)&&!h2(s)&&(t=zc(e,n),t===2&&(a=jf(e),a!==0&&(n=a,t=Jf(e,a))),t===1))throw r=So,Ys(e,0),os(e,n),nr(e,it()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:Ls(e,Jt,kn);break;case 3:if(os(e,n),(n&130023424)===n&&(t=Sm+500-it(),10<t)){if(_c(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$f(Ls.bind(null,e,Jt,kn),t);break}Ls(e,Jt,kn);break;case 4:if(os(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Xr(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m2(n/1960))-n,10<n){e.timeoutHandle=$f(Ls.bind(null,e,Jt,kn),n);break}Ls(e,Jt,kn);break;case 5:Ls(e,Jt,kn);break;default:throw Error(re(329))}}}return nr(e,it()),e.callbackNode===r?jb.bind(null,e):null}function Jf(e,t){var r=Ji;return e.current.memoizedState.isDehydrated&&(Ys(e,t).flags|=256),e=zc(e,t),e!==2&&(t=Jt,Jt=r,t!==null&&ep(t)),e}function ep(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function h2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Zr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t){for(t&=~wm,t&=~bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xr(t),n=1<<r;e[r]=-1,t&=~n}}function cv(e){if(Pe&6)throw Error(re(327));Ra();var t=_c(e,0);if(!(t&1))return nr(e,it()),null;var r=zc(e,t);if(e.tag!==0&&r===2){var n=jf(e);n!==0&&(t=n,r=Jf(e,n))}if(r===1)throw r=So,Ys(e,0),os(e,t),nr(e,it()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e,Jt,kn),nr(e,it()),null}function _m(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(qa=it()+500,gu&&Cs())}}function Zs(e){cs!==null&&cs.tag===0&&!(Pe&6)&&Ra();var t=Pe;Pe|=1;var r=Mr.transition,n=De;try{if(Mr.transition=null,De=1,e)return e()}finally{De=n,Mr.transition=r,Pe=t,!(Pe&6)&&Cs()}}function Nm(){ur=Pa.current,Ve(Pa)}function Ys(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BN(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(sm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cc();break;case 3:Va(),Ve(tr),Ve(At),pm();break;case 5:fm(n);break;case 4:Va();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:lm(n.type._context);break;case 22:case 23:Nm()}r=r.return}if(bt=e,lt=e=xs(e.current,null),Nt=ur=t,mt=0,So=null,wm=bu=Qs=0,Jt=Ji=null,Us!==null){for(t=0;t<Us.length;t++)if(r=Us[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Us=null}return e}function kb(e,t){do{var r=lt;try{if(om(),ec.current=Rc,Lc){for(var n=Ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lc=!1}if(Xs=0,xt=pt=Ze=null,Qi=!1,xo=0,bm.current=null,r===null||r.return===null){mt=1,So=t,lt=null;break}e:{var a=e,i=r.return,c=r,l=t;if(t=Nt,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Xg(i);if(y!==null){y.flags&=-257,Qg(y,i,c,a,t),y.mode&1&&Kg(a,u,t),t=y,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Kg(a,u,t),jm();break e}l=Error(re(426))}}else if(Xe&&c.mode&1){var w=Xg(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Qg(w,i,c,a,t),am(Ga(l,c));break e}}a=l=Ga(l,c),mt!==4&&(mt=2),Ji===null?Ji=[a]:Ji.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=cb(a,l,t);Yg(a,h);break e;case 1:c=l;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vs===null||!vs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ub(a,c,t);Yg(a,S);break e}}a=a.return}while(a!==null)}Tb(r)}catch(b){t=b,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Eb(){var e=Ic.current;return Ic.current=Rc,e===null?Rc:e}function jm(){(mt===0||mt===3||mt===2)&&(mt=4),bt===null||!(Qs&268435455)&&!(bu&268435455)||os(bt,Nt)}function zc(e,t){var r=Pe;Pe|=2;var n=Eb();(bt!==e||Nt!==t)&&(kn=null,Ys(e,t));do try{g2();break}catch(s){kb(e,s)}while(!0);if(om(),Pe=r,Ic.current=n,lt!==null)throw Error(re(261));return bt=null,Nt=0,mt}function g2(){for(;lt!==null;)Cb(lt)}function v2(){for(;lt!==null&&!W_();)Cb(lt)}function Cb(e){var t=Ob(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?Tb(e):lt=t,bm.current=null}function Tb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=u2(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,lt=null;return}}else if(r=c2(r,t,ur),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);mt===0&&(mt=5)}function Ls(e,t,r){var n=De,s=Mr.transition;try{Mr.transition=null,De=1,y2(e,t,r,n)}finally{Mr.transition=s,De=n}return null}function y2(e,t,r,n){do Ra();while(cs!==null);if(Pe&6)throw Error(re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Z_(e,a),e===bt&&(lt=bt=null,Nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ll||(Ll=!0,Mb(Sc,function(){return Ra(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mr.transition,Mr.transition=null;var i=De;De=1;var c=Pe;Pe|=4,bm.current=null,f2(e,r),_b(r,e),IN(Of),Nc=!!Pf,Of=Pf=null,e.current=r,p2(r),Y_(),Pe=c,De=i,Mr.transition=a}else e.current=r;if(Ll&&(Ll=!1,cs=e,Uc=s),a=e.pendingLanes,a===0&&(vs=null),V_(r.stateNode),nr(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fc)throw Fc=!1,e=Qf,Qf=null,e;return Uc&1&&e.tag!==0&&Ra(),a=e.pendingLanes,a&1?e===Zf?eo++:(eo=0,Zf=e):eo=0,Cs(),null}function Ra(){if(cs!==null){var e=cx(Uc),t=Mr.transition,r=De;try{if(Mr.transition=null,De=16>e?16:e,cs===null)var n=!1;else{if(e=cs,cs=null,Uc=0,Pe&6)throw Error(re(331));var s=Pe;for(Pe|=4,de=e.current;de!==null;){var a=de,i=a.child;if(de.flags&16){var c=a.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:Zi(8,d,a)}var p=d.child;if(p!==null)p.return=d,de=p;else for(;de!==null;){d=de;var f=d.sibling,y=d.return;if(bb(d),d===u){de=null;break}if(f!==null){f.return=y,de=f;break}de=y}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}de=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,de=i;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zi(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,de=h;break e}de=a.return}}var m=e.current;for(de=m;de!==null;){i=de;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,de=x;else e:for(i=m;de!==null;){if(c=de,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:xu(9,c)}}catch(b){et(c,c.return,b)}if(c===i){de=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,de=S;break e}de=c.return}}if(Pe=s,Cs(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(du,e)}catch{}n=!0}return n}finally{De=r,Mr.transition=t}}return!1}function uv(e,t,r){t=Ga(r,t),t=cb(e,t,1),e=gs(e,t,1),t=zt(),e!==null&&(Yo(e,1,t),nr(e,t))}function et(e,t,r){if(e.tag===3)uv(e,e,r);else for(;t!==null;){if(t.tag===3){uv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vs===null||!vs.has(n))){e=Ga(r,e),e=ub(t,e,1),t=gs(t,e,1),e=zt(),t!==null&&(Yo(t,1,e),nr(t,e));break}}t=t.return}}function x2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,bt===e&&(Nt&r)===r&&(mt===4||mt===3&&(Nt&130023424)===Nt&&500>it()-Sm?Ys(e,0):wm|=r),nr(e,t)}function Pb(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var r=zt();e=Un(e,t),e!==null&&(Yo(e,t,r),nr(e,r))}function b2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Pb(e,r)}function w2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Pb(e,r)}var Ob;Ob=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tr.current)er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return er=!1,l2(e,t,r);er=!!(e.flags&131072)}else er=!1,Xe&&t.flags&1048576&&Dx(t,Oc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;rc(e,t),e=t.pendingProps;var s=Ya(t,At.current);La(t,r),s=hm(null,t,n,e,s,r);var a=gm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rr(n)?(a=!0,Tc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,um(t),s.updater=yu,t.stateNode=s,s._reactInternals=t,Uf(t,n,e,r),t=Yf(null,t,n,!0,a,r)):(t.tag=0,Xe&&a&&nm(t),Ft(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(rc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=_2(n),e=Vr(n,e),s){case 0:t=Wf(null,t,n,e,r);break e;case 1:t=ev(null,t,n,e,r);break e;case 11:t=Zg(null,t,n,e,r);break e;case 14:t=Jg(null,t,n,Vr(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Vr(n,s),Wf(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Vr(n,s),ev(e,t,n,s,r);case 3:e:{if(mb(t),e===null)throw Error(re(387));n=t.pendingProps,a=t.memoizedState,s=a.element,zx(e,t),Ac(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ga(Error(re(423)),t),t=tv(e,t,n,r,s);break e}else if(n!==s){s=Ga(Error(re(424)),t),t=tv(e,t,n,r,s);break e}else for(dr=hs(t.stateNode.containerInfo.firstChild),fr=t,Xe=!0,qr=null,r=Fx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ha(),n===s){t=zn(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return Wx(t),e===null&&Rf(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Mf(n,s)?i=null:a!==null&&Mf(n,a)&&(t.flags|=32),pb(e,t),Ft(e,t,i,r),t.child;case 6:return e===null&&Rf(t),null;case 13:return hb(e,t,r);case 4:return dm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ba(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Vr(n,s),Zg(e,t,n,s,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,We(Mc,n._currentValue),n._currentValue=i,a!==null)if(Zr(a.value,i)){if(a.children===s.children&&!tr.current){t=zn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Dn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),If(a.return,r,t),c.lanes|=r;break}l=l.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(re(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),If(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ft(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,La(t,r),s=$r(s),n=n(s),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,s=Vr(n,t.pendingProps),s=Vr(n.type,s),Jg(e,t,n,s,r);case 15:return db(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Vr(n,s),rc(e,t),t.tag=1,rr(n)?(e=!0,Tc(t)):e=!1,La(t,r),lb(t,n,s),Uf(t,n,s,r),Yf(null,t,n,!0,e,r);case 19:return gb(e,t,r);case 22:return fb(e,t,r)}throw Error(re(156,t.tag))};function Mb(e,t){return ax(e,t)}function S2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,r,n){return new S2(e,t,r,n)}function km(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _2(e){if(typeof e=="function")return km(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bp)return 11;if(e===Vp)return 14}return 2}function xs(e,t){var r=e.alternate;return r===null?(r=Or(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ac(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")km(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ba:return Hs(r.children,s,a,t);case Hp:i=8,s|=8;break;case uf:return e=Or(12,r,t,s|2),e.elementType=uf,e.lanes=a,e;case df:return e=Or(13,r,t,s),e.elementType=df,e.lanes=a,e;case ff:return e=Or(19,r,t,s),e.elementType=ff,e.lanes=a,e;case W0:return wu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U0:i=10;break e;case z0:i=9;break e;case Bp:i=11;break e;case Vp:i=14;break e;case ss:i=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=Or(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Hs(e,t,r,n){return e=Or(7,e,n,t),e.lanes=r,e}function wu(e,t,r,n){return e=Or(22,e,n,t),e.elementType=W0,e.lanes=r,e.stateNode={isHidden:!1},e}function Ld(e,t,r){return e=Or(6,e,null,t),e.lanes=r,e}function Rd(e,t,r){return t=Or(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vd(0),this.expirationTimes=vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Em(e,t,r,n,s,a,i,c,l){return e=new N2(e,t,r,c,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Or(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(a),e}function j2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $b(e){if(!e)return _s;e=e._reactInternals;e:{if(oa(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(rr(r))return $x(e,r,t)}return t}function Ab(e,t,r,n,s,a,i,c,l){return e=Em(r,n,!0,e,s,a,i,c,l),e.context=$b(null),r=e.current,n=zt(),s=ys(r),a=Dn(n,s),a.callback=t??null,gs(r,a,s),e.current.lanes=s,Yo(e,s,n),nr(e,n),e}function Su(e,t,r,n){var s=t.current,a=zt(),i=ys(s);return r=$b(r),t.context===null?t.context=r:t.pendingContext=r,t=Dn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gs(s,t,i),e!==null&&(Qr(e,s,i,a),Jl(e,s,i)),i}function Wc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cm(e,t){dv(e,t),(e=e.alternate)&&dv(e,t)}function k2(){return null}var Db=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tm(e){this._internalRoot=e}_u.prototype.render=Tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Su(e,t,null,null)};_u.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zs(function(){Su(null,e,null,null)}),t[Fn]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=fx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<is.length&&t!==0&&t<is[r].priority;r++);is.splice(r,0,e),r===0&&mx(e)}};function Pm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fv(){}function E2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Wc(i);a.call(u)}}var i=Ab(t,n,e,0,null,!1,!1,"",fv);return e._reactRootContainer=i,e[Fn]=i.current,mo(e.nodeType===8?e.parentNode:e),Zs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=Wc(l);c.call(u)}}var l=Em(e,0,!1,null,null,!1,!1,"",fv);return e._reactRootContainer=l,e[Fn]=l.current,mo(e.nodeType===8?e.parentNode:e),Zs(function(){Su(t,l,r,n)}),l}function ju(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var c=s;s=function(){var l=Wc(i);c.call(l)}}Su(t,i,e,s)}else i=E2(r,t,e,s,n);return Wc(i)}ux=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yi(t.pendingLanes);r!==0&&(Kp(t,r|1),nr(t,it()),!(Pe&6)&&(qa=it()+500,Cs()))}break;case 13:Zs(function(){var n=Un(e,1);if(n!==null){var s=zt();Qr(n,e,1,s)}}),Cm(e,1)}};Xp=function(e){if(e.tag===13){var t=Un(e,134217728);if(t!==null){var r=zt();Qr(t,e,134217728,r)}Cm(e,134217728)}};dx=function(e){if(e.tag===13){var t=ys(e),r=Un(e,t);if(r!==null){var n=zt();Qr(r,e,t,n)}Cm(e,t)}};fx=function(){return De};px=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};Sf=function(e,t,r){switch(t){case"input":if(hf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hu(n);if(!s)throw Error(re(90));H0(n),hf(n,s)}}}break;case"textarea":V0(e,r);break;case"select":t=r.value,t!=null&&Ma(e,!!r.multiple,t,!1)}};J0=_m;ex=Zs;var C2={usingClientEntryPoint:!1,Events:[Bo,Na,hu,Q0,Z0,_m]},Di={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T2={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nx(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||k2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{du=Rl.inject(T2),fn=Rl}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;gr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(t))throw Error(re(200));return j2(e,t,null,r)};gr.createRoot=function(e,t){if(!Pm(e))throw Error(re(299));var r=!1,n="",s=Db;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Em(e,1,!1,null,null,r,!1,n,s),e[Fn]=t.current,mo(e.nodeType===8?e.parentNode:e),new Tm(t)};gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=nx(t),e=e===null?null:e.stateNode,e};gr.flushSync=function(e){return Zs(e)};gr.hydrate=function(e,t,r){if(!Nu(t))throw Error(re(200));return ju(null,e,t,!0,r)};gr.hydrateRoot=function(e,t,r){if(!Pm(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Db;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ab(t,null,e,1,r??null,s,!1,a,i),e[Fn]=t.current,mo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _u(t)};gr.render=function(e,t,r){if(!Nu(t))throw Error(re(200));return ju(null,e,t,!1,r)};gr.unmountComponentAtNode=function(e){if(!Nu(e))throw Error(re(40));return e._reactRootContainer?(Zs(function(){ju(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};gr.unstable_batchedUpdates=_m;gr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nu(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return ju(e,t,r,!1,n)};gr.version="18.3.1-next-f1338f8080-20240426";function Lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lb)}catch(e){console.error(e)}}Lb(),L0.exports=gr;var Rb=L0.exports;const Ib=Yt(Rb);var pv=Rb;lf.createRoot=pv.createRoot,lf.hydrateRoot=pv.hydrateRoot;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Fb;function Z(){return Fb.apply(null,arguments)}function P2(e){Fb=e}function Jr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Bs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Om(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Me(e,t))return!1;return!0}function Zt(e){return e===void 0}function Wn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Go(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ub(e,t){var r=[],n,s=e.length;for(n=0;n<s;++n)r.push(t(e[n],n));return r}function us(e,t){for(var r in t)Me(t,r)&&(e[r]=t[r]);return Me(t,"toString")&&(e.toString=t.toString),Me(t,"valueOf")&&(e.valueOf=t.valueOf),e}function yn(e,t,r,n){return cw(e,t,r,n,!0).utc()}function O2(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function be(e){return e._pf==null&&(e._pf=O2()),e._pf}var tp;Array.prototype.some?tp=Array.prototype.some:tp=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Mm(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=be(e),r=tp.call(t.parsedDateParts,function(s){return s!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function ku(e){var t=yn(NaN);return e!=null?us(be(t),e):be(t).userInvalidated=!0,t}var mv=Z.momentProperties=[],Id=!1;function $m(e,t){var r,n,s,a=mv.length;if(Zt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Zt(t._i)||(e._i=t._i),Zt(t._f)||(e._f=t._f),Zt(t._l)||(e._l=t._l),Zt(t._strict)||(e._strict=t._strict),Zt(t._tzm)||(e._tzm=t._tzm),Zt(t._isUTC)||(e._isUTC=t._isUTC),Zt(t._offset)||(e._offset=t._offset),Zt(t._pf)||(e._pf=be(t)),Zt(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=mv[r],s=t[n],Zt(s)||(e[n]=s);return e}function qo(e){$m(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Id===!1&&(Id=!0,Z.updateOffset(this),Id=!1)}function en(e){return e instanceof qo||e!=null&&e._isAMomentObject!=null}function zb(e){Z.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Rr(e,t){var r=!0;return us(function(){if(Z.deprecationHandler!=null&&Z.deprecationHandler(null,e),r){var n=[],s,a,i,c=arguments.length;for(a=0;a<c;a++){if(s="",typeof arguments[a]=="object"){s+=`
[`+a+"] ";for(i in arguments[0])Me(arguments[0],i)&&(s+=i+": "+arguments[0][i]+", ");s=s.slice(0,-2)}else s=arguments[a];n.push(s)}zb(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var hv={};function Wb(e,t){Z.deprecationHandler!=null&&Z.deprecationHandler(e,t),hv[e]||(zb(t),hv[e]=!0)}Z.suppressDeprecationWarnings=!1;Z.deprecationHandler=null;function xn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function M2(e){var t,r;for(r in e)Me(e,r)&&(t=e[r],xn(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function rp(e,t){var r=us({},e),n;for(n in t)Me(t,n)&&(Bs(e[n])&&Bs(t[n])?(r[n]={},us(r[n],e[n]),us(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Me(e,n)&&!Me(t,n)&&Bs(e[n])&&(r[n]=us({},r[n]));return r}function Am(e){e!=null&&this.set(e)}var np;Object.keys?np=Object.keys:np=function(e){var t,r=[];for(t in e)Me(e,t)&&r.push(t);return r};var $2={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function A2(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return xn(n)?n.call(t,r):n}function gn(e,t,r){var n=""+Math.abs(e),s=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var Dm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Il=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fd={},Ia={};function pe(e,t,r,n){var s=n;typeof n=="string"&&(s=function(){return this[n]()}),e&&(Ia[e]=s),t&&(Ia[t[0]]=function(){return gn(s.apply(this,arguments),t[1],t[2])}),r&&(Ia[r]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function D2(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L2(e){var t=e.match(Dm),r,n;for(r=0,n=t.length;r<n;r++)Ia[t[r]]?t[r]=Ia[t[r]]:t[r]=D2(t[r]);return function(s){var a="",i;for(i=0;i<n;i++)a+=xn(t[i])?t[i].call(s,e):t[i];return a}}function ic(e,t){return e.isValid()?(t=Yb(t,e.localeData()),Fd[t]=Fd[t]||L2(t),Fd[t](e)):e.localeData().invalidDate()}function Yb(e,t){var r=5;function n(s){return t.longDateFormat(s)||s}for(Il.lastIndex=0;r>=0&&Il.test(e);)e=e.replace(Il,n),Il.lastIndex=0,r-=1;return e}var R2={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function I2(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Dm).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var F2="Invalid date";function U2(){return this._invalidDate}var z2="%d",W2=/\d{1,2}/;function Y2(e){return this._ordinal.replace("%d",e)}var H2={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function B2(e,t,r,n){var s=this._relativeTime[r];return xn(s)?s(e,t,r,n):s.replace(/%d/i,e)}function V2(e,t){var r=this._relativeTime[e>0?"future":"past"];return xn(r)?r(t):r.replace(/%s/i,t)}var gv={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ir(e){return typeof e=="string"?gv[e]||gv[e.toLowerCase()]:void 0}function Lm(e){var t={},r,n;for(n in e)Me(e,n)&&(r=Ir(n),r&&(t[r]=e[n]));return t}var G2={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function q2(e){var t=[],r;for(r in e)Me(e,r)&&t.push({unit:r,priority:G2[r]});return t.sort(function(n,s){return n.priority-s.priority}),t}var Hb=/\d/,yr=/\d\d/,Bb=/\d{3}/,Rm=/\d{4}/,Eu=/[+-]?\d{6}/,qe=/\d\d?/,Vb=/\d\d\d\d?/,Gb=/\d\d\d\d\d\d?/,Cu=/\d{1,3}/,Im=/\d{1,4}/,Tu=/[+-]?\d{1,6}/,li=/\d+/,Pu=/[+-]?\d+/,K2=/Z|[+-]\d\d:?\d\d/gi,Ou=/Z|[+-]\d\d(?::?\d\d)?/gi,X2=/[+-]?\d+(\.\d{1,3})?/,Ko=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci=/^[1-9]\d?/,Fm=/^([1-9]\d|\d)/,Yc;Yc={};function ue(e,t,r){Yc[e]=xn(t)?t:function(n,s){return n&&r?r:t}}function Q2(e,t){return Me(Yc,e)?Yc[e](t._strict,t._locale):new RegExp(Z2(e))}function Z2(e){return Ln(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,s,a){return r||n||s||a}))}function Ln(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Cr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function je(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Cr(t)),r}var sp={};function Re(e,t){var r,n=t,s;for(typeof e=="string"&&(e=[e]),Wn(t)&&(n=function(a,i){i[t]=je(a)}),s=e.length,r=0;r<s;r++)sp[e[r]]=n}function Xo(e,t){Re(e,function(r,n,s,a){s._w=s._w||{},t(r,s._w,s,a)})}function J2(e,t,r){t!=null&&Me(sp,e)&&sp[e](t,r._a,r,e)}function Mu(e){return e%4===0&&e%100!==0||e%400===0}var $t=0,Mn=1,dn=2,ht=3,Kr=4,$n=5,Ws=6,ej=7,tj=8;pe("Y",0,0,function(){var e=this.year();return e<=9999?gn(e,4):"+"+e});pe(0,["YY",2],0,function(){return this.year()%100});pe(0,["YYYY",4],0,"year");pe(0,["YYYYY",5],0,"year");pe(0,["YYYYYY",6,!0],0,"year");ue("Y",Pu);ue("YY",qe,yr);ue("YYYY",Im,Rm);ue("YYYYY",Tu,Eu);ue("YYYYYY",Tu,Eu);Re(["YYYYY","YYYYYY"],$t);Re("YYYY",function(e,t){t[$t]=e.length===2?Z.parseTwoDigitYear(e):je(e)});Re("YY",function(e,t){t[$t]=Z.parseTwoDigitYear(e)});Re("Y",function(e,t){t[$t]=parseInt(e,10)});function to(e){return Mu(e)?366:365}Z.parseTwoDigitYear=function(e){return je(e)+(je(e)>68?1900:2e3)};var qb=ui("FullYear",!0);function rj(){return Mu(this.year())}function ui(e,t){return function(r){return r!=null?(Kb(this,e,r),Z.updateOffset(this,t),this):_o(this,e)}}function _o(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Kb(e,t,r){var n,s,a,i,c;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(s?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(s?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(s?n.setUTCHours(r):n.setHours(r));case"Date":return void(s?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,i=e.month(),c=e.date(),c=c===29&&i===1&&!Mu(a)?28:c,s?n.setUTCFullYear(a,i,c):n.setFullYear(a,i,c)}}function nj(e){return e=Ir(e),xn(this[e])?this[e]():this}function sj(e,t){if(typeof e=="object"){e=Lm(e);var r=q2(e),n,s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(e=Ir(e),xn(this[e]))return this[e](t);return this}function aj(e,t){return(e%t+t)%t}var at;Array.prototype.indexOf?at=Array.prototype.indexOf:at=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Um(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=aj(t,12);return e+=(t-r)/12,r===1?Mu(e)?29:28:31-r%7%2}pe("M",["MM",2],"Mo",function(){return this.month()+1});pe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});pe("MMMM",0,0,function(e){return this.localeData().months(this,e)});ue("M",qe,ci);ue("MM",qe,yr);ue("MMM",function(e,t){return t.monthsShortRegex(e)});ue("MMMM",function(e,t){return t.monthsRegex(e)});Re(["M","MM"],function(e,t){t[Mn]=je(e)-1});Re(["MMM","MMMM"],function(e,t,r,n){var s=r._locale.monthsParse(e,n,r._strict);s!=null?t[Mn]=s:be(r).invalidMonth=e});var ij="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,oj=Ko,lj=Ko;function cj(e,t){return e?Jr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Qb).test(t)?"format":"standalone"][e.month()]:Jr(this._months)?this._months:this._months.standalone}function uj(e,t){return e?Jr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qb.test(t)?"format":"standalone"][e.month()]:Jr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dj(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=yn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(s=at.call(this._shortMonthsParse,i),s!==-1?s:null):(s=at.call(this._longMonthsParse,i),s!==-1?s:null):t==="MMM"?(s=at.call(this._shortMonthsParse,i),s!==-1?s:(s=at.call(this._longMonthsParse,i),s!==-1?s:null)):(s=at.call(this._longMonthsParse,i),s!==-1?s:(s=at.call(this._shortMonthsParse,i),s!==-1?s:null))}function fj(e,t,r){var n,s,a;if(this._monthsParseExact)return dj.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=yn([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function Zb(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=je(t);else if(t=e.localeData().monthsParse(t),!Wn(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Um(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function Jb(e){return e!=null?(Zb(this,e),Z.updateOffset(this,!0),this):_o(this,"Month")}function pj(){return Um(this.year(),this.month())}function mj(e){return this._monthsParseExact?(Me(this,"_monthsRegex")||ew.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Me(this,"_monthsShortRegex")||(this._monthsShortRegex=oj),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function hj(e){return this._monthsParseExact?(Me(this,"_monthsRegex")||ew.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Me(this,"_monthsRegex")||(this._monthsRegex=lj),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ew(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],s,a,i,c;for(s=0;s<12;s++)a=yn([2e3,s]),i=Ln(this.monthsShort(a,"")),c=Ln(this.months(a,"")),t.push(i),r.push(c),n.push(c),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function gj(e,t,r,n,s,a,i){var c;return e<100&&e>=0?(c=new Date(e+400,t,r,n,s,a,i),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,r,n,s,a,i),c}function No(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Hc(e,t,r){var n=7+t-r,s=(7+No(e,0,n).getUTCDay()-t)%7;return-s+n-1}function tw(e,t,r,n,s){var a=(7+r-n)%7,i=Hc(e,n,s),c=1+7*(t-1)+a+i,l,u;return c<=0?(l=e-1,u=to(l)+c):c>to(e)?(l=e+1,u=c-to(e)):(l=e,u=c),{year:l,dayOfYear:u}}function jo(e,t,r){var n=Hc(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1,a,i;return s<1?(i=e.year()-1,a=s+Rn(i,t,r)):s>Rn(e.year(),t,r)?(a=s-Rn(e.year(),t,r),i=e.year()+1):(i=e.year(),a=s),{week:a,year:i}}function Rn(e,t,r){var n=Hc(e,t,r),s=Hc(e+1,t,r);return(to(e)-n+s)/7}pe("w",["ww",2],"wo","week");pe("W",["WW",2],"Wo","isoWeek");ue("w",qe,ci);ue("ww",qe,yr);ue("W",qe,ci);ue("WW",qe,yr);Xo(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=je(e)});function vj(e){return jo(e,this._week.dow,this._week.doy).week}var yj={dow:0,doy:6};function xj(){return this._week.dow}function bj(){return this._week.doy}function wj(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Sj(e){var t=jo(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}pe("d",0,"do","day");pe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});pe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});pe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});pe("e",0,0,"weekday");pe("E",0,0,"isoWeekday");ue("d",qe);ue("e",qe);ue("E",qe);ue("dd",function(e,t){return t.weekdaysMinRegex(e)});ue("ddd",function(e,t){return t.weekdaysShortRegex(e)});ue("dddd",function(e,t){return t.weekdaysRegex(e)});Xo(["dd","ddd","dddd"],function(e,t,r,n){var s=r._locale.weekdaysParse(e,n,r._strict);s!=null?t.d=s:be(r).invalidWeekday=e});Xo(["d","e","E"],function(e,t,r,n){t[n]=je(e)});function _j(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Nj(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function zm(e,t){return e.slice(t,7).concat(e.slice(0,t))}var jj="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rw="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kj="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ej=Ko,Cj=Ko,Tj=Ko;function Pj(e,t){var r=Jr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?zm(r,this._week.dow):e?r[e.day()]:r}function Oj(e){return e===!0?zm(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Mj(e){return e===!0?zm(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $j(e,t,r){var n,s,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=yn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(s=at.call(this._weekdaysParse,i),s!==-1?s:null):t==="ddd"?(s=at.call(this._shortWeekdaysParse,i),s!==-1?s:null):(s=at.call(this._minWeekdaysParse,i),s!==-1?s:null):t==="dddd"?(s=at.call(this._weekdaysParse,i),s!==-1||(s=at.call(this._shortWeekdaysParse,i),s!==-1)?s:(s=at.call(this._minWeekdaysParse,i),s!==-1?s:null)):t==="ddd"?(s=at.call(this._shortWeekdaysParse,i),s!==-1||(s=at.call(this._weekdaysParse,i),s!==-1)?s:(s=at.call(this._minWeekdaysParse,i),s!==-1?s:null)):(s=at.call(this._minWeekdaysParse,i),s!==-1||(s=at.call(this._weekdaysParse,i),s!==-1)?s:(s=at.call(this._shortWeekdaysParse,i),s!==-1?s:null))}function Aj(e,t,r){var n,s,a;if(this._weekdaysParseExact)return $j.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=yn([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Dj(e){if(!this.isValid())return e!=null?this:NaN;var t=_o(this,"Day");return e!=null?(e=_j(e,this.localeData()),this.add(e-t,"d")):t}function Lj(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Rj(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Nj(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ij(e){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||Wm.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Me(this,"_weekdaysRegex")||(this._weekdaysRegex=Ej),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fj(e){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||Wm.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Me(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Cj),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Uj(e){return this._weekdaysParseExact?(Me(this,"_weekdaysRegex")||Wm.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Me(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tj),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wm(){function e(d,p){return p.length-d.length}var t=[],r=[],n=[],s=[],a,i,c,l,u;for(a=0;a<7;a++)i=yn([2e3,1]).day(a),c=Ln(this.weekdaysMin(i,"")),l=Ln(this.weekdaysShort(i,"")),u=Ln(this.weekdays(i,"")),t.push(c),r.push(l),n.push(u),s.push(c),s.push(l),s.push(u);t.sort(e),r.sort(e),n.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ym(){return this.hours()%12||12}function zj(){return this.hours()||24}pe("H",["HH",2],0,"hour");pe("h",["hh",2],0,Ym);pe("k",["kk",2],0,zj);pe("hmm",0,0,function(){return""+Ym.apply(this)+gn(this.minutes(),2)});pe("hmmss",0,0,function(){return""+Ym.apply(this)+gn(this.minutes(),2)+gn(this.seconds(),2)});pe("Hmm",0,0,function(){return""+this.hours()+gn(this.minutes(),2)});pe("Hmmss",0,0,function(){return""+this.hours()+gn(this.minutes(),2)+gn(this.seconds(),2)});function nw(e,t){pe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}nw("a",!0);nw("A",!1);function sw(e,t){return t._meridiemParse}ue("a",sw);ue("A",sw);ue("H",qe,Fm);ue("h",qe,ci);ue("k",qe,ci);ue("HH",qe,yr);ue("hh",qe,yr);ue("kk",qe,yr);ue("hmm",Vb);ue("hmmss",Gb);ue("Hmm",Vb);ue("Hmmss",Gb);Re(["H","HH"],ht);Re(["k","kk"],function(e,t,r){var n=je(e);t[ht]=n===24?0:n});Re(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Re(["h","hh"],function(e,t,r){t[ht]=je(e),be(r).bigHour=!0});Re("hmm",function(e,t,r){var n=e.length-2;t[ht]=je(e.substr(0,n)),t[Kr]=je(e.substr(n)),be(r).bigHour=!0});Re("hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[ht]=je(e.substr(0,n)),t[Kr]=je(e.substr(n,2)),t[$n]=je(e.substr(s)),be(r).bigHour=!0});Re("Hmm",function(e,t,r){var n=e.length-2;t[ht]=je(e.substr(0,n)),t[Kr]=je(e.substr(n))});Re("Hmmss",function(e,t,r){var n=e.length-4,s=e.length-2;t[ht]=je(e.substr(0,n)),t[Kr]=je(e.substr(n,2)),t[$n]=je(e.substr(s))});function Wj(e){return(e+"").toLowerCase().charAt(0)==="p"}var Yj=/[ap]\.?m?\.?/i,Hj=ui("Hours",!0);function Bj(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var aw={calendar:$2,longDateFormat:R2,invalidDate:F2,ordinal:z2,dayOfMonthOrdinalParse:W2,relativeTime:H2,months:ij,monthsShort:Xb,week:yj,weekdays:jj,weekdaysMin:kj,weekdaysShort:rw,meridiemParse:Yj},Ke={},Li={},ko;function Vj(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function vv(e){return e&&e.toLowerCase().replace("_","-")}function Gj(e){for(var t=0,r,n,s,a;t<e.length;){for(a=vv(e[t]).split("-"),r=a.length,n=vv(e[t+1]),n=n?n.split("-"):null;r>0;){if(s=$u(a.slice(0,r).join("-")),s)return s;if(n&&n.length>=r&&Vj(a,n)>=r-1)break;r--}t++}return ko}function qj(e){return!!(e&&e.match("^[^/\\\\]*$"))}function $u(e){var t=null,r;if(Ke[e]===void 0&&typeof module<"u"&&module&&module.exports&&qj(e))try{t=ko._abbr,r=require,r("./locale/"+e),bs(t)}catch{Ke[e]=null}return Ke[e]}function bs(e,t){var r;return e&&(Zt(t)?r=Vn(e):r=Hm(e,t),r?ko=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ko._abbr}function Hm(e,t){if(t!==null){var r,n=aw;if(t.abbr=e,Ke[e]!=null)Wb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ke[e]._config;else if(t.parentLocale!=null)if(Ke[t.parentLocale]!=null)n=Ke[t.parentLocale]._config;else if(r=$u(t.parentLocale),r!=null)n=r._config;else return Li[t.parentLocale]||(Li[t.parentLocale]=[]),Li[t.parentLocale].push({name:e,config:t}),null;return Ke[e]=new Am(rp(n,t)),Li[e]&&Li[e].forEach(function(s){Hm(s.name,s.config)}),bs(e),Ke[e]}else return delete Ke[e],null}function Kj(e,t){if(t!=null){var r,n,s=aw;Ke[e]!=null&&Ke[e].parentLocale!=null?Ke[e].set(rp(Ke[e]._config,t)):(n=$u(e),n!=null&&(s=n._config),t=rp(s,t),n==null&&(t.abbr=e),r=new Am(t),r.parentLocale=Ke[e],Ke[e]=r),bs(e)}else Ke[e]!=null&&(Ke[e].parentLocale!=null?(Ke[e]=Ke[e].parentLocale,e===bs()&&bs(e)):Ke[e]!=null&&delete Ke[e]);return Ke[e]}function Vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ko;if(!Jr(e)){if(t=$u(e),t)return t;e=[e]}return Gj(e)}function Xj(){return np(Ke)}function Bm(e){var t,r=e._a;return r&&be(e).overflow===-2&&(t=r[Mn]<0||r[Mn]>11?Mn:r[dn]<1||r[dn]>Um(r[$t],r[Mn])?dn:r[ht]<0||r[ht]>24||r[ht]===24&&(r[Kr]!==0||r[$n]!==0||r[Ws]!==0)?ht:r[Kr]<0||r[Kr]>59?Kr:r[$n]<0||r[$n]>59?$n:r[Ws]<0||r[Ws]>999?Ws:-1,be(e)._overflowDayOfYear&&(t<$t||t>dn)&&(t=dn),be(e)._overflowWeeks&&t===-1&&(t=ej),be(e)._overflowWeekday&&t===-1&&(t=tj),be(e).overflow=t),e}var Qj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jj=/Z|[+-]\d\d(?::?\d\d)?/,Fl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ud=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ek=/^\/?Date\((-?\d+)/i,tk=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rk={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iw(e){var t,r,n=e._i,s=Qj.exec(n)||Zj.exec(n),a,i,c,l,u=Fl.length,d=Ud.length;if(s){for(be(e).iso=!0,t=0,r=u;t<r;t++)if(Fl[t][1].exec(s[1])){i=Fl[t][0],a=Fl[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(s[3]){for(t=0,r=d;t<r;t++)if(Ud[t][1].exec(s[3])){c=(s[2]||" ")+Ud[t][0];break}if(c==null){e._isValid=!1;return}}if(!a&&c!=null){e._isValid=!1;return}if(s[4])if(Jj.exec(s[4]))l="Z";else{e._isValid=!1;return}e._f=i+(c||"")+(l||""),Gm(e)}else e._isValid=!1}function nk(e,t,r,n,s,a){var i=[sk(e),Xb.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(s,10)];return a&&i.push(parseInt(a,10)),i}function sk(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ak(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ik(e,t,r){if(e){var n=rw.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(n!==s)return be(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function ok(e,t,r){if(e)return rk[e];if(t)return 0;var n=parseInt(r,10),s=n%100,a=(n-s)/100;return a*60+s}function ow(e){var t=tk.exec(ak(e._i)),r;if(t){if(r=nk(t[4],t[3],t[2],t[5],t[6],t[7]),!ik(t[1],r,e))return;e._a=r,e._tzm=ok(t[8],t[9],t[10]),e._d=No.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),be(e).rfc2822=!0}else e._isValid=!1}function lk(e){var t=ek.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(iw(e),e._isValid===!1)delete e._isValid;else return;if(ow(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Z.createFromInputFallback(e)}Z.createFromInputFallback=Rr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function ga(e,t,r){return e??t??r}function ck(e){var t=new Date(Z.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Vm(e){var t,r,n=[],s,a,i;if(!e._d){for(s=ck(e),e._w&&e._a[dn]==null&&e._a[Mn]==null&&uk(e),e._dayOfYear!=null&&(i=ga(e._a[$t],s[$t]),(e._dayOfYear>to(i)||e._dayOfYear===0)&&(be(e)._overflowDayOfYear=!0),r=No(i,0,e._dayOfYear),e._a[Mn]=r.getUTCMonth(),e._a[dn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=s[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ht]===24&&e._a[Kr]===0&&e._a[$n]===0&&e._a[Ws]===0&&(e._nextDay=!0,e._a[ht]=0),e._d=(e._useUTC?No:gj).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ht]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(be(e).weekdayMismatch=!0)}}function uk(e){var t,r,n,s,a,i,c,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,i=4,r=ga(t.GG,e._a[$t],jo(Ge(),1,4).year),n=ga(t.W,1),s=ga(t.E,1),(s<1||s>7)&&(l=!0)):(a=e._locale._week.dow,i=e._locale._week.doy,u=jo(Ge(),a,i),r=ga(t.gg,e._a[$t],u.year),n=ga(t.w,u.week),t.d!=null?(s=t.d,(s<0||s>6)&&(l=!0)):t.e!=null?(s=t.e+a,(t.e<0||t.e>6)&&(l=!0)):s=a),n<1||n>Rn(r,a,i)?be(e)._overflowWeeks=!0:l!=null?be(e)._overflowWeekday=!0:(c=tw(r,n,s,a,i),e._a[$t]=c.year,e._dayOfYear=c.dayOfYear)}Z.ISO_8601=function(){};Z.RFC_2822=function(){};function Gm(e){if(e._f===Z.ISO_8601){iw(e);return}if(e._f===Z.RFC_2822){ow(e);return}e._a=[],be(e).empty=!0;var t=""+e._i,r,n,s,a,i,c=t.length,l=0,u,d;for(s=Yb(e._f,e._locale).match(Dm)||[],d=s.length,r=0;r<d;r++)a=s[r],n=(t.match(Q2(a,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&be(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),l+=n.length),Ia[a]?(n?be(e).empty=!1:be(e).unusedTokens.push(a),J2(a,n,e)):e._strict&&!n&&be(e).unusedTokens.push(a);be(e).charsLeftOver=c-l,t.length>0&&be(e).unusedInput.push(t),e._a[ht]<=12&&be(e).bigHour===!0&&e._a[ht]>0&&(be(e).bigHour=void 0),be(e).parsedDateParts=e._a.slice(0),be(e).meridiem=e._meridiem,e._a[ht]=dk(e._locale,e._a[ht],e._meridiem),u=be(e).era,u!==null&&(e._a[$t]=e._locale.erasConvertYear(u,e._a[$t])),Vm(e),Bm(e)}function dk(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function fk(e){var t,r,n,s,a,i,c=!1,l=e._f.length;if(l===0){be(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<l;s++)a=0,i=!1,t=$m({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],Gm(t),Mm(t)&&(i=!0),a+=be(t).charsLeftOver,a+=be(t).unusedTokens.length*10,be(t).score=a,c?a<n&&(n=a,r=t):(n==null||a<n||i)&&(n=a,r=t,i&&(c=!0));us(e,r||t)}function pk(e){if(!e._d){var t=Lm(e._i),r=t.day===void 0?t.date:t.day;e._a=Ub([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),Vm(e)}}function mk(e){var t=new qo(Bm(lw(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function lw(e){var t=e._i,r=e._f;return e._locale=e._locale||Vn(e._l),t===null||r===void 0&&t===""?ku({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),en(t)?new qo(Bm(t)):(Go(t)?e._d=t:Jr(r)?fk(e):r?Gm(e):hk(e),Mm(e)||(e._d=null),e))}function hk(e){var t=e._i;Zt(t)?e._d=new Date(Z.now()):Go(t)?e._d=new Date(t.valueOf()):typeof t=="string"?lk(e):Jr(t)?(e._a=Ub(t.slice(0),function(r){return parseInt(r,10)}),Vm(e)):Bs(t)?pk(e):Wn(t)?e._d=new Date(t):Z.createFromInputFallback(e)}function cw(e,t,r,n,s){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Bs(e)&&Om(e)||Jr(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=r,a._i=e,a._f=t,a._strict=n,mk(a)}function Ge(e,t,r,n){return cw(e,t,r,n,!1)}var gk=Rr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ge.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ku()}),vk=Rr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ge.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ku()});function uw(e,t){var r,n;if(t.length===1&&Jr(t[0])&&(t=t[0]),!t.length)return Ge();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function yk(){var e=[].slice.call(arguments,0);return uw("isBefore",e)}function xk(){var e=[].slice.call(arguments,0);return uw("isAfter",e)}var bk=function(){return Date.now?Date.now():+new Date},Ri=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wk(e){var t,r=!1,n,s=Ri.length;for(t in e)if(Me(e,t)&&!(at.call(Ri,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[Ri[n]]){if(r)return!1;parseFloat(e[Ri[n]])!==je(e[Ri[n]])&&(r=!0)}return!0}function Sk(){return this._isValid}function _k(){return rn(NaN)}function Au(e){var t=Lm(e),r=t.year||0,n=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,i=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=wk(t),this._milliseconds=+d+u*1e3+l*6e4+c*1e3*60*60,this._days=+i+a*7,this._months=+s+n*3+r*12,this._data={},this._locale=Vn(),this._bubble()}function oc(e){return e instanceof Au}function ap(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Nk(e,t,r){var n=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0,i;for(i=0;i<n;i++)je(e[i])!==je(t[i])&&a++;return a+s}function dw(e,t){pe(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+gn(~~(r/60),2)+t+gn(~~r%60,2)})}dw("Z",":");dw("ZZ","");ue("Z",Ou);ue("ZZ",Ou);Re(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=qm(Ou,e)});var jk=/([\+\-]|\d\d)/gi;function qm(e,t){var r=(t||"").match(e),n,s,a;return r===null?null:(n=r[r.length-1]||[],s=(n+"").match(jk)||["-",0,0],a=+(s[1]*60)+je(s[2]),a===0?0:s[0]==="+"?a:-a)}function Km(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(en(e)||Go(e)?e.valueOf():Ge(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Z.updateOffset(r,!1),r):Ge(e).local()}function ip(e){return-Math.round(e._d.getTimezoneOffset())}Z.updateOffset=function(){};function kk(e,t,r){var n=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=qm(Ou,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(s=ip(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?mw(this,rn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Z.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ip(this)}function Ek(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ck(e){return this.utcOffset(0,e)}function Tk(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ip(this),"m")),this}function Pk(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=qm(K2,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ok(e){return this.isValid()?(e=e?Ge(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Mk(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $k(){if(!Zt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return $m(e,this),e=lw(e),e._a?(t=e._isUTC?yn(e._a):Ge(e._a),this._isDSTShifted=this.isValid()&&Nk(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ak(){return this.isValid()?!this._isUTC:!1}function Dk(){return this.isValid()?this._isUTC:!1}function fw(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Lk=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Rk=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function rn(e,t){var r=e,n=null,s,a,i;return oc(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Wn(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=Lk.exec(e))?(s=n[1]==="-"?-1:1,r={y:0,d:je(n[dn])*s,h:je(n[ht])*s,m:je(n[Kr])*s,s:je(n[$n])*s,ms:je(ap(n[Ws]*1e3))*s}):(n=Rk.exec(e))?(s=n[1]==="-"?-1:1,r={y:As(n[2],s),M:As(n[3],s),w:As(n[4],s),d:As(n[5],s),h:As(n[6],s),m:As(n[7],s),s:As(n[8],s)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=Ik(Ge(r.from),Ge(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),a=new Au(r),oc(e)&&Me(e,"_locale")&&(a._locale=e._locale),oc(e)&&Me(e,"_isValid")&&(a._isValid=e._isValid),a}rn.fn=Au.prototype;rn.invalid=_k;function As(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function yv(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Ik(e,t){var r;return e.isValid()&&t.isValid()?(t=Km(t,e),e.isBefore(t)?r=yv(e,t):(r=yv(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function pw(e,t){return function(r,n){var s,a;return n!==null&&!isNaN(+n)&&(Wb(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),s=rn(r,n),mw(this,s,e),this}}function mw(e,t,r,n){var s=t._milliseconds,a=ap(t._days),i=ap(t._months);e.isValid()&&(n=n??!0,i&&Zb(e,_o(e,"Month")+i*r),a&&Kb(e,"Date",_o(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),n&&Z.updateOffset(e,a||i))}var Fk=pw(1,"add"),Uk=pw(-1,"subtract");function hw(e){return typeof e=="string"||e instanceof String}function zk(e){return en(e)||Go(e)||hw(e)||Wn(e)||Yk(e)||Wk(e)||e===null||e===void 0}function Wk(e){var t=Bs(e)&&!Om(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,a,i=n.length;for(s=0;s<i;s+=1)a=n[s],r=r||Me(e,a);return t&&r}function Yk(e){var t=Jr(e),r=!1;return t&&(r=e.filter(function(n){return!Wn(n)&&hw(e)}).length===0),t&&r}function Hk(e){var t=Bs(e)&&!Om(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,a;for(s=0;s<n.length;s+=1)a=n[s],r=r||Me(e,a);return t&&r}function Bk(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Vk(e,t){arguments.length===1&&(arguments[0]?zk(arguments[0])?(e=arguments[0],t=void 0):Hk(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Ge(),n=Km(r,this).startOf("day"),s=Z.calendarFormat(this,n)||"sameElse",a=t&&(xn(t[s])?t[s].call(this,r):t[s]);return this.format(a||this.localeData().calendar(s,this,Ge(r)))}function Gk(){return new qo(this)}function qk(e,t){var r=en(e)?e:Ge(e);return this.isValid()&&r.isValid()?(t=Ir(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Kk(e,t){var r=en(e)?e:Ge(e);return this.isValid()&&r.isValid()?(t=Ir(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Xk(e,t,r,n){var s=en(e)?e:Ge(e),a=en(t)?t:Ge(t);return this.isValid()&&s.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(s,r):!this.isBefore(s,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function Qk(e,t){var r=en(e)?e:Ge(e),n;return this.isValid()&&r.isValid()?(t=Ir(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Zk(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Jk(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function eE(e,t,r){var n,s,a;if(!this.isValid())return NaN;if(n=Km(e,this),!n.isValid())return NaN;switch(s=(n.utcOffset()-this.utcOffset())*6e4,t=Ir(t),t){case"year":a=lc(this,n)/12;break;case"month":a=lc(this,n);break;case"quarter":a=lc(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-s)/864e5;break;case"week":a=(this-n-s)/6048e5;break;default:a=this-n}return r?a:Cr(a)}function lc(e,t){if(e.date()<t.date())return-lc(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),s,a;return t-n<0?(s=e.clone().add(r-1,"months"),a=(t-n)/(n-s)):(s=e.clone().add(r+1,"months"),a=(t-n)/(s-n)),-(r+a)||0}Z.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Z.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tE(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rE(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?ic(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ic(r,"Z")):ic(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nE(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,s,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+s+a)}function sE(e){e||(e=this.isUtc()?Z.defaultFormatUtc:Z.defaultFormat);var t=ic(this,e);return this.localeData().postformat(t)}function aE(e,t){return this.isValid()&&(en(e)&&e.isValid()||Ge(e).isValid())?rn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function iE(e){return this.from(Ge(),e)}function oE(e,t){return this.isValid()&&(en(e)&&e.isValid()||Ge(e).isValid())?rn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lE(e){return this.to(Ge(),e)}function gw(e){var t;return e===void 0?this._locale._abbr:(t=Vn(e),t!=null&&(this._locale=t),this)}var vw=Rr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function yw(){return this._locale}var Bc=1e3,Fa=60*Bc,Vc=60*Fa,xw=(365*400+97)*24*Vc;function Ua(e,t){return(e%t+t)%t}function bw(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-xw:new Date(e,t,r).valueOf()}function ww(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-xw:Date.UTC(e,t,r)}function cE(e){var t,r;if(e=Ir(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ww:bw,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ua(t+(this._isUTC?0:this.utcOffset()*Fa),Vc);break;case"minute":t=this._d.valueOf(),t-=Ua(t,Fa);break;case"second":t=this._d.valueOf(),t-=Ua(t,Bc);break}return this._d.setTime(t),Z.updateOffset(this,!0),this}function uE(e){var t,r;if(e=Ir(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?ww:bw,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Vc-Ua(t+(this._isUTC?0:this.utcOffset()*Fa),Vc)-1;break;case"minute":t=this._d.valueOf(),t+=Fa-Ua(t,Fa)-1;break;case"second":t=this._d.valueOf(),t+=Bc-Ua(t,Bc)-1;break}return this._d.setTime(t),Z.updateOffset(this,!0),this}function dE(){return this._d.valueOf()-(this._offset||0)*6e4}function fE(){return Math.floor(this.valueOf()/1e3)}function pE(){return new Date(this.valueOf())}function mE(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function hE(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function gE(){return this.isValid()?this.toISOString():null}function vE(){return Mm(this)}function yE(){return us({},be(this))}function xE(){return be(this).overflow}function bE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}pe("N",0,0,"eraAbbr");pe("NN",0,0,"eraAbbr");pe("NNN",0,0,"eraAbbr");pe("NNNN",0,0,"eraName");pe("NNNNN",0,0,"eraNarrow");pe("y",["y",1],"yo","eraYear");pe("y",["yy",2],0,"eraYear");pe("y",["yyy",3],0,"eraYear");pe("y",["yyyy",4],0,"eraYear");ue("N",Xm);ue("NN",Xm);ue("NNN",Xm);ue("NNNN",OE);ue("NNNNN",ME);Re(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var s=r._locale.erasParse(e,n,r._strict);s?be(r).era=s:be(r).invalidEra=e});ue("y",li);ue("yy",li);ue("yyy",li);ue("yyyy",li);ue("yo",$E);Re(["y","yy","yyy","yyyy"],$t);Re(["yo"],function(e,t,r,n){var s;r._locale._eraYearOrdinalRegex&&(s=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[$t]=r._locale.eraYearOrdinalParse(e,s):t[$t]=parseInt(e,10)});function wE(e,t){var r,n,s,a=this._eras||Vn("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":s=Z(a[r].since).startOf("day"),a[r].since=s.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":s=Z(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf();break}}return a}function SE(e,t,r){var n,s,a=this.eras(),i,c,l;for(e=e.toUpperCase(),n=0,s=a.length;n<s;++n)if(i=a[n].name.toUpperCase(),c=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(c===e)return a[n];break;case"NNNN":if(i===e)return a[n];break;case"NNNNN":if(l===e)return a[n];break}else if([i,c,l].indexOf(e)>=0)return a[n]}function _E(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Z(e.since).year():Z(e.since).year()+(t-e.offset)*r}function NE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function jE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function kE(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function EE(){var e,t,r,n,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(r=s[e].since<=s[e].until?1:-1,n=this.clone().startOf("day").valueOf(),s[e].since<=n&&n<=s[e].until||s[e].until<=n&&n<=s[e].since)return(this.year()-Z(s[e].since).year())*r+s[e].offset;return this.year()}function CE(e){return Me(this,"_erasNameRegex")||Qm.call(this),e?this._erasNameRegex:this._erasRegex}function TE(e){return Me(this,"_erasAbbrRegex")||Qm.call(this),e?this._erasAbbrRegex:this._erasRegex}function PE(e){return Me(this,"_erasNarrowRegex")||Qm.call(this),e?this._erasNarrowRegex:this._erasRegex}function Xm(e,t){return t.erasAbbrRegex(e)}function OE(e,t){return t.erasNameRegex(e)}function ME(e,t){return t.erasNarrowRegex(e)}function $E(e,t){return t._eraYearOrdinalRegex||li}function Qm(){var e=[],t=[],r=[],n=[],s,a,i,c,l,u=this.eras();for(s=0,a=u.length;s<a;++s)i=Ln(u[s].name),c=Ln(u[s].abbr),l=Ln(u[s].narrow),t.push(i),e.push(c),r.push(l),n.push(i),n.push(c),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}pe(0,["gg",2],0,function(){return this.weekYear()%100});pe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Du(e,t){pe(0,[e,e.length],0,t)}Du("gggg","weekYear");Du("ggggg","weekYear");Du("GGGG","isoWeekYear");Du("GGGGG","isoWeekYear");ue("G",Pu);ue("g",Pu);ue("GG",qe,yr);ue("gg",qe,yr);ue("GGGG",Im,Rm);ue("gggg",Im,Rm);ue("GGGGG",Tu,Eu);ue("ggggg",Tu,Eu);Xo(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=je(e)});Xo(["gg","GG"],function(e,t,r,n){t[n]=Z.parseTwoDigitYear(e)});function AE(e){return Sw.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function DE(e){return Sw.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function LE(){return Rn(this.year(),1,4)}function RE(){return Rn(this.isoWeekYear(),1,4)}function IE(){var e=this.localeData()._week;return Rn(this.year(),e.dow,e.doy)}function FE(){var e=this.localeData()._week;return Rn(this.weekYear(),e.dow,e.doy)}function Sw(e,t,r,n,s){var a;return e==null?jo(this,n,s).year:(a=Rn(e,n,s),t>a&&(t=a),UE.call(this,e,t,r,n,s))}function UE(e,t,r,n,s){var a=tw(e,t,r,n,s),i=No(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}pe("Q",0,"Qo","quarter");ue("Q",Hb);Re("Q",function(e,t){t[Mn]=(je(e)-1)*3});function zE(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}pe("D",["DD",2],"Do","date");ue("D",qe,ci);ue("DD",qe,yr);ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Re(["D","DD"],dn);Re("Do",function(e,t){t[dn]=je(e.match(qe)[0])});var _w=ui("Date",!0);pe("DDD",["DDDD",3],"DDDo","dayOfYear");ue("DDD",Cu);ue("DDDD",Bb);Re(["DDD","DDDD"],function(e,t,r){r._dayOfYear=je(e)});function WE(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}pe("m",["mm",2],0,"minute");ue("m",qe,Fm);ue("mm",qe,yr);Re(["m","mm"],Kr);var YE=ui("Minutes",!1);pe("s",["ss",2],0,"second");ue("s",qe,Fm);ue("ss",qe,yr);Re(["s","ss"],$n);var HE=ui("Seconds",!1);pe("S",0,0,function(){return~~(this.millisecond()/100)});pe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});pe(0,["SSS",3],0,"millisecond");pe(0,["SSSS",4],0,function(){return this.millisecond()*10});pe(0,["SSSSS",5],0,function(){return this.millisecond()*100});pe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});pe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});pe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});pe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ue("S",Cu,Hb);ue("SS",Cu,yr);ue("SSS",Cu,Bb);var ds,Nw;for(ds="SSSS";ds.length<=9;ds+="S")ue(ds,li);function BE(e,t){t[Ws]=je(("0."+e)*1e3)}for(ds="S";ds.length<=9;ds+="S")Re(ds,BE);Nw=ui("Milliseconds",!1);pe("z",0,0,"zoneAbbr");pe("zz",0,0,"zoneName");function VE(){return this._isUTC?"UTC":""}function GE(){return this._isUTC?"Coordinated Universal Time":""}var ne=qo.prototype;ne.add=Fk;ne.calendar=Vk;ne.clone=Gk;ne.diff=eE;ne.endOf=uE;ne.format=sE;ne.from=aE;ne.fromNow=iE;ne.to=oE;ne.toNow=lE;ne.get=nj;ne.invalidAt=xE;ne.isAfter=qk;ne.isBefore=Kk;ne.isBetween=Xk;ne.isSame=Qk;ne.isSameOrAfter=Zk;ne.isSameOrBefore=Jk;ne.isValid=vE;ne.lang=vw;ne.locale=gw;ne.localeData=yw;ne.max=vk;ne.min=gk;ne.parsingFlags=yE;ne.set=sj;ne.startOf=cE;ne.subtract=Uk;ne.toArray=mE;ne.toObject=hE;ne.toDate=pE;ne.toISOString=rE;ne.inspect=nE;typeof Symbol<"u"&&Symbol.for!=null&&(ne[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ne.toJSON=gE;ne.toString=tE;ne.unix=fE;ne.valueOf=dE;ne.creationData=bE;ne.eraName=NE;ne.eraNarrow=jE;ne.eraAbbr=kE;ne.eraYear=EE;ne.year=qb;ne.isLeapYear=rj;ne.weekYear=AE;ne.isoWeekYear=DE;ne.quarter=ne.quarters=zE;ne.month=Jb;ne.daysInMonth=pj;ne.week=ne.weeks=wj;ne.isoWeek=ne.isoWeeks=Sj;ne.weeksInYear=IE;ne.weeksInWeekYear=FE;ne.isoWeeksInYear=LE;ne.isoWeeksInISOWeekYear=RE;ne.date=_w;ne.day=ne.days=Dj;ne.weekday=Lj;ne.isoWeekday=Rj;ne.dayOfYear=WE;ne.hour=ne.hours=Hj;ne.minute=ne.minutes=YE;ne.second=ne.seconds=HE;ne.millisecond=ne.milliseconds=Nw;ne.utcOffset=kk;ne.utc=Ck;ne.local=Tk;ne.parseZone=Pk;ne.hasAlignedHourOffset=Ok;ne.isDST=Mk;ne.isLocal=Ak;ne.isUtcOffset=Dk;ne.isUtc=fw;ne.isUTC=fw;ne.zoneAbbr=VE;ne.zoneName=GE;ne.dates=Rr("dates accessor is deprecated. Use date instead.",_w);ne.months=Rr("months accessor is deprecated. Use month instead",Jb);ne.years=Rr("years accessor is deprecated. Use year instead",qb);ne.zone=Rr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ek);ne.isDSTShifted=Rr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$k);function qE(e){return Ge(e*1e3)}function KE(){return Ge.apply(null,arguments).parseZone()}function jw(e){return e}var $e=Am.prototype;$e.calendar=A2;$e.longDateFormat=I2;$e.invalidDate=U2;$e.ordinal=Y2;$e.preparse=jw;$e.postformat=jw;$e.relativeTime=B2;$e.pastFuture=V2;$e.set=M2;$e.eras=wE;$e.erasParse=SE;$e.erasConvertYear=_E;$e.erasAbbrRegex=TE;$e.erasNameRegex=CE;$e.erasNarrowRegex=PE;$e.months=cj;$e.monthsShort=uj;$e.monthsParse=fj;$e.monthsRegex=hj;$e.monthsShortRegex=mj;$e.week=vj;$e.firstDayOfYear=bj;$e.firstDayOfWeek=xj;$e.weekdays=Pj;$e.weekdaysMin=Mj;$e.weekdaysShort=Oj;$e.weekdaysParse=Aj;$e.weekdaysRegex=Ij;$e.weekdaysShortRegex=Fj;$e.weekdaysMinRegex=Uj;$e.isPM=Wj;$e.meridiem=Bj;function Gc(e,t,r,n){var s=Vn(),a=yn().set(n,t);return s[r](a,e)}function kw(e,t,r){if(Wn(e)&&(t=e,e=void 0),e=e||"",t!=null)return Gc(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Gc(e,n,r,"month");return s}function Zm(e,t,r,n){typeof e=="boolean"?(Wn(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Wn(t)&&(r=t,t=void 0),t=t||"");var s=Vn(),a=e?s._week.dow:0,i,c=[];if(r!=null)return Gc(t,(r+a)%7,n,"day");for(i=0;i<7;i++)c[i]=Gc(t,(i+a)%7,n,"day");return c}function XE(e,t){return kw(e,t,"months")}function QE(e,t){return kw(e,t,"monthsShort")}function ZE(e,t,r){return Zm(e,t,r,"weekdays")}function JE(e,t,r){return Zm(e,t,r,"weekdaysShort")}function eC(e,t,r){return Zm(e,t,r,"weekdaysMin")}bs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=je(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Z.lang=Rr("moment.lang is deprecated. Use moment.locale instead.",bs);Z.langData=Rr("moment.langData is deprecated. Use moment.localeData instead.",Vn);var Nn=Math.abs;function tC(){var e=this._data;return this._milliseconds=Nn(this._milliseconds),this._days=Nn(this._days),this._months=Nn(this._months),e.milliseconds=Nn(e.milliseconds),e.seconds=Nn(e.seconds),e.minutes=Nn(e.minutes),e.hours=Nn(e.hours),e.months=Nn(e.months),e.years=Nn(e.years),this}function Ew(e,t,r,n){var s=rn(t,r);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function rC(e,t){return Ew(this,e,t,1)}function nC(e,t){return Ew(this,e,t,-1)}function xv(e){return e<0?Math.floor(e):Math.ceil(e)}function sC(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,s,a,i,c,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=xv(op(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,s=Cr(e/1e3),n.seconds=s%60,a=Cr(s/60),n.minutes=a%60,i=Cr(a/60),n.hours=i%24,t+=Cr(i/24),l=Cr(Cw(t)),r+=l,t-=xv(op(l)),c=Cr(r/12),r%=12,n.days=t,n.months=r,n.years=c,this}function Cw(e){return e*4800/146097}function op(e){return e*146097/4800}function aC(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Ir(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+Cw(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(op(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Gn(e){return function(){return this.as(e)}}var Tw=Gn("ms"),iC=Gn("s"),oC=Gn("m"),lC=Gn("h"),cC=Gn("d"),uC=Gn("w"),dC=Gn("M"),fC=Gn("Q"),pC=Gn("y"),mC=Tw;function hC(){return rn(this)}function gC(e){return e=Ir(e),this.isValid()?this[e+"s"]():NaN}function la(e){return function(){return this.isValid()?this._data[e]:NaN}}var vC=la("milliseconds"),yC=la("seconds"),xC=la("minutes"),bC=la("hours"),wC=la("days"),SC=la("months"),_C=la("years");function NC(){return Cr(this.days()/7)}var En=Math.round,Oa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function jC(e,t,r,n,s){return s.relativeTime(t||1,!!r,e,n)}function kC(e,t,r,n){var s=rn(e).abs(),a=En(s.as("s")),i=En(s.as("m")),c=En(s.as("h")),l=En(s.as("d")),u=En(s.as("M")),d=En(s.as("w")),p=En(s.as("y")),f=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||i<=1&&["m"]||i<r.m&&["mm",i]||c<=1&&["h"]||c<r.h&&["hh",c]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(f=f||d<=1&&["w"]||d<r.w&&["ww",d]),f=f||u<=1&&["M"]||u<r.M&&["MM",u]||p<=1&&["y"]||["yy",p],f[2]=t,f[3]=+e>0,f[4]=n,jC.apply(null,f)}function EC(e){return e===void 0?En:typeof e=="function"?(En=e,!0):!1}function CC(e,t){return Oa[e]===void 0?!1:t===void 0?Oa[e]:(Oa[e]=t,e==="s"&&(Oa.ss=t-1),!0)}function TC(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Oa,s,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Oa,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),s=this.localeData(),a=kC(this,!r,n,s),r&&(a=s.pastFuture(+this,a)),s.postformat(a)}var zd=Math.abs;function ma(e){return(e>0)-(e<0)||+e}function Lu(){if(!this.isValid())return this.localeData().invalidDate();var e=zd(this._milliseconds)/1e3,t=zd(this._days),r=zd(this._months),n,s,a,i,c=this.asSeconds(),l,u,d,p;return c?(n=Cr(e/60),s=Cr(n/60),e%=60,n%=60,a=Cr(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",u=ma(this._months)!==ma(c)?"-":"",d=ma(this._days)!==ma(c)?"-":"",p=ma(this._milliseconds)!==ma(c)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(s||n||e?"T":"")+(s?p+s+"H":"")+(n?p+n+"M":"")+(e?p+i+"S":"")):"P0D"}var Ce=Au.prototype;Ce.isValid=Sk;Ce.abs=tC;Ce.add=rC;Ce.subtract=nC;Ce.as=aC;Ce.asMilliseconds=Tw;Ce.asSeconds=iC;Ce.asMinutes=oC;Ce.asHours=lC;Ce.asDays=cC;Ce.asWeeks=uC;Ce.asMonths=dC;Ce.asQuarters=fC;Ce.asYears=pC;Ce.valueOf=mC;Ce._bubble=sC;Ce.clone=hC;Ce.get=gC;Ce.milliseconds=vC;Ce.seconds=yC;Ce.minutes=xC;Ce.hours=bC;Ce.days=wC;Ce.weeks=NC;Ce.months=SC;Ce.years=_C;Ce.humanize=TC;Ce.toISOString=Lu;Ce.toString=Lu;Ce.toJSON=Lu;Ce.locale=gw;Ce.localeData=yw;Ce.toIsoString=Rr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lu);Ce.lang=vw;pe("X",0,0,"unix");pe("x",0,0,"valueOf");ue("x",Pu);ue("X",X2);Re("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Re("x",function(e,t,r){r._d=new Date(je(e))});//! moment.js
Z.version="2.30.1";P2(Ge);Z.fn=ne;Z.min=yk;Z.max=xk;Z.now=bk;Z.utc=yn;Z.unix=qE;Z.months=XE;Z.isDate=Go;Z.locale=bs;Z.invalid=ku;Z.duration=rn;Z.isMoment=en;Z.weekdays=ZE;Z.parseZone=KE;Z.localeData=Vn;Z.isDuration=oc;Z.monthsShort=QE;Z.weekdaysMin=eC;Z.defineLocale=Hm;Z.updateLocale=Kj;Z.locales=Xj;Z.weekdaysShort=JE;Z.normalizeUnits=Ir;Z.relativeTimeRounding=EC;Z.relativeTimeThreshold=CC;Z.calendarFormat=Bk;Z.prototype=ne;Z.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var PC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:c,...l},u)=>_.createElement("svg",{ref:u,...PC,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${OC(e)}`,...l},[...t.map(([d,p])=>_.createElement(d,p)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${e}`,r};var ye=MC;const Pw=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$C=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),AC=ye("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),DC=ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),LC=ye("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ow=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),RC=ye("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),Ka=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lp=ye("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),IC=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Mw=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),FC=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),UC=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),qc=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),zC=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),WC=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),YC=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),HC=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bv=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xa=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),$w=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Wd=ye("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),BC=ye("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Kc=ye("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),VC=ye("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),GC=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),wv=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Aw=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ws=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),qC=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),KC=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),XC=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),QC=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ZC=ye("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Dw=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Yd=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),JC=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),eT=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),tT=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cp=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xc=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Lw=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jm="access_token",eh="refresh_token",Ul=new Map,Qa=typeof window<"u"&&(window!=null&&window.localStorage)?window.localStorage:{getItem:e=>Ul.has(e)?Ul.get(e):null,setItem:(e,t)=>{Ul.set(e,t)},removeItem:e=>{Ul.delete(e)}},up=async(e,t)=>{e&&Qa.setItem(Jm,e),t&&Qa.setItem(eh,t)},Ru=async()=>Qa.getItem(Jm),rT=async()=>Qa.getItem(eh),ro=async()=>{Qa.removeItem(Jm),Qa.removeItem(eh)},nT={};var Hd={};const sT=()=>{const e=typeof import.meta<"u"&&nT?"https://ttp-api.codemymobile.com/api":"",t=typeof process<"u"&&Hd?Hd.VITE_API_BASE_URL||Hd.VITE_API_URL:"",r=e||t||"";return r?r.endsWith("/")?r.slice(0,-1):r:""},Sv=sT(),aT=e=>{if(!e)throw new Error("A path must be provided when making a service request.");return Sv?`${Sv}${e.startsWith("/")?"":"/"}${e}`:e.startsWith("/")?e:`/${e}`},_v=async e=>{const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}},Nv=e=>{if(!e)return e;const t=String(e).trim();return/^\d{2}:\d{2}$/.test(t)?`${t}:00`:t},iT=(e={})=>{var a,i;const t=e.day||e.dayOfWeek,r=e.date;let n=t?String(t).toUpperCase():"";if(!n&&r){const c=new Date(r);Number.isNaN(c.getTime())||(n=c.toLocaleDateString("en-US",{weekday:"long"}).toUpperCase())}const s={from:Nv(e.from||e.start||e.startTime),to:Nv(e.to||e.end||e.endTime||e.finish),day:n,location_id:e.location_id??e.locationId??((a=e.location)==null?void 0:a.id)??((i=e.location)==null?void 0:i.location_id),court:e.court??e.courtId??e.court_id??null};return Object.keys(s).forEach(c=>{(s[c]===void 0||s[c]==="")&&delete s[c]}),s},mr=async(e,t={})=>{const{headers:r={},body:n,method:s="GET",authType:a="bearer",...i}=t,c=await Ru(),l=typeof FormData<"u"&&n instanceof FormData,u=n&&typeof n=="object"&&!l&&!(n instanceof ArrayBuffer)?JSON.stringify(n):n,d={...u&&!l?{"Content-Type":"application/json"}:{},...r};c&&!("Authorization"in d)&&!("authorization"in d)&&(d.Authorization=a==="token"?`token ${c}`:`Bearer ${c}`);const p=await fetch(aT(e),{method:s,body:u,headers:d,...i});if(!p.ok){const f=await _v(p),y=(f==null?void 0:f.message)||(f==null?void 0:f.error)||p.statusText||"An unknown error occurred while communicating with the server.",g=new Error(y);throw g.status=p.status,g.body=f,g}return p.status===204?null:_v(p)},oT=({perPage:e,page:t,search:r}={})=>{const n=new URLSearchParams;typeof e=="number"&&n.set("perPage",String(e)),typeof t=="number"&&n.set("page",String(t)),r&&n.set("search",r);const s=n.toString(),a=s?`/coach/players?${s}`:"/coach/players";return mr(a)},cc=({perPage:e=50,page:t=1,date:r}={})=>{if(r)return mr(`/coach/lessons/${r}`);const n=new URLSearchParams;typeof e=="number"&&n.set("perPage",String(e)),typeof t=="number"&&n.set("page",String(t));const s=n.toString(),a=s?`/coach/lessons?${s}`:"/coach/lessons";return mr(a)},lT=({playerId:e,perPage:t,page:r}={})=>{if(!e)throw new Error("A player id is required to fetch previous lessons.");const n=new URLSearchParams;typeof t=="number"&&n.set("perPage",String(t)),typeof r=="number"&&n.set("page",String(r));const s=n.toString(),a=s?`/coach/player_previous_lessons/${e}?${s}`:`/coach/player_previous_lessons/${e}`;return mr(a)},cT=({playerId:e,player_id:t,search:r,perPage:n,page:s}={})=>{const a=new URLSearchParams,i=e??t;i!=null&&i!==""&&a.set("playerId",String(i)),r&&a.set("search",r),typeof n=="number"&&a.set("perPage",String(n)),typeof s=="number"&&a.set("page",String(s));const c=a.toString(),l=c?`/players/packages/active?${c}`:"/players/packages/active";return mr(l)},dp=({playerId:e,status:t="PENDING",discountPercentage:r}={})=>{if(!e)throw new Error("A player id is required to update roster status.");const n={status:t};return typeof r=="number"&&(n.discount_percentage=r),mr(`/coach/players/${e}`,{method:"PATCH",body:n})},uT=(e,t)=>{if(!e)throw new Error("A lesson id is required to update a lesson.");return mr(`/coach/lessons/${e}`,{method:"PUT",body:t})},dT=()=>mr("/coach/schedule"),fT=e=>mr("/coach/schedule",{method:"POST",body:iT(e)}),pT=()=>mr("/coach/stats"),mT=({timeMin:e,timeMax:t}={})=>{const r=new URLSearchParams;e&&r.set("timeMin",e),t&&r.set("timeMax",t);const n=r.toString(),s=n?`/coach/google-calendar/synced-events?${n}`:"/coach/google-calendar/synced-events";return mr(s)},hT=(e,t={})=>{if(!e)throw new Error("A lesson id is required to send invites.");return mr(`/coach/lessons/${e}/invites`,{method:"POST",authType:"token",body:t})},gT=(e,t={})=>{if(!e)throw new Error("A lesson id is required to create a share link.");return mr(`/coach/lessons/${e}/share-link`,{method:"POST",authType:"token",body:t})},vT=({stats:e})=>o.jsxs("div",{className:"border-b bg-white stats-summary",children:[o.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 stats-summary-desktop",children:o.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-4",children:[o.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:o.jsx(Ka,{className:"h-4 w-4 text-blue-600 md:h-5 md:w-5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Today"}),o.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.todayLessons})]})]}),o.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:o.jsx(qc,{className:"h-4 w-4 text-green-600 md:h-5 md:w-5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"}),o.jsxs("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:["$",e.weekRevenue]})]})]}),o.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:o.jsx(Xc,{className:"h-4 w-4 text-purple-600 md:h-5 md:w-5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Students"}),o.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.activeStudents})]})]}),o.jsxs("div",{className:"flex items-center rounded-lg bg-gray-50 p-3",children:[o.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:o.jsx(JC,{className:"h-4 w-4 text-orange-600 md:h-5 md:w-5"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Upcoming"}),o.jsx("p",{className:"text-base font-semibold text-gray-900 md:text-lg",children:e.upcomingLessons})]})]})]})}),o.jsx("div",{className:"stats-summary-mobile",children:o.jsxs("div",{className:"stats-summary-mobile-row",children:[o.jsxs("div",{className:"stats-summary-mobile-item",children:[o.jsx("span",{className:"stats-summary-mobile-value",children:e.todayLessons}),o.jsx("span",{className:"stats-summary-mobile-label",children:"Today"})]}),o.jsx("div",{className:"stats-summary-mobile-divider"}),o.jsxs("div",{className:"stats-summary-mobile-item",children:[o.jsxs("span",{className:"stats-summary-mobile-value",children:["$",e.weekRevenue]}),o.jsx("span",{className:"stats-summary-mobile-label",children:"This Week"})]}),o.jsx("div",{className:"stats-summary-mobile-divider"}),o.jsxs("div",{className:"stats-summary-mobile-item",children:[o.jsx("span",{className:"stats-summary-mobile-value",children:e.activeStudents}),o.jsx("span",{className:"stats-summary-mobile-label",children:"Students"})]}),o.jsx("div",{className:"stats-summary-mobile-divider"}),o.jsxs("div",{className:"stats-summary-mobile-item",children:[o.jsx("span",{className:"stats-summary-mobile-value",children:e.upcomingLessons}),o.jsx("span",{className:"stats-summary-mobile-label",children:"Upcoming"})]})]})})]});function Yn(e){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}function yT(e,t){if(Yn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rw(e){var t=yT(e,"string");return Yn(t)=="symbol"?t:t+""}function Is(e,t,r){return(t=Rw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(r),!0).forEach(function(n){Is(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vn(e,t){if(e==null)return{};var r,n,s=Iu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rw(n.key),n)}}function vt(e,t,r){return t&&kv(e.prototype,t),r&&kv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qc(e){return Qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qc(e)}function Iw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iw=function(){return!!e})()}function xT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bT(e,t){if(t&&(Yn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xT(e)}function Dt(e,t,r){return t=Qc(t),bT(e,Iw()?Reflect.construct(t,r||[],Qc(e).constructor):t.apply(e,r))}function Zc(e,t){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zc(e,t)}function Lt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zc(e,t)}function Fw(e){if(Array.isArray(e))return e}function wT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function th(e,t){if(e){if(typeof e=="string")return fp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fp(e,t):void 0}}function Uw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tr(e,t){return Fw(e)||wT(e,t)||th(e,t)||Uw()}function zw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=zw(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function rt(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=zw(e))&&(n&&(n+=" "),n+=t);return n}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(null,arguments)}var ST=function(e,t,r,n,s,a,i,c){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},_T=ST;const Eo=Yt(_T);var NT=function(){};function jT(e,t){var r={};return Object.keys(e).forEach(function(n){r[uc(n)]=NT}),r}function Ev(e,t){return e[t]!==void 0}function uc(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kT(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function ET(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zc(e,t)}function Ww(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Yw(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function Hw(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Ww.__suppressDeprecationWarning=!0;Yw.__suppressDeprecationWarning=!0;Hw.__suppressDeprecationWarning=!0;function CT(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Ww,t.componentWillReceiveProps=Yw),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Hw;var c=t.componentDidUpdate;t.componentDidUpdate=function(u,d,p){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;c.call(this,u,d,f)}}return e}var TT="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Bw(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=kT(e),a=Object.keys(t),i=a.map(uc);s||!r.length||Eo(!1);var c=function(u){ET(d,u);function d(){for(var f,y=arguments.length,g=new Array(y),v=0;v<y;v++)g[v]=arguments[v];f=u.call.apply(u,[this].concat(g))||this,f.handlers=Object.create(null),a.forEach(function(h){var m=t[h],x=function(b){if(f.props[m]){var k;f._notifying=!0;for(var j=arguments.length,P=new Array(j>1?j-1:0),C=1;C<j;C++)P[C-1]=arguments[C];(k=f.props)[m].apply(k,[b].concat(P)),f._notifying=!1}f.unmounted||f.setState(function(L){var U,G=L.values;return{values:tt(Object.create(null),G,(U={},U[h]=b,U))}})};f.handlers[m]=x}),r.length&&(f.attachRef=function(h){f.inner=h});var w=Object.create(null);return a.forEach(function(h){w[h]=f.props[uc(h)]}),f.state={values:w,prevProps:{}},f}var p=d.prototype;return p.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(y,g){var v=g.values,w=g.prevProps,h={values:tt(Object.create(null),v),prevProps:{}};return a.forEach(function(m){h.prevProps[m]=y[m],!Ev(y,m)&&Ev(w,m)&&(h.values[m]=y[uc(m)])}),h},p.componentWillUnmount=function(){this.unmounted=!0},p.render=function(){var y=this,g=this.props,v=g.innerRef,w=Iu(g,["innerRef"]);i.forEach(function(m){delete w[m]});var h={};return a.forEach(function(m){var x=y.props[m];h[m]=x!==void 0?x:y.state.values[m]}),D.createElement(e,tt({},w,h,this.handlers,{ref:v||this.attachRef}))},d}(D.Component);CT(c),c.displayName="Uncontrolled("+n+")",c.propTypes=tt({innerRef:function(){}},jT(t)),r.forEach(function(u){c.prototype[u]=function(){var p;return(p=this.inner)[u].apply(p,arguments)}});var l=c;return D.forwardRef&&(l=D.forwardRef(function(u,d){return D.createElement(c,tt({},u,{innerRef:d,__source:{fileName:TT,lineNumber:128},__self:this}))}),l.propTypes=c.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,p){return d===void 0&&(d={}),Bw(u,tt({},t,d),p)},l}var Vw={exports:{}},PT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OT=PT,MT=OT;function Gw(){}function qw(){}qw.resetWarningCache=Gw;var $T=function(){function e(n,s,a,i,c,l){if(l!==MT){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qw,resetWarningCache:Gw};return r.PropTypes=r,r};Vw.exports=$T();var Kw=Vw.exports;const ae=Yt(Kw);var Jc="milliseconds",Co="seconds",To="minutes",Po="hours",Js="day",Za="week",Oo="month",ea="year",ta="decade",ra="century",Xw={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},AT={month:1,year:12,decade:10*12,century:100*12};function DT(e){return[31,LT(e),31,30,31,30,31,31,30,31,30,31]}function LT(e){return e%4===0&&e%100!==0||e%400===0?29:28}function tn(e,t,r){switch(e=new Date(e),r){case Jc:case Co:case To:case Po:case Js:case Za:return RT(e,t*Xw[r]);case Oo:case ea:case ta:case ra:return IT(e,t*AT[r])}throw new TypeError('Invalid units: "'+r+'"')}function RT(e,t){var r=new Date(+e+t);return FT(e,r)}function IT(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,i=Math.trunc(a/12),c=a%12,l=Math.min(s,DT(i)[c]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(c),u.setDate(l),u}function FT(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*Xw.minutes)}function Mo(e,t,r){return tn(e,-t,r)}function kt(e,t,r){switch(e=new Date(e),t){case ra:case ta:case ea:e=tu(e,0);case Oo:e=t1(e,1);case Za:case Js:e=Do(e,0);case Po:e=Ja(e,0);case To:e=Ao(e,0);case Co:e=$o(e,0)}return t===ta&&(e=Mo(e,na(e)%10,"year")),t===ra&&(e=Mo(e,na(e)%100,"year")),t===Za&&(e=r1(e,0,r)),e}function eu(e,t,r){switch(e=new Date(e),e=kt(e,t,r),t){case ra:case ta:case ea:case Oo:case Za:e=tn(e,1,t),e=Mo(e,1,Js),e.setHours(23,59,59,999);break;case Js:e.setHours(23,59,59,999);break;case Po:case To:case Co:e=tn(e,1,t),e=Mo(e,1,Jc)}return e}var Qo=fi(function(e,t){return e===t}),rh=fi(function(e,t){return e!==t}),Fu=fi(function(e,t){return e>t}),Zo=fi(function(e,t){return e>=t}),nh=fi(function(e,t){return e<t}),di=fi(function(e,t){return e<=t});function Qw(){return new Date(Math.min.apply(Math,arguments))}function Zw(){return new Date(Math.max.apply(Math,arguments))}function Jw(e,t,r,n){return n=n||"day",(!t||Zo(e,t,n))&&(!r||di(e,r,n))}var $o=Ts("Milliseconds"),Ao=Ts("Seconds"),Ja=Ts("Minutes"),Do=Ts("Hours"),e1=Ts("Day"),t1=Ts("Date"),tu=Ts("Month"),na=Ts("FullYear");function UT(e,t){return t===void 0?na(kt(e,ta)):tn(e,t+10,ea)}function zT(e,t){return t===void 0?na(kt(e,ra)):tn(e,t+100,ea)}function r1(e,t,r){var n=(e1(e)+7-(r||0))%7;return t===void 0?n:tn(e,t-n,Js)}function WT(e,t,r,n){var s,a,i;switch(r){case Jc:case Co:case To:case Po:case Js:case Za:s=t.getTime()-e.getTime();break;case Oo:case ea:case ta:case ra:s=(na(t)-na(e))*12+tu(t)-tu(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Jc:a=1;break;case Co:a=1e3;break;case To:a=1e3*60;break;case Po:a=1e3*60*60;break;case Js:a=1e3*60*60*24;break;case Za:a=1e3*60*60*24*7;break;case Oo:a=1;break;case ea:a=12;break;case ta:a=120;break;case ra:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)}function Ts(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function fi(e){return function(t,r,n){return e(+kt(t,n),+kt(r,n))}}const Cv=Object.freeze(Object.defineProperty({__proto__:null,add:tn,century:zT,date:t1,day:e1,decade:UT,diff:WT,endOf:eu,eq:Qo,gt:Fu,gte:Zo,hours:Do,inRange:Jw,lt:nh,lte:di,max:Zw,milliseconds:$o,min:Qw,minutes:Ja,month:tu,neq:rh,seconds:Ao,startOf:kt,subtract:Mo,weekday:r1,year:na},Symbol.toStringTag,{value:"Module"}));function YT(e){if(Array.isArray(e))return fp(e)}function n1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(e){return YT(e)||n1(e)||th(e)||HT()}function BT(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var s1=BT;function VT(e,t){return e===t||e!==e&&t!==t}var Jo=VT,GT=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,a1=GT,qT=a1,KT=typeof self=="object"&&self&&self.Object===Object&&self,XT=qT||KT||Function("return this")(),bn=XT,QT=bn,ZT=QT.Symbol,pi=ZT,Tv=pi,i1=Object.prototype,JT=i1.hasOwnProperty,eP=i1.toString,Ii=Tv?Tv.toStringTag:void 0;function tP(e){var t=JT.call(e,Ii),r=e[Ii];try{e[Ii]=void 0;var n=!0}catch{}var s=eP.call(e);return n&&(t?e[Ii]=r:delete e[Ii]),s}var rP=tP,nP=Object.prototype,sP=nP.toString;function aP(e){return sP.call(e)}var iP=aP,Pv=pi,oP=rP,lP=iP,cP="[object Null]",uP="[object Undefined]",Ov=Pv?Pv.toStringTag:void 0;function dP(e){return e==null?e===void 0?uP:cP:Ov&&Ov in Object(e)?oP(e):lP(e)}var mi=dP;function fP(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qn=fP,pP=mi,mP=qn,hP="[object AsyncFunction]",gP="[object Function]",vP="[object GeneratorFunction]",yP="[object Proxy]";function xP(e){if(!mP(e))return!1;var t=pP(e);return t==gP||t==vP||t==hP||t==yP}var sh=xP,bP=9007199254740991;function wP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bP}var ah=wP,SP=sh,_P=ah;function NP(e){return e!=null&&_P(e.length)&&!SP(e)}var el=NP,jP=9007199254740991,kP=/^(?:0|[1-9]\d*)$/;function EP(e,t){var r=typeof e;return t=t??jP,!!t&&(r=="number"||r!="symbol"&&kP.test(e))&&e>-1&&e%1==0&&e<t}var ih=EP,CP=Jo,TP=el,PP=ih,OP=qn;function MP(e,t,r){if(!OP(r))return!1;var n=typeof t;return(n=="number"?TP(r)&&PP(t,r.length):n=="string"&&t in r)?CP(r[t],e):!1}var Uu=MP,$P=/\s/;function AP(e){for(var t=e.length;t--&&$P.test(e.charAt(t)););return t}var DP=AP,LP=DP,RP=/^\s+/;function IP(e){return e&&e.slice(0,LP(e)+1).replace(RP,"")}var FP=IP;function UP(e){return e!=null&&typeof e=="object"}var Ps=UP,zP=mi,WP=Ps,YP="[object Symbol]";function HP(e){return typeof e=="symbol"||WP(e)&&zP(e)==YP}var tl=HP,BP=FP,Mv=qn,VP=tl,$v=NaN,GP=/^[-+]0x[0-9a-f]+$/i,qP=/^0b[01]+$/i,KP=/^0o[0-7]+$/i,XP=parseInt;function QP(e){if(typeof e=="number")return e;if(VP(e))return $v;if(Mv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=BP(e);var r=qP.test(e);return r||KP.test(e)?XP(e.slice(2),r?2:8):GP.test(e)?$v:+e}var ZP=QP,JP=ZP,Av=1/0,eO=17976931348623157e292;function tO(e){if(!e)return e===0?e:0;if(e=JP(e),e===Av||e===-Av){var t=e<0?-1:1;return t*eO}return e===e?e:0}var o1=tO,rO=o1;function nO(e){var t=rO(e),r=t%1;return t===t?r?t-r:t:0}var l1=nO,sO=s1,aO=Uu,iO=l1,oO=Math.ceil,lO=Math.max;function cO(e,t,r){(r?aO(e,t,r):t===void 0)?t=1:t=lO(iO(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(oO(n/t));s<n;)i[a++]=sO(e,s,s+=t);return i}var uO=cO;const dO=Yt(uO);function rl(e){return e&&e.ownerDocument||document}function fO(e){var t=rl(e);return t&&t.defaultView||window}function pO(e,t){return fO(e).getComputedStyle(e,t)}var mO=/([A-Z])/g;function hO(e){return e.replace(mO,"-$1").toLowerCase()}var gO=/^ms-/;function zl(e){return hO(e).replace(gO,"-ms-")}var vO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function yO(e){return!!(e&&vO.test(e))}function va(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(zl(t))||pO(e).getPropertyValue(zl(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(zl(s)):yO(s)?n+=s+"("+a+") ":r+=zl(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Lo(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function xO(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function oh(e){return"window"in e&&e.window===e?e:xO(e)&&e.defaultView||!1}function c1(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=oh(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const u1=c1("pageXOffset"),d1=c1("pageYOffset");function Vs(e){var t=rl(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Lo(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+d1(n)-(n.clientTop||0),left:r.left+u1(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var bO=function(t){return!!t&&"offsetParent"in t};function wO(e){for(var t=rl(e),r=e&&e.offsetParent;bO(r)&&r.nodeName!=="HTML"&&va(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var SO=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function f1(e,t){var r={top:0,left:0},n;if(va(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||wO(e);n=Vs(e),SO(s)!=="html"&&(r=Vs(s));var a=String(va(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-d1(s)||0;var i=String(va(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-u1(s)||0}var c=String(va(e,"marginTop")||0),l=String(va(e,"marginLeft")||0);return tt({},n,{top:n.top-r.top-(parseInt(c,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const lh=!!(typeof window<"u"&&window.document&&window.document.createElement);var Dv=new Date().getTime();function _O(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Dv)),n=setTimeout(e,r);return Dv=t,n}var NO=["","webkit","moz","o","ms"],pp="clearTimeout",mp=_O,Lv=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};lh&&NO.some(function(e){var t=Lv(e,"request");return t in window&&(pp=Lv(e,"cancel"),mp=function(n){return window[t](n)}),!!mp});var Rv=function(t){typeof window[pp]=="function"&&window[pp](t)},p1=mp,Bd;function jO(e,t){if(!Bd){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Bd=function(a,i){return n.call(a,i)}}return Bd(e,t)}var kO=Function.prototype.bind.call(Function.prototype.call,[].slice);function EO(e,t){return kO(e.querySelectorAll(t))}var hp=!1,gp=!1;try{var Vd={get passive(){return hp=!0},get once(){return gp=hp=!0}};lh&&(window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,!0))}catch{}function CO(e,t,r,n){if(n&&typeof n!="boolean"&&!gp){var s=n.once,a=n.capture,i=r;!gp&&s&&(i=r.__once||function c(l){this.removeEventListener(t,c,a),r.call(this,l)},r.__once=i),e.addEventListener(t,i,hp?n:a)}e.addEventListener(t,r,n)}function TO(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t}function Iv(e){const t=TO(e);return _.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Fv(){return _.useState(null)}function PO(){const e=_.useRef(!0),t=_.useRef(()=>e.current);return _.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function OO(e){const t=PO();return[e[0],_.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var sr="top",Dr="bottom",Lr="right",ar="left",ch="auto",nl=[sr,Dr,Lr,ar],ei="start",Ro="end",MO="clippingParents",m1="viewport",Fi="popper",$O="reference",Uv=nl.reduce(function(e,t){return e.concat([t+"-"+ei,t+"-"+Ro])},[]),uh=[].concat(nl,[ch]).reduce(function(e,t){return e.concat([t,t+"-"+ei,t+"-"+Ro])},[]),AO="beforeRead",DO="read",LO="afterRead",RO="beforeMain",IO="main",FO="afterMain",UO="beforeWrite",zO="write",WO="afterWrite",YO=[AO,DO,LO,RO,IO,FO,UO,zO,WO];function mn(e){return e.split("-")[0]}function hr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function sa(e){var t=hr(e).Element;return e instanceof t||e instanceof Element}function hn(e){var t=hr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dh(e){if(typeof ShadowRoot>"u")return!1;var t=hr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Gs=Math.max,ru=Math.min,ti=Math.round;function vp(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function h1(){return!/^((?!chrome|android).)*safari/i.test(vp())}function ri(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&hn(e)&&(s=e.offsetWidth>0&&ti(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ti(n.height)/e.offsetHeight||1);var i=sa(e)?hr(e):window,c=i.visualViewport,l=!h1()&&r,u=(n.left+(l&&c?c.offsetLeft:0))/s,d=(n.top+(l&&c?c.offsetTop:0))/a,p=n.width/s,f=n.height/a;return{width:p,height:f,top:d,right:u+p,bottom:d+f,left:u,x:u,y:d}}function fh(e){var t=ri(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function g1(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&dh(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ns(e){return e?(e.nodeName||"").toLowerCase():null}function Hn(e){return hr(e).getComputedStyle(e)}function HO(e){return["table","td","th"].indexOf(Ns(e))>=0}function Os(e){return((sa(e)?e.ownerDocument:e.document)||window.document).documentElement}function zu(e){return Ns(e)==="html"?e:e.assignedSlot||e.parentNode||(dh(e)?e.host:null)||Os(e)}function zv(e){return!hn(e)||Hn(e).position==="fixed"?null:e.offsetParent}function BO(e){var t=/firefox/i.test(vp()),r=/Trident/i.test(vp());if(r&&hn(e)){var n=Hn(e);if(n.position==="fixed")return null}var s=zu(e);for(dh(s)&&(s=s.host);hn(s)&&["html","body"].indexOf(Ns(s))<0;){var a=Hn(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function sl(e){for(var t=hr(e),r=zv(e);r&&HO(r)&&Hn(r).position==="static";)r=zv(r);return r&&(Ns(r)==="html"||Ns(r)==="body"&&Hn(r).position==="static")?t:r||BO(e)||t}function ph(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function no(e,t,r){return Gs(e,ru(t,r))}function VO(e,t,r){var n=no(e,t,r);return n>r?r:n}function v1(){return{top:0,right:0,bottom:0,left:0}}function y1(e){return Object.assign({},v1(),e)}function x1(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var GO=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,y1(typeof t!="number"?t:x1(t,nl))};function qO(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,c=mn(r.placement),l=ph(c),u=[ar,Lr].indexOf(c)>=0,d=u?"height":"width";if(!(!a||!i)){var p=GO(s.padding,r),f=fh(a),y=l==="y"?sr:ar,g=l==="y"?Dr:Lr,v=r.rects.reference[d]+r.rects.reference[l]-i[l]-r.rects.popper[d],w=i[l]-r.rects.reference[l],h=sl(a),m=h?l==="y"?h.clientHeight||0:h.clientWidth||0:0,x=v/2-w/2,S=p[y],b=m-f[d]-p[g],k=m/2-f[d]/2+x,j=no(S,k,b),P=l;r.modifiersData[n]=(t={},t[P]=j,t.centerOffset=j-k,t)}}function KO(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||g1(t.elements.popper,s)&&(t.elements.arrow=s))}const XO={name:"arrow",enabled:!0,phase:"main",fn:qO,effect:KO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ni(e){return e.split("-")[1]}var QO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZO(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:ti(r*s)/s||0,y:ti(n*s)/s||0}}function Wv(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=i.x,y=f===void 0?0:f,g=i.y,v=g===void 0?0:g,w=typeof d=="function"?d({x:y,y:v}):{x:y,y:v};y=w.x,v=w.y;var h=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),x=ar,S=sr,b=window;if(u){var k=sl(r),j="clientHeight",P="clientWidth";if(k===hr(r)&&(k=Os(r),Hn(k).position!=="static"&&c==="absolute"&&(j="scrollHeight",P="scrollWidth")),k=k,s===sr||(s===ar||s===Lr)&&a===Ro){S=Dr;var C=p&&k===b&&b.visualViewport?b.visualViewport.height:k[j];v-=C-n.height,v*=l?1:-1}if(s===ar||(s===sr||s===Dr)&&a===Ro){x=Lr;var L=p&&k===b&&b.visualViewport?b.visualViewport.width:k[P];y-=L-n.width,y*=l?1:-1}}var U=Object.assign({position:c},u&&QO),G=d===!0?ZO({x:y,y:v},hr(r)):{x:y,y:v};if(y=G.x,v=G.y,l){var X;return Object.assign({},U,(X={},X[S]=m?"0":"",X[x]=h?"0":"",X.transform=(b.devicePixelRatio||1)<=1?"translate("+y+"px, "+v+"px)":"translate3d("+y+"px, "+v+"px, 0)",X))}return Object.assign({},U,(t={},t[S]=m?v+"px":"",t[x]=h?y+"px":"",t.transform="",t))}function JO(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,i=a===void 0?!0:a,c=r.roundOffsets,l=c===void 0?!0:c,u={placement:mn(t.placement),variation:ni(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wv(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wv(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const eM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JO,data:{}};var Wl={passive:!0};function tM(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,i=n.resize,c=i===void 0?!0:i,l=hr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,Wl)}),c&&l.addEventListener("resize",r.update,Wl),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Wl)}),c&&l.removeEventListener("resize",r.update,Wl)}}const rM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tM,data:{}};var nM={left:"right",right:"left",bottom:"top",top:"bottom"};function fc(e){return e.replace(/left|right|bottom|top/g,function(t){return nM[t]})}var sM={start:"end",end:"start"};function Yv(e){return e.replace(/start|end/g,function(t){return sM[t]})}function mh(e){var t=hr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function hh(e){return ri(Os(e)).left+mh(e).scrollLeft}function aM(e,t){var r=hr(e),n=Os(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){a=s.width,i=s.height;var u=h1();(u||!u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:c+hh(e),y:l}}function iM(e){var t,r=Os(e),n=mh(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Gs(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=Gs(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-n.scrollLeft+hh(e),l=-n.scrollTop;return Hn(s||r).direction==="rtl"&&(c+=Gs(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:c,y:l}}function gh(e){var t=Hn(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function b1(e){return["html","body","#document"].indexOf(Ns(e))>=0?e.ownerDocument.body:hn(e)&&gh(e)?e:b1(zu(e))}function so(e,t){var r;t===void 0&&(t=[]);var n=b1(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=hr(n),i=s?[a].concat(a.visualViewport||[],gh(n)?n:[]):n,c=t.concat(i);return s?c:c.concat(so(zu(i)))}function yp(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oM(e,t){var r=ri(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Hv(e,t,r){return t===m1?yp(aM(e,r)):sa(t)?oM(t,r):yp(iM(Os(e)))}function lM(e){var t=so(zu(e)),r=["absolute","fixed"].indexOf(Hn(e).position)>=0,n=r&&hn(e)?sl(e):e;return sa(n)?t.filter(function(s){return sa(s)&&g1(s,n)&&Ns(s)!=="body"}):[]}function cM(e,t,r,n){var s=t==="clippingParents"?lM(e):[].concat(t),a=[].concat(s,[r]),i=a[0],c=a.reduce(function(l,u){var d=Hv(e,u,n);return l.top=Gs(d.top,l.top),l.right=ru(d.right,l.right),l.bottom=ru(d.bottom,l.bottom),l.left=Gs(d.left,l.left),l},Hv(e,i,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function w1(e){var t=e.reference,r=e.element,n=e.placement,s=n?mn(n):null,a=n?ni(n):null,i=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,l;switch(s){case sr:l={x:i,y:t.y-r.height};break;case Dr:l={x:i,y:t.y+t.height};break;case Lr:l={x:t.x+t.width,y:c};break;case ar:l={x:t.x-r.width,y:c};break;default:l={x:t.x,y:t.y}}var u=s?ph(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case ei:l[u]=l[u]-(t[d]/2-r[d]/2);break;case Ro:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function Io(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,i=a===void 0?e.strategy:a,c=r.boundary,l=c===void 0?MO:c,u=r.rootBoundary,d=u===void 0?m1:u,p=r.elementContext,f=p===void 0?Fi:p,y=r.altBoundary,g=y===void 0?!1:y,v=r.padding,w=v===void 0?0:v,h=y1(typeof w!="number"?w:x1(w,nl)),m=f===Fi?$O:Fi,x=e.rects.popper,S=e.elements[g?m:f],b=cM(sa(S)?S:S.contextElement||Os(e.elements.popper),l,d,i),k=ri(e.elements.reference),j=w1({reference:k,element:x,placement:s}),P=yp(Object.assign({},x,j)),C=f===Fi?P:k,L={top:b.top-C.top+h.top,bottom:C.bottom-b.bottom+h.bottom,left:b.left-C.left+h.left,right:C.right-b.right+h.right},U=e.modifiersData.offset;if(f===Fi&&U){var G=U[s];Object.keys(L).forEach(function(X){var $=[Lr,Dr].indexOf(X)>=0?1:-1,A=[sr,Dr].indexOf(X)>=0?"y":"x";L[X]+=G[A]*$})}return L}function uM(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,c=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?uh:l,d=ni(n),p=d?c?Uv:Uv.filter(function(g){return ni(g)===d}):nl,f=p.filter(function(g){return u.indexOf(g)>=0});f.length===0&&(f=p);var y=f.reduce(function(g,v){return g[v]=Io(e,{placement:v,boundary:s,rootBoundary:a,padding:i})[mn(v)],g},{});return Object.keys(y).sort(function(g,v){return y[g]-y[v]})}function dM(e){if(mn(e)===ch)return[];var t=fc(e);return[Yv(e),t,Yv(t)]}function fM(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,c=i===void 0?!0:i,l=r.fallbackPlacements,u=r.padding,d=r.boundary,p=r.rootBoundary,f=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,v=r.allowedAutoPlacements,w=t.options.placement,h=mn(w),m=h===w,x=l||(m||!g?[fc(w)]:dM(w)),S=[w].concat(x).reduce(function(K,Q){return K.concat(mn(Q)===ch?uM(t,{placement:Q,boundary:d,rootBoundary:p,padding:u,flipVariations:g,allowedAutoPlacements:v}):Q)},[]),b=t.rects.reference,k=t.rects.popper,j=new Map,P=!0,C=S[0],L=0;L<S.length;L++){var U=S[L],G=mn(U),X=ni(U)===ei,$=[sr,Dr].indexOf(G)>=0,A=$?"width":"height",z=Io(t,{placement:U,boundary:d,rootBoundary:p,altBoundary:f,padding:u}),V=$?X?Lr:ar:X?Dr:sr;b[A]>k[A]&&(V=fc(V));var I=fc(V),R=[];if(a&&R.push(z[G]<=0),c&&R.push(z[V]<=0,z[I]<=0),R.every(function(K){return K})){C=U,P=!1;break}j.set(U,R)}if(P)for(var H=g?3:1,O=function(Q){var oe=S.find(function(le){var ce=j.get(le);if(ce)return ce.slice(0,Q).every(function(xe){return xe})});if(oe)return C=oe,"break"},F=H;F>0;F--){var W=O(F);if(W==="break")break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}}const pM={name:"flip",enabled:!0,phase:"main",fn:fM,requiresIfExists:["offset"],data:{_skip:!1}};function Bv(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Vv(e){return[sr,Lr,Dr,ar].some(function(t){return e[t]>=0})}function mM(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=Io(t,{elementContext:"reference"}),c=Io(t,{altBoundary:!0}),l=Bv(i,n),u=Bv(c,s,a),d=Vv(l),p=Vv(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const hM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mM};function gM(e,t,r){var n=mn(e),s=[ar,sr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=a[0],c=a[1];return i=i||0,c=(c||0)*s,[ar,Lr].indexOf(n)>=0?{x:c,y:i}:{x:i,y:c}}function vM(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,i=uh.reduce(function(d,p){return d[p]=gM(p,t.rects,a),d},{}),c=i[t.placement],l=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=i}const yM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vM};function xM(e){var t=e.state,r=e.name;t.modifiersData[r]=w1({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const bM={name:"popperOffsets",enabled:!0,phase:"read",fn:xM,data:{}};function wM(e){return e==="x"?"y":"x"}function SM(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,c=i===void 0?!1:i,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,p=r.padding,f=r.tether,y=f===void 0?!0:f,g=r.tetherOffset,v=g===void 0?0:g,w=Io(t,{boundary:l,rootBoundary:u,padding:p,altBoundary:d}),h=mn(t.placement),m=ni(t.placement),x=!m,S=ph(h),b=wM(S),k=t.modifiersData.popperOffsets,j=t.rects.reference,P=t.rects.popper,C=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,L=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(k){if(a){var X,$=S==="y"?sr:ar,A=S==="y"?Dr:Lr,z=S==="y"?"height":"width",V=k[S],I=V+w[$],R=V-w[A],H=y?-P[z]/2:0,O=m===ei?j[z]:P[z],F=m===ei?-P[z]:-j[z],W=t.elements.arrow,K=y&&W?fh(W):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:v1(),oe=Q[$],le=Q[A],ce=no(0,j[z],K[z]),xe=x?j[z]/2-H-ce-oe-L.mainAxis:O-ce-oe-L.mainAxis,T=x?-j[z]/2+H+ce+le+L.mainAxis:F+ce+le+L.mainAxis,te=t.elements.arrow&&sl(t.elements.arrow),J=te?S==="y"?te.clientTop||0:te.clientLeft||0:0,he=(X=U==null?void 0:U[S])!=null?X:0,ke=V+xe-he-J,Fe=V+T-he,Ue=no(y?ru(I,ke):I,V,y?Gs(R,Fe):R);k[S]=Ue,G[S]=Ue-V}if(c){var nt,or=S==="x"?sr:ar,xr=S==="x"?Dr:Lr,Y=k[b],Oe=b==="y"?"height":"width",Et=Y+w[or],Vt=Y-w[xr],Ur=[sr,ar].indexOf(h)!==-1,Gt=(nt=U==null?void 0:U[b])!=null?nt:0,lr=Ur?Et:Y-j[Oe]-P[Oe]-Gt+L.altAxis,qt=Ur?Y+j[Oe]+P[Oe]-Gt-L.altAxis:Vt,br=y&&Ur?VO(lr,Y,qt):no(y?lr:Et,Y,y?qt:Vt);k[b]=br,G[b]=br-Y}t.modifiersData[n]=G}}const _M={name:"preventOverflow",enabled:!0,phase:"main",fn:SM,requiresIfExists:["offset"]};function NM(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jM(e){return e===hr(e)||!hn(e)?mh(e):NM(e)}function kM(e){var t=e.getBoundingClientRect(),r=ti(t.width)/e.offsetWidth||1,n=ti(t.height)/e.offsetHeight||1;return r!==1||n!==1}function EM(e,t,r){r===void 0&&(r=!1);var n=hn(t),s=hn(t)&&kM(t),a=Os(t),i=ri(e,s,r),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Ns(t)!=="body"||gh(a))&&(c=jM(t)),hn(t)?(l=ri(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=hh(a))),{x:i.left+c.scrollLeft-l.x,y:i.top+c.scrollTop-l.y,width:i.width,height:i.height}}function CM(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(c){if(!r.has(c)){var l=t.get(c);l&&s(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function TM(e){var t=CM(e);return YO.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function PM(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function OM(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Gv={placement:"bottom",modifiers:[],strategy:"absolute"};function qv(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function MM(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?Gv:s;return function(c,l,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gv,a),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},p=[],f=!1,y={state:d,setOptions:function(h){var m=typeof h=="function"?h(d.options):h;v(),d.options=Object.assign({},a,d.options,m),d.scrollParents={reference:sa(c)?so(c):c.contextElement?so(c.contextElement):[],popper:so(l)};var x=TM(OM([].concat(n,d.options.modifiers)));return d.orderedModifiers=x.filter(function(S){return S.enabled}),g(),y.update()},forceUpdate:function(){if(!f){var h=d.elements,m=h.reference,x=h.popper;if(qv(m,x)){d.rects={reference:EM(m,sl(x),d.options.strategy==="fixed"),popper:fh(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var b=d.orderedModifiers[S],k=b.fn,j=b.options,P=j===void 0?{}:j,C=b.name;typeof k=="function"&&(d=k({state:d,options:P,name:C,instance:y})||d)}}}},update:PM(function(){return new Promise(function(w){y.forceUpdate(),w(d)})}),destroy:function(){v(),f=!0}};if(!qv(c,l))return y;y.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function g(){d.orderedModifiers.forEach(function(w){var h=w.name,m=w.options,x=m===void 0?{}:m,S=w.effect;if(typeof S=="function"){var b=S({state:d,name:h,instance:y,options:x}),k=function(){};p.push(b||k)}})}function v(){p.forEach(function(w){return w()}),p=[]}return y}}var $M=MM({defaultModifiers:[hM,bM,eM,rM,yM,pM,_M,XO]}),Kv=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},AM={name:"applyStyles",enabled:!1},DM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var i=(s.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==a.id});i.length?s.setAttribute("aria-describedby",i.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,i=s.reference,c=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&c==="tooltip"&&"setAttribute"in i){var l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;i.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},LM=[];function RM(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,i=n.placement,c=i===void 0?"bottom":i,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,p=d===void 0?LM:d,f=Iu(n,["enabled","placement","strategy","modifiers"]),y=_.useRef(),g=_.useCallback(function(){var S;(S=y.current)==null||S.update()},[]),v=_.useCallback(function(){var S;(S=y.current)==null||S.forceUpdate()},[]),w=OO(_.useState({placement:c,update:g,forceUpdate:v,attributes:{},styles:{popper:Kv(u),arrow:{}}})),h=w[0],m=w[1],x=_.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(b){var k=b.state,j={},P={};Object.keys(k.elements).forEach(function(C){j[C]=k.styles[C],P[C]=k.attributes[C]}),m({state:k,styles:j,attributes:P,update:g,forceUpdate:v,placement:k.placement})}}},[g,v,m]);return _.useEffect(function(){!y.current||!a||y.current.setOptions({placement:c,strategy:u,modifiers:[].concat(p,[x,AM])})},[u,c,x,a]),_.useEffect(function(){if(!(!a||e==null||t==null))return y.current=$M(e,t,tt({},f,{placement:c,strategy:u,modifiers:[].concat(p,[DM,x])})),function(){y.current!=null&&(y.current.destroy(),y.current=void 0,m(function(S){return tt({},S,{attributes:{},styles:{popper:Kv(u)}})}))}},[a,e,t]),h}function IM(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function Bi(e,t,r,n){return CO(e,t,r,n),function(){IM(e,t,r,n)}}var FM=function(){},UM=FM;const zM=Yt(UM);function WM(e){return e&&"setState"in e?Ib.findDOMNode(e):e??null}const YM=function(e){return rl(WM(e))};var HM=27,Xv=function(){};function BM(e){return e.button===0}function VM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Qv=function(t){return t&&("current"in t?t.current:t)};function GM(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,i=a===void 0?"click":a,c=_.useRef(!1),l=t||Xv,u=_.useCallback(function(f){var y,g=Qv(e);zM(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!g||VM(f)||!BM(f)||!!Lo(g,(y=f.composedPath==null?void 0:f.composedPath()[0])!=null?y:f.target)},[e]),d=Iv(function(f){c.current||l(f)}),p=Iv(function(f){f.keyCode===HM&&l(f)});_.useEffect(function(){if(!(s||e==null)){var f=window.event,y=YM(Qv(e)),g=Bi(y,i,u,!0),v=Bi(y,i,function(m){if(m===f){f=void 0;return}d(m)}),w=Bi(y,"keyup",function(m){if(m===f){f=void 0;return}p(m)}),h=[];return"ontouchstart"in y.documentElement&&(h=[].slice.call(y.body.children).map(function(m){return Bi(m,"mousemove",Xv)})),function(){g(),v(),w(),h.forEach(function(m){return m()})}}},[e,s,i,u,d,p])}function qM(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function KM(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function XM(e){var t,r,n,s,a=e.enabled,i=e.enableEvents,c=e.placement,l=e.flip,u=e.offset,d=e.fixed,p=e.containerPadding,f=e.arrowElement,y=e.popperConfig,g=y===void 0?{}:y,v=qM(g.modifiers);return tt({},g,{placement:c,enabled:a,strategy:d?"fixed":g.strategy,modifiers:KM(tt({},v,{eventListeners:{enabled:i},preventOverflow:tt({},v.preventOverflow,{options:p?tt({padding:p},(t=v.preventOverflow)==null?void 0:t.options):(r=v.preventOverflow)==null?void 0:r.options}),offset:{options:tt({offset:u},(n=v.offset)==null?void 0:n.options)},arrow:tt({},v.arrow,{enabled:!!f,options:tt({},(s=v.arrow)==null?void 0:s.options,{element:f})}),flip:tt({enabled:!!l},v.flip)}))})}function QM(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function ZM(e,t){e.classList?e.classList.add(t):QM(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Zv(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function JM(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Zv(e.className,t):e.setAttribute("class",Zv(e.className&&e.className.baseVal||"",t))}var Yl;function vh(e){if((!Yl&&Yl!==0||e)&&lh){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Yl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Yl}var Gd=function(t){var r;return typeof document>"u"?null:t==null?rl().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Jv(e,t){var r=_.useState(function(){return Gd(e)}),n=r[0],s=r[1];if(!n){var a=Gd(e);a&&s(a)}return _.useEffect(function(){},[t,n]),_.useEffect(function(){var i=Gd(e);i!==n&&s(i)},[e,n]),n}const ey=e=>!e||typeof e=="function"?e:t=>{e.current=t};function e$(e,t){const r=ey(e),n=ey(t);return s=>{r&&r(s),n&&n(s)}}function t$(e,t){return _.useMemo(()=>e$(e,t),[e,t])}var yh=D.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=a===void 0?5:a,c=e.popperConfig,l=c===void 0?{}:c,u=e.transition,d=Fv(),p=d[0],f=d[1],y=Fv(),g=y[0],v=y[1],w=t$(f,t),h=Jv(e.container),m=Jv(e.target),x=_.useState(!e.show),S=x[0],b=x[1],k=RM(m,p,XM({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:g,popperConfig:l})),j=k.styles,P=k.attributes,C=Iu(k,["styles","attributes"]);e.show?S&&b(!1):!e.transition&&!S&&b(!0);var L=function(){b(!0),e.onExited&&e.onExited.apply(e,arguments)},U=e.show||u&&!S;if(GM(p,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!U)return null;var G=e.children(tt({},C,{show:!!e.show,props:tt({},P.popper,{style:j.popper,ref:w}),arrowProps:tt({},P.arrow,{style:j.arrow,ref:v})}));if(u){var X=e.onExit,$=e.onExiting,A=e.onEnter,z=e.onEntering,V=e.onEntered;G=D.createElement(u,{in:e.show,appear:!0,onExit:X,onExiting:$,onExited:L,onEnter:A,onEntering:z,onEntered:V},G)}return h?Ib.createPortal(G,h):null});yh.displayName="Overlay";yh.propTypes={show:ae.bool,placement:ae.oneOf(uh),target:ae.any,container:ae.any,flip:ae.bool,children:ae.func.isRequired,containerPadding:ae.number,popperConfig:ae.object,rootClose:ae.bool,rootCloseEvent:ae.oneOf(["click","mousedown"]),rootCloseDisabled:ae.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=ae.func).isRequired.apply(a,[t].concat(n))}return ae.func.apply(ae,[t].concat(n))},transition:ae.elementType,onEnter:ae.func,onEntering:ae.func,onEntered:ae.func,onExit:ae.func,onExiting:ae.func,onExited:ae.func};function r$(){this.__data__=[],this.size=0}var n$=r$,s$=Jo;function a$(e,t){for(var r=e.length;r--;)if(s$(e[r][0],t))return r;return-1}var Wu=a$,i$=Wu,o$=Array.prototype,l$=o$.splice;function c$(e){var t=this.__data__,r=i$(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():l$.call(t,r,1),--this.size,!0}var u$=c$,d$=Wu;function f$(e){var t=this.__data__,r=d$(t,e);return r<0?void 0:t[r][1]}var p$=f$,m$=Wu;function h$(e){return m$(this.__data__,e)>-1}var g$=h$,v$=Wu;function y$(e,t){var r=this.__data__,n=v$(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var x$=y$,b$=n$,w$=u$,S$=p$,_$=g$,N$=x$;function hi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hi.prototype.clear=b$;hi.prototype.delete=w$;hi.prototype.get=S$;hi.prototype.has=_$;hi.prototype.set=N$;var Yu=hi,j$=Yu;function k$(){this.__data__=new j$,this.size=0}var E$=k$;function C$(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var T$=C$;function P$(e){return this.__data__.get(e)}var O$=P$;function M$(e){return this.__data__.has(e)}var $$=M$,A$=bn,D$=A$["__core-js_shared__"],L$=D$,qd=L$,ty=function(){var e=/[^.]+$/.exec(qd&&qd.keys&&qd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function R$(e){return!!ty&&ty in e}var I$=R$,F$=Function.prototype,U$=F$.toString;function z$(e){if(e!=null){try{return U$.call(e)}catch{}try{return e+""}catch{}}return""}var S1=z$,W$=sh,Y$=I$,H$=qn,B$=S1,V$=/[\\^$.*+?()[\]{}|]/g,G$=/^\[object .+?Constructor\]$/,q$=Function.prototype,K$=Object.prototype,X$=q$.toString,Q$=K$.hasOwnProperty,Z$=RegExp("^"+X$.call(Q$).replace(V$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J$(e){if(!H$(e)||Y$(e))return!1;var t=W$(e)?Z$:G$;return t.test(B$(e))}var eA=J$;function tA(e,t){return e==null?void 0:e[t]}var rA=tA,nA=eA,sA=rA;function aA(e,t){var r=sA(e,t);return nA(r)?r:void 0}var ca=aA,iA=ca,oA=bn,lA=iA(oA,"Map"),xh=lA,cA=ca,uA=cA(Object,"create"),Hu=uA,ry=Hu;function dA(){this.__data__=ry?ry(null):{},this.size=0}var fA=dA;function pA(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mA=pA,hA=Hu,gA="__lodash_hash_undefined__",vA=Object.prototype,yA=vA.hasOwnProperty;function xA(e){var t=this.__data__;if(hA){var r=t[e];return r===gA?void 0:r}return yA.call(t,e)?t[e]:void 0}var bA=xA,wA=Hu,SA=Object.prototype,_A=SA.hasOwnProperty;function NA(e){var t=this.__data__;return wA?t[e]!==void 0:_A.call(t,e)}var jA=NA,kA=Hu,EA="__lodash_hash_undefined__";function CA(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kA&&t===void 0?EA:t,this}var TA=CA,PA=fA,OA=mA,MA=bA,$A=jA,AA=TA;function gi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gi.prototype.clear=PA;gi.prototype.delete=OA;gi.prototype.get=MA;gi.prototype.has=$A;gi.prototype.set=AA;var DA=gi,ny=DA,LA=Yu,RA=xh;function IA(){this.size=0,this.__data__={hash:new ny,map:new(RA||LA),string:new ny}}var FA=IA;function UA(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zA=UA,WA=zA;function YA(e,t){var r=e.__data__;return WA(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Bu=YA,HA=Bu;function BA(e){var t=HA(this,e).delete(e);return this.size-=t?1:0,t}var VA=BA,GA=Bu;function qA(e){return GA(this,e).get(e)}var KA=qA,XA=Bu;function QA(e){return XA(this,e).has(e)}var ZA=QA,JA=Bu;function eD(e,t){var r=JA(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var tD=eD,rD=FA,nD=VA,sD=KA,aD=ZA,iD=tD;function vi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vi.prototype.clear=rD;vi.prototype.delete=nD;vi.prototype.get=sD;vi.prototype.has=aD;vi.prototype.set=iD;var bh=vi,oD=Yu,lD=xh,cD=bh,uD=200;function dD(e,t){var r=this.__data__;if(r instanceof oD){var n=r.__data__;if(!lD||n.length<uD-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cD(n)}return r.set(e,t),this.size=r.size,this}var fD=dD,pD=Yu,mD=E$,hD=T$,gD=O$,vD=$$,yD=fD;function yi(e){var t=this.__data__=new pD(e);this.size=t.size}yi.prototype.clear=mD;yi.prototype.delete=hD;yi.prototype.get=gD;yi.prototype.has=vD;yi.prototype.set=yD;var wh=yi,xD="__lodash_hash_undefined__";function bD(e){return this.__data__.set(e,xD),this}var wD=bD;function SD(e){return this.__data__.has(e)}var _D=SD,ND=bh,jD=wD,kD=_D;function nu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ND;++t<r;)this.add(e[t])}nu.prototype.add=nu.prototype.push=jD;nu.prototype.has=kD;var ED=nu;function CD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var TD=CD;function PD(e,t){return e.has(t)}var OD=PD,MD=ED,$D=TD,AD=OD,DD=1,LD=2;function RD(e,t,r,n,s,a){var i=r&DD,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,y=r&LD?new MD:void 0;for(a.set(e,t),a.set(t,e);++p<c;){var g=e[p],v=t[p];if(n)var w=i?n(v,g,p,t,e,a):n(g,v,p,e,t,a);if(w!==void 0){if(w)continue;f=!1;break}if(y){if(!$D(t,function(h,m){if(!AD(y,m)&&(g===h||s(g,h,r,n,a)))return y.push(m)})){f=!1;break}}else if(!(g===v||s(g,v,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var _1=RD,ID=bn,FD=ID.Uint8Array,N1=FD;function UD(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var zD=UD;function WD(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var YD=WD,sy=pi,ay=N1,HD=Jo,BD=_1,VD=zD,GD=YD,qD=1,KD=2,XD="[object Boolean]",QD="[object Date]",ZD="[object Error]",JD="[object Map]",eL="[object Number]",tL="[object RegExp]",rL="[object Set]",nL="[object String]",sL="[object Symbol]",aL="[object ArrayBuffer]",iL="[object DataView]",iy=sy?sy.prototype:void 0,Kd=iy?iy.valueOf:void 0;function oL(e,t,r,n,s,a,i){switch(r){case iL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aL:return!(e.byteLength!=t.byteLength||!a(new ay(e),new ay(t)));case XD:case QD:case eL:return HD(+e,+t);case ZD:return e.name==t.name&&e.message==t.message;case tL:case nL:return e==t+"";case JD:var c=VD;case rL:var l=n&qD;if(c||(c=GD),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=KD,i.set(e,t);var d=BD(c(e),c(t),n,s,a,i);return i.delete(e),d;case sL:if(Kd)return Kd.call(e)==Kd.call(t)}return!1}var lL=oL;function cL(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Sh=cL,uL=Array.isArray,Fr=uL,dL=Sh,fL=Fr;function pL(e,t,r){var n=t(e);return fL(e)?n:dL(n,r(e))}var j1=pL;function mL(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var hL=mL;function gL(){return[]}var k1=gL,vL=hL,yL=k1,xL=Object.prototype,bL=xL.propertyIsEnumerable,oy=Object.getOwnPropertySymbols,wL=oy?function(e){return e==null?[]:(e=Object(e),vL(oy(e),function(t){return bL.call(e,t)}))}:yL,_h=wL;function SL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _L=SL,NL=mi,jL=Ps,kL="[object Arguments]";function EL(e){return jL(e)&&NL(e)==kL}var CL=EL,ly=CL,TL=Ps,E1=Object.prototype,PL=E1.hasOwnProperty,OL=E1.propertyIsEnumerable,ML=ly(function(){return arguments}())?ly:function(e){return TL(e)&&PL.call(e,"callee")&&!OL.call(e,"callee")},Nh=ML,su={exports:{}};function $L(){return!1}var AL=$L;su.exports;(function(e,t){var r=bn,n=AL,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,c=i?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(su,su.exports);var Vu=su.exports,DL=mi,LL=ah,RL=Ps,IL="[object Arguments]",FL="[object Array]",UL="[object Boolean]",zL="[object Date]",WL="[object Error]",YL="[object Function]",HL="[object Map]",BL="[object Number]",VL="[object Object]",GL="[object RegExp]",qL="[object Set]",KL="[object String]",XL="[object WeakMap]",QL="[object ArrayBuffer]",ZL="[object DataView]",JL="[object Float32Array]",e3="[object Float64Array]",t3="[object Int8Array]",r3="[object Int16Array]",n3="[object Int32Array]",s3="[object Uint8Array]",a3="[object Uint8ClampedArray]",i3="[object Uint16Array]",o3="[object Uint32Array]",He={};He[JL]=He[e3]=He[t3]=He[r3]=He[n3]=He[s3]=He[a3]=He[i3]=He[o3]=!0;He[IL]=He[FL]=He[QL]=He[UL]=He[ZL]=He[zL]=He[WL]=He[YL]=He[HL]=He[BL]=He[VL]=He[GL]=He[qL]=He[KL]=He[XL]=!1;function l3(e){return RL(e)&&LL(e.length)&&!!He[DL(e)]}var c3=l3;function u3(e){return function(t){return e(t)}}var Gu=u3,au={exports:{}};au.exports;(function(e,t){var r=a1,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c})(au,au.exports);var jh=au.exports,d3=c3,f3=Gu,cy=jh,uy=cy&&cy.isTypedArray,p3=uy?f3(uy):d3,kh=p3,m3=_L,h3=Nh,g3=Fr,v3=Vu,y3=ih,x3=kh,b3=Object.prototype,w3=b3.hasOwnProperty;function S3(e,t){var r=g3(e),n=!r&&h3(e),s=!r&&!n&&v3(e),a=!r&&!n&&!s&&x3(e),i=r||n||s||a,c=i?m3(e.length,String):[],l=c.length;for(var u in e)(t||w3.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||y3(u,l)))&&c.push(u);return c}var C1=S3,_3=Object.prototype;function N3(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_3;return e===r}var Eh=N3;function j3(e,t){return function(r){return e(t(r))}}var T1=j3,k3=T1,E3=k3(Object.keys,Object),C3=E3,T3=Eh,P3=C3,O3=Object.prototype,M3=O3.hasOwnProperty;function $3(e){if(!T3(e))return P3(e);var t=[];for(var r in Object(e))M3.call(e,r)&&r!="constructor"&&t.push(r);return t}var A3=$3,D3=C1,L3=A3,R3=el;function I3(e){return R3(e)?D3(e):L3(e)}var al=I3,F3=j1,U3=_h,z3=al;function W3(e){return F3(e,z3,U3)}var P1=W3,dy=P1,Y3=1,H3=Object.prototype,B3=H3.hasOwnProperty;function V3(e,t,r,n,s,a){var i=r&Y3,c=dy(e),l=c.length,u=dy(t),d=u.length;if(l!=d&&!i)return!1;for(var p=l;p--;){var f=c[p];if(!(i?f in t:B3.call(t,f)))return!1}var y=a.get(e),g=a.get(t);if(y&&g)return y==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);for(var w=i;++p<l;){f=c[p];var h=e[f],m=t[f];if(n)var x=i?n(m,h,f,t,e,a):n(h,m,f,e,t,a);if(!(x===void 0?h===m||s(h,m,r,n,a):x)){v=!1;break}w||(w=f=="constructor")}if(v&&!w){var S=e.constructor,b=t.constructor;S!=b&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(v=!1)}return a.delete(e),a.delete(t),v}var G3=V3,q3=ca,K3=bn,X3=q3(K3,"DataView"),Q3=X3,Z3=ca,J3=bn,eR=Z3(J3,"Promise"),tR=eR,rR=ca,nR=bn,sR=rR(nR,"Set"),aR=sR,iR=ca,oR=bn,lR=iR(oR,"WeakMap"),cR=lR,xp=Q3,bp=xh,wp=tR,Sp=aR,_p=cR,O1=mi,xi=S1,fy="[object Map]",uR="[object Object]",py="[object Promise]",my="[object Set]",hy="[object WeakMap]",gy="[object DataView]",dR=xi(xp),fR=xi(bp),pR=xi(wp),mR=xi(Sp),hR=xi(_p),Rs=O1;(xp&&Rs(new xp(new ArrayBuffer(1)))!=gy||bp&&Rs(new bp)!=fy||wp&&Rs(wp.resolve())!=py||Sp&&Rs(new Sp)!=my||_p&&Rs(new _p)!=hy)&&(Rs=function(e){var t=O1(e),r=t==uR?e.constructor:void 0,n=r?xi(r):"";if(n)switch(n){case dR:return gy;case fR:return fy;case pR:return py;case mR:return my;case hR:return hy}return t});var qu=Rs,Xd=wh,gR=_1,vR=lL,yR=G3,vy=qu,yy=Fr,xy=Vu,xR=kh,bR=1,by="[object Arguments]",wy="[object Array]",Hl="[object Object]",wR=Object.prototype,Sy=wR.hasOwnProperty;function SR(e,t,r,n,s,a){var i=yy(e),c=yy(t),l=i?wy:vy(e),u=c?wy:vy(t);l=l==by?Hl:l,u=u==by?Hl:u;var d=l==Hl,p=u==Hl,f=l==u;if(f&&xy(e)){if(!xy(t))return!1;i=!0,d=!1}if(f&&!d)return a||(a=new Xd),i||xR(e)?gR(e,t,r,n,s,a):vR(e,t,l,r,n,s,a);if(!(r&bR)){var y=d&&Sy.call(e,"__wrapped__"),g=p&&Sy.call(t,"__wrapped__");if(y||g){var v=y?e.value():e,w=g?t.value():t;return a||(a=new Xd),s(v,w,r,n,a)}}return f?(a||(a=new Xd),yR(e,t,r,n,s,a)):!1}var _R=SR,NR=_R,_y=Ps;function M1(e,t,r,n,s){return e===t?!0:e==null||t==null||!_y(e)&&!_y(t)?e!==e&&t!==t:NR(e,t,r,n,M1,s)}var Ch=M1,jR=Ch;function kR(e,t){return jR(e,t)}var ER=kR;const CR=Yt(ER);function Qd(e,t){var r=oh(e);return r?r.innerHeight:Vs(e).height}function $1(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(jO(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function TR(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var PR=TR,OR=wh,MR=Ch,$R=1,AR=2;function DR(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var c=r[s];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){c=r[s];var l=c[0],u=e[l],d=c[1];if(i&&c[2]){if(u===void 0&&!(l in e))return!1}else{var p=new OR;if(n)var f=n(u,d,l,e,t,p);if(!(f===void 0?MR(d,u,$R|AR,n,p):f))return!1}}return!0}var LR=DR,RR=qn;function IR(e){return e===e&&!RR(e)}var A1=IR,FR=A1,UR=al;function zR(e){for(var t=UR(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,FR(s)]}return t}var WR=zR;function YR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var D1=YR,HR=LR,BR=WR,VR=D1;function GR(e){var t=BR(e);return t.length==1&&t[0][2]?VR(t[0][0],t[0][1]):function(r){return r===e||HR(r,e,t)}}var qR=GR,KR=Fr,XR=tl,QR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZR=/^\w*$/;function JR(e,t){if(KR(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||XR(e)?!0:ZR.test(e)||!QR.test(e)||t!=null&&e in Object(t)}var Th=JR,L1=bh,e4="Expected a function";function Ph(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(e4);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(Ph.Cache||L1),r}Ph.Cache=L1;var t4=Ph,r4=t4,n4=500;function s4(e){var t=r4(e,function(n){return r.size===n4&&r.clear(),n}),r=t.cache;return t}var a4=s4,i4=a4,o4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l4=/\\(\\)?/g,c4=i4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(o4,function(r,n,s,a){t.push(s?a.replace(l4,"$1"):n||r)}),t}),u4=c4;function d4(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Oh=d4,Ny=pi,f4=Oh,p4=Fr,m4=tl,jy=Ny?Ny.prototype:void 0,ky=jy?jy.toString:void 0;function R1(e){if(typeof e=="string")return e;if(p4(e))return f4(e,R1)+"";if(m4(e))return ky?ky.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var h4=R1,g4=h4;function v4(e){return e==null?"":g4(e)}var y4=v4,x4=Fr,b4=Th,w4=u4,S4=y4;function _4(e,t){return x4(e)?e:b4(e,t)?[e]:w4(S4(e))}var Ku=_4,N4=tl;function j4(e){if(typeof e=="string"||N4(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var il=j4,k4=Ku,E4=il;function C4(e,t){t=k4(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[E4(t[r++])];return r&&r==n?e:void 0}var Xu=C4,T4=Xu;function P4(e,t,r){var n=e==null?void 0:T4(e,t);return n===void 0?r:n}var O4=P4;function M4(e,t){return e!=null&&t in Object(e)}var $4=M4,A4=Ku,D4=Nh,L4=Fr,R4=ih,I4=ah,F4=il;function U4(e,t,r){t=A4(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=F4(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&I4(s)&&R4(i,s)&&(L4(e)||D4(e)))}var z4=U4,W4=$4,Y4=z4;function H4(e,t){return e!=null&&Y4(e,t,W4)}var B4=H4,V4=Ch,G4=O4,q4=B4,K4=Th,X4=A1,Q4=D1,Z4=il,J4=1,e5=2;function t5(e,t){return K4(e)&&X4(t)?Q4(Z4(e),t):function(r){var n=G4(r,e);return n===void 0&&n===t?q4(r,e):V4(t,n,J4|e5)}}var r5=t5;function n5(e){return e}var Qu=n5;function s5(e){return function(t){return t==null?void 0:t[e]}}var a5=s5,i5=Xu;function o5(e){return function(t){return i5(t,e)}}var l5=o5,c5=a5,u5=l5,d5=Th,f5=il;function p5(e){return d5(e)?c5(f5(e)):u5(e)}var m5=p5,h5=qR,g5=r5,v5=Qu,y5=Fr,x5=m5;function b5(e){return typeof e=="function"?e:e==null?v5:typeof e=="object"?y5(e)?g5(e[0],e[1]):h5(e):x5(e)}var Zu=b5,w5=PR,S5=Zu,_5=l1,N5=Math.max;function j5(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:_5(r);return s<0&&(s=N5(n+s,0)),w5(e,S5(t),s)}var k5=j5;const E5=Yt(k5);var C5=Math.ceil,T5=Math.max;function P5(e,t,r,n){for(var s=-1,a=T5(C5((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var O5=P5,M5=O5,$5=Uu,Zd=o1;function A5(e){return function(t,r,n){return n&&typeof n!="number"&&$5(t,r,n)&&(r=n=void 0),t=Zd(t),r===void 0?(r=t,t=0):r=Zd(r),n=n===void 0?t<r?1:-1:Zd(n),M5(t,r,n,e)}}var D5=A5,L5=D5,R5=L5(),I5=R5;const F5=Yt(I5);var Ey=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function U5(e,t){return!!(e===t||Ey(e)&&Ey(t))}function z5(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!U5(e[r],t[r]))return!1;return!0}function I1(e,t){t===void 0&&(t=z5);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}function Np(e,t){var r=oh(e);return r?r.innerWidth:Vs(e).width}var Cy=pi,W5=Nh,Y5=Fr,Ty=Cy?Cy.isConcatSpreadable:void 0;function H5(e){return Y5(e)||W5(e)||!!(Ty&&e&&e[Ty])}var B5=H5,V5=Sh,G5=B5;function F1(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=G5),s||(s=[]);++a<i;){var c=e[a];t>0&&r(c)?t>1?F1(c,t-1,r,n,s):V5(s,c):n||(s[s.length]=c)}return s}var U1=F1;function q5(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),c=i.length;c--;){var l=i[e?c:++s];if(r(a[l],l,a)===!1)break}return t}}var K5=q5,X5=K5,Q5=X5(),Z5=Q5,J5=Z5,eI=al;function tI(e,t){return e&&J5(e,t,eI)}var Mh=tI,rI=el;function nI(e,t){return function(r,n){if(r==null)return r;if(!rI(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var sI=nI,aI=Mh,iI=sI,oI=iI(aI),lI=oI,cI=lI,uI=el;function dI(e,t){var r=-1,n=uI(e)?Array(e.length):[];return cI(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var fI=dI;function pI(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mI=pI,Py=tl;function hI(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=Py(e),i=t!==void 0,c=t===null,l=t===t,u=Py(t);if(!c&&!u&&!a&&e>t||a&&i&&l&&!c&&!u||n&&i&&l||!r&&l||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||c&&r&&s||!i&&s||!l)return-1}return 0}var gI=hI,vI=gI;function yI(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,c=r.length;++n<i;){var l=vI(s[n],a[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var xI=yI,Jd=Oh,bI=Xu,wI=Zu,SI=fI,_I=mI,NI=Gu,jI=xI,kI=Qu,EI=Fr;function CI(e,t,r){t.length?t=Jd(t,function(a){return EI(a)?function(i){return bI(i,a.length===1?a[0]:a)}:a}):t=[kI];var n=-1;t=Jd(t,NI(wI));var s=SI(e,function(a,i,c){var l=Jd(t,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return _I(s,function(a,i){return jI(a,i,r)})}var TI=CI;function PI(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var OI=PI,MI=OI,Oy=Math.max;function $I(e,t,r){return t=Oy(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=Oy(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(i),MI(e,this,c)}}var z1=$I;function AI(e){return function(){return e}}var DI=AI,LI=ca,RI=function(){try{var e=LI(Object,"defineProperty");return e({},"",{}),e}catch{}}(),W1=RI,II=DI,My=W1,FI=Qu,UI=My?function(e,t){return My(e,"toString",{configurable:!0,enumerable:!1,value:II(t),writable:!0})}:FI,zI=UI,WI=800,YI=16,HI=Date.now;function BI(e){var t=0,r=0;return function(){var n=HI(),s=YI-(n-r);if(r=n,s>0){if(++t>=WI)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var VI=BI,GI=zI,qI=VI,KI=qI(GI),Y1=KI,XI=Qu,QI=z1,ZI=Y1;function JI(e,t){return ZI(QI(e,t,XI),e+"")}var H1=JI,eF=U1,tF=TI,rF=H1,$y=Uu,nF=rF(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$y(e,t[0],t[1])?t=[]:r>2&&$y(t[0],t[1],t[2])&&(t=[t[0]]),tF(e,eF(t,1),[])}),sF=nF;const aF=Yt(sF);function B1(e){return Fw(e)||n1(e)||th(e)||Uw()}function iF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var oF=iF,lF=qn,cF=Eh,uF=oF,dF=Object.prototype,fF=dF.hasOwnProperty;function pF(e){if(!lF(e))return uF(e);var t=cF(e),r=[];for(var n in e)n=="constructor"&&(t||!fF.call(e,n))||r.push(n);return r}var mF=pF,hF=C1,gF=mF,vF=el;function yF(e){return vF(e)?hF(e,!0):gF(e)}var Ju=yF,xF=H1,bF=Jo,wF=Uu,SF=Ju,V1=Object.prototype,_F=V1.hasOwnProperty,NF=xF(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&wF(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=SF(a),c=-1,l=i.length;++c<l;){var u=i[c],d=e[u];(d===void 0||bF(d,V1[u])&&!_F.call(e,u))&&(e[u]=a[u])}return e}),jF=NF;const kF=Yt(jF);var Ay=W1;function EF(e,t,r){t=="__proto__"&&Ay?Ay(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $h=EF,CF=$h,TF=Mh,PF=Zu;function OF(e,t){var r={};return t=PF(t),TF(e,function(n,s,a){CF(r,s,t(n,s,a))}),r}var MF=OF;const $F=Yt(MF);function AF(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var G1=AF,DF=$h,LF=Jo,RF=Object.prototype,IF=RF.hasOwnProperty;function FF(e,t,r){var n=e[t];(!(IF.call(e,t)&&LF(n,r))||r===void 0&&!(t in e))&&DF(e,t,r)}var q1=FF,UF=q1,zF=$h;function WF(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var c=t[a],l=n?n(r[c],e[c],c,r,e):void 0;l===void 0&&(l=e[c]),s?zF(r,c,l):UF(r,c,l)}return r}var ol=WF,YF=ol,HF=al;function BF(e,t){return e&&YF(t,HF(t),e)}var VF=BF,GF=ol,qF=Ju;function KF(e,t){return e&&GF(t,qF(t),e)}var XF=KF,iu={exports:{}};iu.exports;(function(e,t){var r=bn,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,c=i?i.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var p=u.length,f=c?c(p):new u.constructor(p);return u.copy(f),f}e.exports=l})(iu,iu.exports);var QF=iu.exports;function ZF(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var JF=ZF,e6=ol,t6=_h;function r6(e,t){return e6(e,t6(e),t)}var n6=r6,s6=T1,a6=s6(Object.getPrototypeOf,Object),ed=a6,i6=Sh,o6=ed,l6=_h,c6=k1,u6=Object.getOwnPropertySymbols,d6=u6?function(e){for(var t=[];e;)i6(t,l6(e)),e=o6(e);return t}:c6,K1=d6,f6=ol,p6=K1;function m6(e,t){return f6(e,p6(e),t)}var h6=m6,g6=j1,v6=K1,y6=Ju;function x6(e){return g6(e,y6,v6)}var X1=x6,b6=Object.prototype,w6=b6.hasOwnProperty;function S6(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&w6.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _6=S6,Dy=N1;function N6(e){var t=new e.constructor(e.byteLength);return new Dy(t).set(new Dy(e)),t}var Ah=N6,j6=Ah;function k6(e,t){var r=t?j6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var E6=k6,C6=/\w*$/;function T6(e){var t=new e.constructor(e.source,C6.exec(e));return t.lastIndex=e.lastIndex,t}var P6=T6,Ly=pi,Ry=Ly?Ly.prototype:void 0,Iy=Ry?Ry.valueOf:void 0;function O6(e){return Iy?Object(Iy.call(e)):{}}var M6=O6,$6=Ah;function A6(e,t){var r=t?$6(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var D6=A6,L6=Ah,R6=E6,I6=P6,F6=M6,U6=D6,z6="[object Boolean]",W6="[object Date]",Y6="[object Map]",H6="[object Number]",B6="[object RegExp]",V6="[object Set]",G6="[object String]",q6="[object Symbol]",K6="[object ArrayBuffer]",X6="[object DataView]",Q6="[object Float32Array]",Z6="[object Float64Array]",J6="[object Int8Array]",eU="[object Int16Array]",tU="[object Int32Array]",rU="[object Uint8Array]",nU="[object Uint8ClampedArray]",sU="[object Uint16Array]",aU="[object Uint32Array]";function iU(e,t,r){var n=e.constructor;switch(t){case K6:return L6(e);case z6:case W6:return new n(+e);case X6:return R6(e,r);case Q6:case Z6:case J6:case eU:case tU:case rU:case nU:case sU:case aU:return U6(e,r);case Y6:return new n;case H6:case G6:return new n(e);case B6:return I6(e);case V6:return new n;case q6:return F6(e)}}var oU=iU,lU=qn,Fy=Object.create,cU=function(){function e(){}return function(t){if(!lU(t))return{};if(Fy)return Fy(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Q1=cU,uU=Q1,dU=ed,fU=Eh;function pU(e){return typeof e.constructor=="function"&&!fU(e)?uU(dU(e)):{}}var mU=pU,hU=qu,gU=Ps,vU="[object Map]";function yU(e){return gU(e)&&hU(e)==vU}var xU=yU,bU=xU,wU=Gu,Uy=jh,zy=Uy&&Uy.isMap,SU=zy?wU(zy):bU,_U=SU,NU=qu,jU=Ps,kU="[object Set]";function EU(e){return jU(e)&&NU(e)==kU}var CU=EU,TU=CU,PU=Gu,Wy=jh,Yy=Wy&&Wy.isSet,OU=Yy?PU(Yy):TU,MU=OU,$U=wh,AU=G1,DU=q1,LU=VF,RU=XF,IU=QF,FU=JF,UU=n6,zU=h6,WU=P1,YU=X1,HU=qu,BU=_6,VU=oU,GU=mU,qU=Fr,KU=Vu,XU=_U,QU=qn,ZU=MU,JU=al,ez=Ju,tz=1,rz=2,nz=4,Z1="[object Arguments]",sz="[object Array]",az="[object Boolean]",iz="[object Date]",oz="[object Error]",J1="[object Function]",lz="[object GeneratorFunction]",cz="[object Map]",uz="[object Number]",eS="[object Object]",dz="[object RegExp]",fz="[object Set]",pz="[object String]",mz="[object Symbol]",hz="[object WeakMap]",gz="[object ArrayBuffer]",vz="[object DataView]",yz="[object Float32Array]",xz="[object Float64Array]",bz="[object Int8Array]",wz="[object Int16Array]",Sz="[object Int32Array]",_z="[object Uint8Array]",Nz="[object Uint8ClampedArray]",jz="[object Uint16Array]",kz="[object Uint32Array]",ze={};ze[Z1]=ze[sz]=ze[gz]=ze[vz]=ze[az]=ze[iz]=ze[yz]=ze[xz]=ze[bz]=ze[wz]=ze[Sz]=ze[cz]=ze[uz]=ze[eS]=ze[dz]=ze[fz]=ze[pz]=ze[mz]=ze[_z]=ze[Nz]=ze[jz]=ze[kz]=!0;ze[oz]=ze[J1]=ze[hz]=!1;function pc(e,t,r,n,s,a){var i,c=t&tz,l=t&rz,u=t&nz;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!QU(e))return e;var d=qU(e);if(d){if(i=BU(e),!c)return FU(e,i)}else{var p=HU(e),f=p==J1||p==lz;if(KU(e))return IU(e,c);if(p==eS||p==Z1||f&&!s){if(i=l||f?{}:GU(e),!c)return l?zU(e,RU(i,e)):UU(e,LU(i,e))}else{if(!ze[p])return s?e:{};i=VU(e,p,c)}}a||(a=new $U);var y=a.get(e);if(y)return y;a.set(e,i),ZU(e)?e.forEach(function(w){i.add(pc(w,t,r,w,e,a))}):XU(e)&&e.forEach(function(w,h){i.set(h,pc(w,t,r,h,e,a))});var g=u?l?YU:WU:l?ez:JU,v=d?void 0:g(e);return AU(v||e,function(w,h){v&&(h=w,w=e[h]),DU(i,h,pc(w,t,r,h,e,a))}),i}var Ez=pc;function Cz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Tz=Cz,Pz=Xu,Oz=s1;function Mz(e,t){return t.length<2?e:Pz(e,Oz(t,0,-1))}var $z=Mz,Az=Ku,Dz=Tz,Lz=$z,Rz=il;function Iz(e,t){return t=Az(t,e),e=Lz(e,t),e==null||delete e[Rz(Dz(t))]}var Fz=Iz,Uz=mi,zz=ed,Wz=Ps,Yz="[object Object]",Hz=Function.prototype,Bz=Object.prototype,tS=Hz.toString,Vz=Bz.hasOwnProperty,Gz=tS.call(Object);function qz(e){if(!Wz(e)||Uz(e)!=Yz)return!1;var t=zz(e);if(t===null)return!0;var r=Vz.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&tS.call(r)==Gz}var Kz=qz,Xz=Kz;function Qz(e){return Xz(e)?void 0:e}var Zz=Qz,Jz=U1;function e7(e){var t=e==null?0:e.length;return t?Jz(e,1):[]}var t7=e7,r7=t7,n7=z1,s7=Y1;function a7(e){return s7(n7(e,void 0,r7),e+"")}var i7=a7,o7=Oh,l7=Ez,c7=Fz,u7=Ku,d7=ol,f7=Zz,p7=i7,m7=X1,h7=1,g7=2,v7=4,y7=p7(function(e,t){var r={};if(e==null)return r;var n=!1;t=o7(t,function(a){return a=u7(a,e),n||(n=a.length>1),a}),d7(e,m7(e),r),n&&(r=l7(r,h7|g7|v7,f7));for(var s=t.length;s--;)c7(r,t[s]);return r}),x7=y7;const b7=Yt(x7);var w7=G1,S7=Q1,_7=Mh,N7=Zu,j7=ed,k7=Fr,E7=Vu,C7=sh,T7=qn,P7=kh;function O7(e,t,r){var n=k7(e),s=n||E7(e)||P7(e);if(t=N7(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:T7(e)?r=C7(a)?S7(j7(e)):{}:r={}}return(s?w7:_7)(e,function(i,c,l){return t(r,i,c,l)}),r}var M7=O7;const $7=Yt(M7);var A7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n,s){n.prototype.isBetween=function(a,i,c,l){var u=s(a),d=s(i),p=(l=l||"()")[0]==="(",f=l[1]===")";return(p?this.isAfter(u,c):!this.isBefore(u,c))&&(f?this.isBefore(d,c):!this.isAfter(d,c))||(p?this.isBefore(u,c):!this.isAfter(u,c))&&(f?this.isAfter(d,c):!this.isBefore(d,c))}}})})(A7);var D7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(D7);var L7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(L7);var R7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n,s){var a=n.prototype,i=function(p){return p&&(p.indexOf?p:p.s)},c=function(p,f,y,g,v){var w=p.name?p:p.$locale(),h=i(w[f]),m=i(w[y]),x=h||m.map(function(b){return b.slice(0,g)});if(!v)return x;var S=w.weekStart;return x.map(function(b,k){return x[(k+(S||0))%7]})},l=function(){return s.Ls[s.locale()]},u=function(p,f){return p.formats[f]||function(y){return y.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,w){return v||w.slice(1)})}(p.formats[f.toUpperCase()])},d=function(){var p=this;return{months:function(f){return f?f.format("MMMM"):c(p,"months")},monthsShort:function(f){return f?f.format("MMM"):c(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):c(p,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):c(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):c(p,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(p.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var p=l();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return u(p,f)},meridiem:p.meridiem,ordinal:p.ordinal}},s.months=function(){return c(l(),"months")},s.monthsShort=function(){return c(l(),"monthsShort","months",3)},s.weekdays=function(p){return c(l(),"weekdays",null,null,p)},s.weekdaysShort=function(p){return c(l(),"weekdaysShort","weekdays",3,p)},s.weekdaysMin=function(p){return c(l(),"weekdaysMin","weekdays",2,p)}}})})(R7);var I7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var i=s.prototype,c=i.format;a.en.formats=r,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(p,f){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(y,g,v){var w=v&&v.toUpperCase();return g||f[v]||r[v]||f[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(h,m,x){return m||x.slice(1)})})}(l,u===void 0?{}:u);return c.call(this,d)}}})})(I7);var F7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n,s){var a=function(i,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var l;c.length===1&&c[0].length>0&&(c=c[0]),l=(c=c.filter(function(d){return d}))[0];for(var u=1;u<c.length;u+=1)c[u].isValid()&&!c[u][i](l)||(l=c[u]);return l};s.max=function(){var i=[].slice.call(arguments,0);return a("isAfter",i)},s.min=function(){var i=[].slice.call(arguments,0);return a("isBefore",i)}}})})(F7);var U7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,c){var l=i.prototype;c.utc=function(v){var w={date:v,utc:!0,args:arguments};return new i(w)},l.utc=function(v){var w=c(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),r):w},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var d=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var p=l.utcOffset;l.utcOffset=function(v,w){var h=this.$utils().u;if(h(v))return this.$u?0:h(this.$offset)?p.call(this):this.$offset;if(typeof v=="string"&&(v=function(b){b===void 0&&(b="");var k=b.match(n);if(!k)return null;var j=(""+k[0]).match(s)||["-",0,0],P=j[0],C=60*+j[1]+ +j[2];return C===0?0:P==="+"?C:-C}(v),v===null))return this;var m=Math.abs(v)<=16?60*v:v;if(m===0)return this.utc(w);var x=this.clone();if(w)return x.$offset=m,x.$u=!1,x;var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(x=this.local().add(m+S,r)).$offset=m,x.$x.$localOffset=S,x};var f=l.format;l.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,w)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var g=l.diff;l.diff=function(v,w,h){if(v&&this.$u===v.$u)return g.call(this,v,w,h);var m=this.local(),x=c(v).local();return g.call(m,x,w,h)}}})})(U7);var z7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Pr,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(z7);function cn(e){return e.children}var ir={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Ut={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Hy=Object.keys(Ut).map(function(e){return Ut[e]});ae.oneOfType([ae.string,ae.func]);ae.any;ae.func;ae.oneOfType([ae.arrayOf(ae.oneOf(Hy)),ae.objectOf(function(e,t){var r=Hy.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return ae.elementType.apply(ae,[e,t].concat(s))})]);ae.oneOfType([ae.oneOf(["overlap","no-overlap"]),ae.func]);var By={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function rS(e,t){var r=kt(e,"month");return kt(r,"week",t.startOfWeek())}function nS(e,t){var r=eu(e,"month");return eu(r,"week",t.startOfWeek())}function W7(e,t){for(var r=rS(e,t),n=nS(e,t),s=[];di(r,n,"day");)s.push(r),r=tn(r,1,"day");return s}function Y7(e,t){var r=kt(e,t);return Qo(r,e)?r:tn(r,1,t)}function H7(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];di(n,t,r);)s.push(n),n=tn(n,1,r);return s}function B7(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=kt(e,"day"),e=Do(e,Do(t)),e=Ja(e,Ja(t)),e=Ao(e,Ao(t)),$o(e,$o(t)))}function Vy(e){return Do(e)===0&&Ja(e)===0&&Ao(e)===0&&$o(e)===0}function V7(e,t,r,n){return r==="day"&&(r="date"),Math.abs(Cv[r](e,void 0,n)-Cv[r](t,void 0,n))}function Dh(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+kt(e,r)/By[r]-+kt(t,r)/By[r]))}var G7=ae.oneOfType([ae.string,ae.func]);function q7(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return Eo(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function K7(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Lh(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function X7(e,t){return Dh(e,t,"minutes")+Lh(e,t)}function Q7(e){var t=kt(e,"day");return Dh(t,e,"minutes")+Lh(t,e)}function Z7(e,t){return nh(e,t,"day")}function J7(e,t,r){var n=Qo(e,t,"minutes");return n?Zo(t,r,"minutes"):Fu(t,r,"minutes")}function jp(e,t){return V7(e,t,"day")}function eW(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,c=a.end,l=a.allDay,u=+kt(r,"day")-+kt(i,"day"),d=jp(r,n),p=jp(i,c);return u||p-d||!!l-!!s||+r-+i||+n-+c}function tW(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,c=kt(r,"day"),l=di(c,i,"day"),u=rh(c,n,"minutes"),d=u?Fu(n,a,"minutes"):Zo(n,a,"minutes");return l&&d}function rW(e,t){return Qo(e,t,"day")}function nW(e,t){return Vy(e)&&Vy(t)}var sW=vt(function e(t){var r=this;gt(this,e),Eo(typeof t.format=="function","date localizer `format(..)` must be a function"),Eo(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||G7,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return q7.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||B7,this.inRange=t.inRange||Jw,this.lt=t.lt||nh,this.lte=t.lte||di,this.gt=t.gt||Fu,this.gte=t.gte||Zo,this.eq=t.eq||Qo,this.neq=t.neq||rh,this.startOf=t.startOf||kt,this.endOf=t.endOf||eu,this.add=t.add||tn,this.range=t.range||H7,this.diff=t.diff||Dh,this.ceil=t.ceil||Y7,this.min=t.min||Qw,this.max=t.max||Zw,this.minutes=t.minutes||Ja,this.daySpan=t.daySpan||jp,this.firstVisibleDay=t.firstVisibleDay||rS,this.lastVisibleDay=t.lastVisibleDay||nS,this.visibleDays=t.visibleDays||W7,this.getSlotDate=t.getSlotDate||K7,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Lh,this.getTotalMin=t.getTotalMin||X7,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Q7,this.continuesPrior=t.continuesPrior||Z7,this.continuesAfter=t.continuesAfter||J7,this.sortEvents=t.sortEvents||eW,this.inEventRange=t.inEventRange||tW,this.isSameDate=t.isSameDate||rW,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||nW,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function aW(e,t,r,n){var s=Ie(Ie({},e.formats),r);return Ie(Ie({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,c){return e.format(i,s[c]||c,t)}})}var iW=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,ir.TODAY)},s.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,ir.PREVIOUS)},s.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,ir.NEXT)},s.next)),D.createElement("span",{className:"rbc-toolbar-label"},a),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,i=this.props.view;if(a.length>1)return a.map(function(c){return D.createElement("button",{type:"button",key:c,className:rt({"rbc-active":i===c}),onClick:s.view.bind(null,c)},n[c])})}}])}(D.Component);function Be(e,t){e&&e.apply(null,[].concat(t))}var oW={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function lW(e){return Ie(Ie({},oW),e)}function cW(e){var t=e.ref,r=e.callback;_.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var uW=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],sS=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,c=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,p=n.onKeyPress,f=n.localizer,y=n.continuesPrior,g=n.continuesAfter,v=n.accessors,w=n.getters,h=n.children,m=n.components,x=m.event,S=m.eventWrapper,b=n.slotStart,k=n.slotEnd,j=vn(n,uW);delete j.resizable;var P=v.title(i),C=v.tooltip(i),L=v.end(i),U=v.start(i),G=v.allDay(i),X=l||G||f.diff(U,f.ceil(L,"day"),"day")>1,$=w.eventProp(i,U,L,c),A=D.createElement("div",{className:"rbc-event-content",title:C||void 0},x?D.createElement(x,{event:i,continuesPrior:y,continuesAfter:g,title:P,isAllDay:G,localizer:f,slotStart:b,slotEnd:k}):P);return D.createElement(S,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},j,{style:Ie(Ie({},$.style),s),className:rt("rbc-event",a,$.className,{"rbc-selected":c,"rbc-event-allday":X,"rbc-event-continues-prior":y,"rbc-event-continues-after":g}),onClick:function(V){return u&&u(i,V)},onDoubleClick:function(V){return d&&d(i,V)},onKeyDown:function(V){return p&&p(i,V)}}),typeof h=="function"?h(A):A))}}])}(D.Component);function td(e,t){return!e||t==null?!1:CR(e,t)}function aS(e,t){var r=e.right-e.left,n=r/t;return n}function iS(e,t,r,n){var s=aS(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function dW(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function fW(e,t,r,n,s){var a=-1,i=-1,c=n-1,l=aS(t,n),u=iS(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,p=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,y=t.top>e.y,g=r.top<t.top&&r.bottom>t.bottom;return g&&(a=0,i=c),d&&(y?(a=0,i=u):f&&(a=u,i=c)),p&&(a=i=s?c-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<a?a=u:i=u:e.y<r.y?i=c:a=0),{startIdx:a,endIdx:i}}function pW(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=Vs(t),i=a.top,c=a.left,l=a.width,u=a.height,d=Vs(n),p=d.top,f=d.left,y=d.width,g=d.height,v=Vs(s),w=v.width,h=v.height,m=p+g,x=f+y,S=i+h,b=c+w,k=r.x,j=r.y,P=S>m?i-h-j:i+j+u,C=b>x?c+k-w+l:c+k;return{topOffset:P,leftOffset:C}}function mW(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,i=e.localizer,c=e.position,l=e.show,u=e.events,d=e.slotStart,p=e.slotEnd,f=e.onSelect,y=e.onDoubleClick,g=e.onKeyPress,v=e.handleDragStart,w=e.popperRef,h=e.target,m=e.offset;cW({ref:w,callback:l}),_.useLayoutEffect(function(){var b=pW({target:h,offset:m,container:t.current,box:w.current}),k=b.topOffset,j=b.leftOffset;w.current.style.top="".concat(k,"px"),w.current.style.left="".concat(j,"px")},[m.x,m.y,h]);var x=c.width,S={minWidth:x+x/2};return D.createElement("div",{style:S,className:"rbc-overlay",ref:w},D.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(b,k){return D.createElement(sS,{key:k,type:"popup",localizer:i,event:b,getters:n,onSelect:f,accessors:r,components:a,onDoubleClick:y,onKeyPress:g,continuesPrior:i.lt(r.end(b),d,"day"),continuesAfter:i.gte(r.start(b),p,"day"),slotStart:d,slotEnd:p,selected:td(b,s),draggable:!0,onDragStart:function(){return v(b)},onDragEnd:function(){return l()}})}))}var oS=D.forwardRef(function(e,t){return D.createElement(mW,Object.assign({},e,{popperRef:t}))});oS.propTypes={accessors:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,components:ae.object.isRequired,localizer:ae.object.isRequired,position:ae.object.isRequired,show:ae.func.isRequired,events:ae.array.isRequired,slotStart:ae.instanceOf(Date).isRequired,slotEnd:ae.instanceOf(Date),onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func,handleDragStart:ae.func,style:ae.object,offset:ae.shape({x:ae.number,y:ae.number})};function hW(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,i=e.localizer,c=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,p=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,y=e.handleDragStart,g=e.onHide,v=e.overlayDisplay,w=_.useRef(null);if(!s.position)return null;var h=n;isNaN(n)||(h={x:n,y:n});var m=s.position,x=s.events,S=s.date,b=s.end;return D.createElement(yh,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:s.target},function(k){var j=k.props;return D.createElement(oS,Object.assign({},j,{containerRef:t,ref:w,target:s.target,offset:h,accessors:a,getters:l,selected:u,components:c,localizer:i,position:m,show:v,events:x,slotStart:S,slotEnd:b,onSelect:d,onDoubleClick:p,onKeyPress:f,handleDragStart:y}))})}var Rh=D.forwardRef(function(e,t){return D.createElement(hW,Object.assign({},e,{containerRef:t}))});Rh.propTypes={popupOffset:ae.oneOfType([ae.number,ae.shape({x:ae.number,y:ae.number})]),overlay:ae.shape({position:ae.object,events:ae.array,date:ae.instanceOf(Date),end:ae.instanceOf(Date)}),accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,handleSelectEvent:ae.func,handleDoubleClickEvent:ae.func,handleKeyPressEvent:ae.func,handleDragStart:ae.func,onHide:ae.func,overlayDisplay:ae.func};function Ot(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Bi(r,e,t,{passive:!1})}function gW(e,t,r){return!e||Lo(e,document.elementFromPoint(t,r))}function vW(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return $1(s,".rbc-event",e)}function yW(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return $1(s,".rbc-show-more",e)}function ou(e,t){return!!vW(e,t)}function xW(e,t){return!!yW(e,t)}function Ui(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Gy=5,bW=250,lS=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,c=r.validContainers,l=c===void 0?[]:c;gt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ot("touchmove",function(){},window),this._removeKeyDownListener=Ot("keydown",this._keyListener),this._removeKeyUpListener=Ot("keyup",this._keyListener),this._removeDropFromOutsideListener=Ot("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ot("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return vt(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,c=this._listeners[r]||[];return c.forEach(function(l){i===void 0&&(i=l.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:qy(n,aa(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,c=null,l=function(f){a=setTimeout(function(){d(),r(f)},s.longPressThreshold),i=Ot("touchmove",function(){return d()}),c=Ot("touchend",function(){return d()})},u=Ot("touchstart",l),d=function(){a&&clearTimeout(a),i&&i(),c&&c(),a=null,i=null,c=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Ot("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Ot("mousedown",r._handleInitialEvent)}),s=Ot("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Ui(r),s=n.pageX,a=n.pageY,i=n.clientX,c=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:c}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Ui(r),s=n.pageX,a=n.pageY,i=n.clientX,c=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:c}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Ui(r),s=n.clientX,a=n.clientY,i=n.pageX,c=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!gW(l,s,a))){if(!this.globalMouse&&l&&!Lo(l,r.target)){var p=wW(0),f=p.top,y=p.left,g=p.bottom,v=p.right;if(d=aa(l),u=qy({top:d.top-f,left:d.left-y,bottom:d.bottom+g,right:d.right+v},{top:c,left:i}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:c,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ot("mouseup",this._handleTerminatingEvent),this._onEscListener=Ot("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ot("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ot("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ot("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||Lo(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Ui(r),s=n.pageX,a=n.pageY,i=n.clientX,c=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<bW?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:c})):(this._lastClickData={timestamp:l},this.emit("click",{x:s,y:a,clientX:i,clientY:c}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=Ui(r),c=i.pageX,l=i.pageY,u=Math.abs(s-c),d=Math.abs(a-l),p=Math.min(c,s),f=Math.min(l,a),y=this.selecting,g=this.isClick(c,l);g&&!y&&!(u||d)||(!y&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:f,left:p,x:c,y:l,right:p+u,bottom:f+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,c=s.isTouch;return!c&&Math.abs(r-a)<=Gy&&Math.abs(n-i)<=Gy}}])}();function wW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Yn(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function qy(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=aa(e),s=n.top,a=n.left,i=n.right,c=i===void 0?a:i,l=n.bottom,u=l===void 0?s:l,d=aa(t),p=d.top,f=d.left,y=d.right,g=y===void 0?f:y,v=d.bottom,w=v===void 0?p:v;return!(u-r<p||s+r>w||c-r<f||a+r>g)}function aa(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Ky("left"),n=t.top+Ky("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Ky(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var SW=function(e){function t(r,n){var s;return gt(this,t),s=Dt(this,t,[r,n]),s.state={selecting:!1},s.containerRef=_.createRef(),s}return Lt(t,e),vt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,i=n.getters,c=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,p=d.selecting,f=d.startIdx,y=d.endIdx,g=a();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(v,w){var h=p&&w>=f&&w<=y,m=i.dayProp(v),x=m.className,S=m.style;return D.createElement(l,{key:w,value:v,range:s},D.createElement("div",{style:S,className:rt("rbc-day-bg",x,h&&"rbc-selected-cell",u.isSameDate(v,g)&&"rbc-today",c&&u.neq(c,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new lS(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(l,u){if(!ou(s,l)&&!xW(s,l)){var d=aa(s),p=n.props,f=p.range,y=p.rtl;if(dW(d,l)){var g=iS(d,l.x,y,f.length);n._selectSlot({startIdx:g,endIdx:g,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(c){var l=n.props,u=l.range,d=l.rtl,p=-1,f=-1;if(n.state.selecting||(Be(n.props.onSelectStart,[c]),n._initial={x:c.x,y:c.y}),a.isSelected(s)){var y=aa(s),g=fW(n._initial,y,c,u.length,d);p=g.startIdx,f=g.endIdx}n.setState({selecting:!0,startIdx:p,endIdx:f})}),a.on("beforeSelect",function(c){if(n.props.selectable==="ignoreEvents")return!ou(n.containerRef.current,c)}),a.on("click",function(c){return i(c,"click")}),a.on("doubleClick",function(c){return i(c,"doubleClick")}),a.on("select",function(c){n._selectSlot(Ie(Ie({},n.state),{},{action:"select",bounds:c})),n._initial={},n.setState({selecting:!1}),Be(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,i=n.action,c=n.bounds,l=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:i,bounds:c,box:l,resourceId:this.props.resourceId})}}])}(D.Component),jr={propTypes:{slotMetrics:ae.object.isRequired,selected:ae.object,isAllDay:ae.bool,accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,c=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,p=t.components,f=t.resizable,y=d.continuesPrior(r),g=d.continuesAfter(r);return D.createElement(sS,{event:r,getters:a,localizer:u,accessors:s,components:p,onSelect:i,onDoubleClick:c,onKeyPress:l,continuesPrior:y,continuesAfter:g,slotStart:d.first,slotEnd:d.last,selected:td(r,n),resizable:f})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return D.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},cS=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,c=s.className,l=1;return D.createElement("div",{className:rt(c,"rbc-row")},a.reduce(function(u,d,p){var f=d.event,y=d.left,g=d.right,v=d.span,w="_lvl_"+p,h=y-l,m=jr.renderEvent(n.props,f);return h&&u.push(jr.renderSpan(i,h,"".concat(w,"_gap"))),u.push(jr.renderSpan(i,v,w,m)),l=g+1,u},[]))}}])}(D.Component);cS.defaultProps=Ie({},jr.defaultProps);function uS(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function _W(e,t,r,n){var s=uS({dateRange:t,localizer:n}),a=s.first,i=s.last,c=n.diff(a,i,"day"),l=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=E5(t,function(f){return n.isSameDate(f,l)}),p=n.diff(l,u,"day");return p=Math.min(p,c),p=Math.max(p-n.segmentOffset,1),{event:e,span:p,left:d+1,right:Math.max(d+p,1)}}function kp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&NW(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(c,l){return c.left-l.left});return{levels:a,extra:i}}function Fo(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function NW(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function jW(e,t,r){var n=dc(e),s=[],a=[];n.forEach(function(l){var u=t.start(l),d=t.end(l);r.daySpan(u,d)>1?s.push(l):a.push(l)});var i=s.sort(function(l,u){return Ep(l,u,t,r)}),c=a.sort(function(l,u){return Ep(l,u,t,r)});return[].concat(dc(i),dc(c))}function Ep(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var Cp=function(t,r){return t.left<=r&&t.right>=r},ef=function(t,r){return t.filter(function(n){return Cp(n,r)}).map(function(n){return n.event})},dS=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,i=kp(s).levels[0],c=1,l=1,u=[];c<=a;){var d="_lvl_"+c,p=i.filter(function(S){return Cp(S,c)})[0]||{},f=p.event,y=p.left,g=p.right,v=p.span;if(!f){var w=this.getHiddenEventsForSlot(s,c);if(w.length>0){var h=c-l;h&&u.push(jr.renderSpan(a,h,d+"_gap")),u.push(jr.renderSpan(a,1,d,this.renderShowMore(s,c))),l=c=c+1;continue}c++;continue}var m=Math.max(0,y-l);if(this.canRenderSlotEvent(y,v)){var x=jr.renderEvent(this.props,f);m&&u.push(jr.renderSpan(a,m,d+"_gap")),u.push(jr.renderSpan(a,v,d,x)),l=c=g+1}else m&&u.push(jr.renderSpan(a,m,d+"_gap")),u.push(jr.renderSpan(a,1,d,this.renderShowMore(s,c))),l=c=c+1}return D.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=ef(n,s),i=kp(n).levels[0],c=i.filter(function(l){return Cp(l,s)}).map(function(l){return l.event});return a.filter(function(l){return!c.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return F5(n,n+s).every(function(i){var c=ef(a,i).length;return c===1})}},{key:"renderShowMore",value:function(n,s){var a=this,i=this.props,c=i.localizer,l=i.slotMetrics,u=i.components,d=l.getEventsForSlot(s),p=ef(n,s),f=p.length;if(u!=null&&u.showMore){var y=u.showMore,g=l.getDateForSlot(s-1);return f?D.createElement(y,{localizer:c,slotDate:g,slot:s,count:f,events:d,remainingEvents:p}):!1}return f?D.createElement("button",{type:"button",key:"sm_"+s,className:rt("rbc-button-link","rbc-show-more"),onClick:function(w){return a.showMore(s,w)}},c.messages.showMore(f,p,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(D.Component);dS.defaultProps=Ie({},jr.defaultProps);var kW=function(t){var r=t.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},r)},EW=function(t,r){return t.left<=r&&t.right>=r},CW=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function fS(){return I1(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,c=uS({dateRange:t,localizer:i}),l=c.first,u=c.last,d=r.map(function(v){return _W(v,t,a,i)}),p=kp(d,Math.max(n-1,1)),f=p.levels,y=p.extra,g=y.length>0?s-1:s;f.length<g;)f.push([]);return{first:l,last:u,levels:f,extra:y,range:t,slots:t.length,clone:function(w){var h=fS();return h(Ie(Ie({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(h){return i.isSameDate(h,w)})},getEventsForSlot:function(w){return d.filter(function(h){return EW(h,w)}).map(function(h){return h.event})},continuesPrior:function(w){return i.continuesPrior(a.start(w),l)},continuesAfter:function(w){var h=a.start(w),m=a.end(w);return i.continuesAfter(h,m,u)}}},CW)}var Uo=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.handleSelectSlot=function(i){var c=r.props,l=c.range,u=c.onSelectSlot;u(l.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,c){var l=r.props,u=l.range,d=l.onShowMore,p=r.slotMetrics(r.props),f=EO(r.containerRef.current,".rbc-row-bg")[0],y;f&&(y=f.children[i-1]);var g=p.getEventsForSlot(i);d(g,u[i-1],y,i,c)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,c){var l=r.props,u=l.renderHeader,d=l.getNow,p=l.localizer;return u({date:i,key:"header_".concat(c),className:rt("rbc-date-cell",p.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,c=i.className,l=i.range,u=i.renderHeader,d=i.showAllEvents;return D.createElement("div",{className:c,ref:r.containerRef},D.createElement("div",{className:rt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&D.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:r.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=_.createRef(),r.headingRowRef=_.createRef(),r.eventRowRef=_.createRef(),r.slotMetrics=fS(),r}return Lt(t,e),vt(t,[{key:"getRowLimit",value:function(){var n,s=Qd(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Qd(this.headingRowRef.current):0,i=Qd(this.containerRef.current)-a;return Math.max(Math.floor(i/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,i=n.range,c=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,p=n.accessors,f=n.getters,y=n.components,g=n.getNow,v=n.renderHeader,w=n.onSelect,h=n.localizer,m=n.onSelectStart,x=n.onSelectEnd,S=n.onDoubleClick,b=n.onKeyPress,k=n.resourceId,j=n.longPressThreshold,P=n.isAllDay,C=n.resizable,L=n.showAllEvents;if(d)return this.renderDummy();var U=this.slotMetrics(this.props),G=U.levels,X=U.extra,$=L?kW:cn,A=y.weekWrapper,z={selected:l,accessors:p,getters:f,localizer:h,components:y,onSelect:w,onDoubleClick:S,onKeyPress:b,resourceId:k,slotMetrics:U,resizable:C};return D.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},D.createElement(SW,{localizer:h,date:s,getNow:g,rtl:a,range:i,selectable:u,container:this.getContainer,getters:f,onSelectStart:m,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:y,longPressThreshold:j,resourceId:k}),D.createElement("div",{className:rt("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},v&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),D.createElement($,null,D.createElement(A,Object.assign({isAllDay:P},z,{rtl:this.props.rtl}),G.map(function(V,I){return D.createElement(cS,Object.assign({key:I,segments:V},z))}),!!X.length&&D.createElement(dS,Object.assign({segments:X,onShowMore:this.handleShowMore},z))))))}}])}(D.Component);Uo.defaultProps={minRows:0,maxRows:1/0};var Ih=function(t){var r=t.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},r)},TW=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):D.createElement("span",null,r)},PW=["date","className"],OW=function(t,r,n,s,a){return t.filter(function(i){return Fo(i,r,n,s,a)})},rd=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,c){var l=r.props,u=l.events,d=l.components,p=l.selectable,f=l.getNow,y=l.selected,g=l.date,v=l.localizer,w=l.longPressThreshold,h=l.accessors,m=l.getters,x=l.showAllEvents,S=r.state,b=S.needLimitMeasure,k=S.rowLimit,j=OW(dc(u),i[0],i[i.length-1],h,v),P=jW(j,h,v);return D.createElement(Uo,{key:c,ref:c===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:f,date:g,range:i,events:P,maxRows:x?1/0:k,selected:y,selectable:p,components:d,accessors:h,getters:m,localizer:v,renderHeader:r.readerDateHeading,renderForMeasure:b,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:x})},r.readerDateHeading=function(i){var c=i.date,l=i.className,u=vn(i,PW),d=r.props,p=d.date,f=d.getDrilldownView,y=d.localizer,g=y.neq(p,c,"month"),v=y.isSameDate(c,p),w=f(c),h=y.format(c,"dateFormat"),m=r.props.components.dateHeader||TW;return D.createElement("div",Object.assign({},u,{className:rt(l,g&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),D.createElement(m,{label:h,date:c,drilldownView:w,isOffRange:g,onDrillDown:function(S){return r.handleHeadingClick(c,w,S)}}))},r.handleSelectSlot=function(i,c){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(c)})},r.handleHeadingClick=function(i,c,l){l.preventDefault(),r.clearSelection(),Be(r.props.onDrillDown,[i,c])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onKeyPressEvent,c)},r.handleShowMore=function(i,c,l,u,d){var p=r.props,f=p.popup,y=p.onDrillDown,g=p.onShowMore,v=p.getDrilldownView,w=p.doShowMoreDrillDown;if(r.clearSelection(),f){var h=f1(l,r.containerRef.current);r.setState({overlay:{date:c,events:i,position:h,target:d}})}else w&&Be(y,[c,v(c)||Ut.DAY]);Be(g,[i,c,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=_.createRef(),r.slotRowRef=_.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Lt(t,e),vt(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||p1(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.className,c=a.visibleDays(s,a),l=dO(c,7);return this._weekCount=l.length,D.createElement("div",{className:rt("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,i=s.components,c=n[0],l=n[n.length-1],u=i.header||Ih;return a.range(c,l,"day").map(function(d,p){return D.createElement("div",{key:"header_"+p,className:"rbc-header"},D.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,p=c.getters,f=c.selected,y=c.popupOffset,g=c.handleDragStart,v=function(){return a.setState({overlay:null})};return D.createElement(Rh,{overlay:i,accessors:l,localizer:u,components:d,getters:p,selected:f,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(c,l){return+c-+l});var a=new Date(s[0]),i=new Date(s[s.length-1]);i.setDate(s[s.length-1].getDate()+1),Be(this.props.onSelectSlot,{slots:s,start:a,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,i=n.localizer;return{date:a,needLimitMeasure:i.neq(a,s.date,"month")}}}])}(D.Component);rd.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};rd.navigate=function(e,t,r){var n=r.localizer;switch(t){case ir.PREVIOUS:return n.add(e,-1,"month");case ir.NEXT:return n.add(e,1,"month");default:return e}};rd.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Xy=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function Fh(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=Xy({step:n,localizer:a}),c=1+a.getTotalMin(t,r),l=a.getMinutesFromMidnight(t),u=Math.ceil((c-1)/(n*s)),d=u*s,p=new Array(u),f=new Array(d),y=0;y<u;y++){p[y]=new Array(s);for(var g=0;g<s;g++){var v=y*s+g,w=v*n;f[v]=p[y][g]=a.getSlotDate(t,l,w)}}var h=f.length*n;f.push(a.getSlotDate(t,l,h));function m(x){var S=a.diff(t,x,"minutes")+a.getDstOffset(t,x);return Math.min(S,c)}return{groups:p,update:function(S){return Xy(S)!==i?Fh(S):this},dateIsInGroup:function(S,b){var k=p[b+1];return a.inRange(S,p[b][0],k?k[0]:r,"minutes")},nextSlot:function(S){var b=f[Math.min(f.findIndex(function(k){return k===S||a.eq(k,S)})+1,f.length-1)];return a.eq(b,S)&&(b=a.add(S,n,"minutes")),b},closestSlotToPosition:function(S){var b=Math.min(f.length-1,Math.max(0,Math.floor(S*d)));return f[b]},closestSlotFromPoint:function(S,b){var k=Math.abs(b.top-b.bottom);return this.closestSlotToPosition((S.y-b.top)/k)},closestSlotFromDate:function(S){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(S,t,"minutes"))return f[0];if(a.gt(S,r,"minutes"))return f[f.length-1];var k=a.diff(t,S,"minutes");return f[(k-k%n)/n+b]},startsBeforeDay:function(S){return a.lt(S,t,"day")},startsAfterDay:function(S){return a.gt(S,r,"day")},startsBefore:function(S){return a.lt(a.merge(t,S),t,"minutes")},startsAfter:function(S){return a.gt(a.merge(r,S),r,"minutes")},getRange:function(S,b,k,j){k||(S=a.min(r,a.max(t,S))),j||(b=a.min(r,a.max(t,b)));var P=m(S),C=m(b),L=C>n*d&&!a.eq(r,b)?(P-n)/(n*d)*100:P/(n*d)*100;return{top:L,height:C/(n*d)*100-L,start:m(S),startDate:S,end:m(b),endDate:b}},getCurrentTimePosition:function(S){var b=m(S),k=b/(n*d)*100;return k}}}var MW=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;gt(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,c=a.startDate,l=a.end,u=a.endDate,d=a.top,p=a.height;this.start=i,this.end=l,this.startMs=+c,this.endMs=+u,this.top=d,this.height=p,this.data=t}return vt(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,i=n.indexOf(this)+1;return s+i*a}}])}();function $W(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function AW(e){for(var t=aF(e,["startMs",function(c){return-c.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}function pS(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new MW(d,{slotMetrics:n,accessors:s})}),i=AW(a),c=[],l=function(){var p=i[u],f=c.find(function(v){return v.end>p.start||Math.abs(p.start-v.start)<r});if(!f)return p.rows=[],c.push(p),1;p.container=f;for(var y=null,g=f.rows.length-1;!y&&g>=0;g--)$W(f.rows[g],p,r)&&(y=f.rows[g]);y?(y.leaves.push(p),p.row=y):(p.leaves=[],f.rows.push(p))},u=0;u<i.length;u++)l();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function mS(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=mS(e.friends[n],t,r);t=t>s?t:s}return t}function DW(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=pS({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(A,z){return A=A.style,z=z.style,A.top!==z.top?A.top>z.top?1:-1:A.height!==z.height?A.top+A.height<z.top+z.height?1:-1:0});for(var i=0;i<a.length;++i)a[i].friends=[],delete a[i].style.left,delete a[i].style.left,delete a[i].idx,delete a[i].size;for(var c=0;c<a.length-1;++c)for(var l=a[c],u=l.style.top,d=l.style.top+l.style.height,p=c+1;p<a.length;++p){var f=a[p],y=f.style.top,g=f.style.top+f.style.height;(y>=u&&g<=d||g>u&&g<=d||y>=u&&y<d)&&(l.friends.push(f),f.friends.push(l))}for(var v=0;v<a.length;++v){for(var w=a[v],h=[],m=0;m<100;++m)h.push(1);for(var x=0;x<w.friends.length;++x)w.friends[x].idx!==void 0&&(h[w.friends[x].idx]=0);w.idx=h.indexOf(1)}for(var S=0;S<a.length;++S){var b=0;if(!a[S].size){var k=[],j=mS(a[S],0,k);b=100/(j+1),a[S].size=b;for(var P=0;P<k.length;++P)k[P].size=b}}for(var C=0;C<a.length;++C){var L=a[C];L.style.left=L.idx*L.size;for(var U=0,G=0;G<L.friends.length;++G){var X=L.friends[G].idx;U=U>X?U:X}U<=L.idx&&(L.size=100-L.idx*L.size);var $=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat($,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat($,"px)")}return a}var Qy={overlap:pS,"no-overlap":DW};function LW(e){return!!(e&&e.constructor&&e.call&&e.apply)}function RW(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in Qy&&(r=Qy[t]),LW(r)?r.apply(this,arguments):[]}var hS=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,i=n.group,c=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,p=d===void 0?cn:d,f=c?c.slotGroupProp(i):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),i.map(function(y,g){var v=c?c.slotProp(y,a):{};return D.createElement(p,{key:g,value:y,resource:a},D.createElement("div",Object.assign({},v,{className:rt("rbc-time-slot",v.className)}),s&&s(y,g)))}))}}])}(_.Component);function Bl(e){return typeof e=="string"?e:e+"%"}function IW(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,c=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,p=e.onClick,f=e.onDoubleClick,y=e.isBackgroundEvent,g=e.onKeyPress,v=e.components,w=v.event,h=v.eventWrapper,m=s.title(n),x=s.tooltip(n),S=s.end(n),b=s.start(n),k=d.eventProp(n,b,S,i),j=[D.createElement("div",{key:"1",className:"rbc-event-label"},c),D.createElement("div",{key:"2",className:"rbc-event-content"},w?D.createElement(w,{event:n,title:m}):m)],P=t.height,C=t.top,L=t.width,U=t.xOffset,G=Ie(Ie({},k.style),{},Is({top:Bl(C),height:Bl(P),width:Bl(L)},a?"right":"left",Bl(U)));return D.createElement(h,Object.assign({type:"time"},e),D.createElement("div",{role:"button",tabIndex:0,onClick:p,onDoubleClick:f,style:G,onKeyDown:g,title:x?(typeof c=="string"?c+": ":"")+x:void 0,className:rt(y?"rbc-background-event":"rbc-event",r,k.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},j))}var FW=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return D.createElement("div",{className:n,style:s,ref:a},r)},UW=D.forwardRef(function(e,t){return D.createElement(FW,Object.assign({},e,{innerRef:t}))}),zW=["dayProp"],WW=["eventContainerWrapper","timeIndicatorWrapper"],gS=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var c=i.events,l=i.isBackgroundEvent,u=r.props,d=u.rtl,p=u.selected,f=u.accessors,y=u.localizer,g=u.getters,v=u.components,w=u.step,h=u.timeslots,m=u.dayLayoutAlgorithm,x=u.resizable,S=r,b=S.slotMetrics,k=y.messages,j=RW({events:c,accessors:f,slotMetrics:b,minimumStartDifference:Math.ceil(w*h/2),dayLayoutAlgorithm:m});return j.map(function(P,C){var L,U=P.event,G=P.style,X=f.end(U),$=f.start(U),A=(L=f.eventId(U))!==null&&L!==void 0?L:"evt_"+C,z="eventTimeRangeFormat",V,I=b.startsBeforeDay($),R=b.startsAfterDay(X);I?z="eventTimeRangeEndFormat":R&&(z="eventTimeRangeStartFormat"),I&&R?V=k.allDay:V=y.format({start:$,end:X},z);var H=I||b.startsBefore($),O=R||b.startsAfter(X);return D.createElement(IW,{style:G,event:U,label:V,key:A,getters:g,rtl:d,components:v,continuesPrior:H,continuesAfter:O,accessors:f,resource:r.props.resource,selected:td(U,p),onClick:function(W){return r._select(Ie(Ie(Ie({},U),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),W)},onDoubleClick:function(W){return r._doubleClick(U,W)},isBackgroundEvent:l,onKeyPress:function(W){return r._keyPress(U,W)},resizable:x})})},r._selectable=function(){var i=r.containerRef.current,c=r.props,l=c.longPressThreshold,u=c.localizer,d=r._selector=new lS(function(){return i},{longPressThreshold:l}),p=function(v){var w=r.props.onSelecting,h=r.state||{},m=f(v),x=m.startDate,S=m.endDate;w&&(u.eq(h.startDate,x,"minutes")&&u.eq(h.endDate,S,"minutes")||w({start:x,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==m.start||r.state.end!==m.end||r.state.selecting!==m.selecting)&&r.setState(m)},f=function(v){var w=r.slotMetrics.closestSlotFromPoint(v,aa(i));r.state.selecting||(r._initialSlot=w);var h=r._initialSlot;u.lte(h,w)?w=r.slotMetrics.nextSlot(w):u.gt(h,w)&&(h=r.slotMetrics.nextSlot(h));var m=r.slotMetrics.getRange(u.min(h,w),u.max(h,w));return Ie(Ie({},m),{},{selecting:!0,top:"".concat(m.top,"%"),height:"".concat(m.height,"%")})},y=function(v,w){if(!ou(r.containerRef.current,v)){var h=f(v),m=h.startDate,x=h.endDate;r._selectSlot({startDate:m,endDate:x,action:w,box:v})}r.setState({selecting:!1})};d.on("selecting",p),d.on("selectStart",p),d.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!ou(r.containerRef.current,g)}),d.on("click",function(g){return y(g,"click")}),d.on("doubleClick",function(g){return y(g,"doubleClick")}),d.on("select",function(g){r.state.selecting&&(r._selectSlot(Ie(Ie({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var c=i.startDate,l=i.endDate,u=i.action,d=i.bounds,p=i.box,f=c,y=[];r.props.localizer.lte(f,l);)y.push(f),f=new Date(+f+r.props.step*60*1e3);Be(r.props.onSelectSlot,{slots:y,start:c,end:l,resourceId:r.props.resource,action:u,bounds:d,box:p})},r._select=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onSelectEvent,c)},r._doubleClick=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onDoubleClickEvent,c)},r._keyPress=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onKeyPressEvent,c)},r.slotMetrics=Fh(r.props),r.containerRef=_.createRef(),r}return Lt(t,e),vt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,i=a.getNow,c=a.isNow,l=a.localizer,u=a.date,d=a.min,p=a.max,f=l.neq(n.getNow(),i(),"minutes");if(n.isNow!==c||f){if(this.clearTimeIndicatorInterval(),c){var y=!f&&l.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(y)}}else c&&(l.neq(n.min,d,"minutes")||l.neq(n.max,p,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,i=n.getNow,c=i();if(c>=s&&c<=a){var l=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,i=n.rtl,c=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,p=n.getters,f=p.dayProp,y=vn(p,zW),g=n.components,v=g.eventContainerWrapper,w=g.timeIndicatorWrapper,h=vn(g,WW);this.slotMetrics=this.slotMetrics.update(this.props);var m=this.slotMetrics,x=this.state,S=x.selecting,b=x.top,k=x.height,j=x.startDate,P=x.endDate,C={start:j,end:P},L=f(a,l),U=L.className,G=L.style,X={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},$=h.dayColumnWrapper||UW;return D.createElement($,{ref:this.containerRef,date:s,style:G,className:rt(U,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:m,resource:l},m.groups.map(function(A,z){return D.createElement(hS,{key:z,group:A,resource:l,getters:y,components:h})}),D.createElement(v,{localizer:d,resource:l,accessors:u,getters:y,components:h,slotMetrics:m},D.createElement("div",{className:rt("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&D.createElement("div",{className:"rbc-slot-selection",style:{top:b,height:k}},D.createElement("span",null,d.format(C,"selectRangeFormat"))),c&&this.intervalTriggered&&D.createElement(w,X,D.createElement("div",X)))}}])}(D.Component);gS.defaultProps={dragThroughEvents:!0,timeslots:2};var vS=function(t){var r=t.label;return D.createElement(D.Fragment,null,r)},YW=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.handleHeaderClick=function(i,c,l){l.preventDefault(),Be(r.props.onDrillDown,[i,c])},r.renderRow=function(i){var c=r.props,l=c.events,u=c.rtl,d=c.selectable,p=c.getNow,f=c.range,y=c.getters,g=c.localizer,v=c.accessors,w=c.components,h=c.resizable,m=v.resourceId(i),x=i?l.filter(function(S){return v.resource(S)===m}):l;return D.createElement(Uo,{isAllDay:!0,rtl:u,getNow:p,minRows:2,maxRows:r.props.allDayMaxRows+1,range:f,events:x,resourceId:m,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:v,getters:y,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:h})},r}return Lt(t,e),vt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,c=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components.header,p=d===void 0?Ih:d,f=l();return n.map(function(y,g){var v=c(y),w=i.format(y,"dayFormat"),h=u(y),m=h.className,x=h.style,S=D.createElement(p,{date:y,label:w,localizer:i});return D.createElement("div",{key:g,style:x,className:rt("rbc-header",m,i.isSameDate(y,f)&&"rbc-today")},v?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(k){return s.handleHeaderClick(y,v,k)}},S):D.createElement("span",null,S))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,i=s.rtl,c=s.resources,l=s.range,u=s.events,d=s.getNow,p=s.accessors,f=s.selectable,y=s.components,g=s.getters,v=s.scrollRef,w=s.localizer,h=s.isOverflowing,m=s.components,x=m.timeGutterHeader,S=m.resourceHeader,b=S===void 0?vS:S,k=s.resizable,j={};h&&(j[i?"marginLeft":"marginRight"]="".concat(vh()-1,"px"));var P=c.groupEvents(u);return D.createElement("div",{style:j,ref:v,className:rt("rbc-time-header",h&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},x&&D.createElement(x,null)),c.map(function(C,L){var U=Tr(C,2),G=U[0],X=U[1];return D.createElement("div",{className:"rbc-time-header-content",key:G||L},X&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},D.createElement("div",{className:"rbc-header"},D.createElement(b,{index:L,label:p.resourceTitle(X),resource:X}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),D.createElement(Uo,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:P.get(G)||[],resourceId:X&&G,className:"rbc-allday-cell",selectable:f,selected:n.props.selected,components:y,accessors:p,getters:g,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k}))}))}}])}(D.Component),HW=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.handleHeaderClick=function(i,c,l){l.preventDefault(),Be(r.props.onDrillDown,[i,c])},r}return Lt(t,e),vt(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,c=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components,p=d.header,f=p===void 0?Ih:p,y=d.resourceHeader,g=y===void 0?vS:y,v=a.resources,w=a.accessors,h=a.events,m=a.rtl,x=a.selectable,S=a.components,b=a.getters,k=a.resizable,j=l(),P=v.groupEvents(h);return n.map(function(C,L){var U=c(C),G=i.format(C,"dayFormat"),X=u(C),$=X.className,A=X.style,z=D.createElement(f,{date:C,label:G,localizer:i});return D.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:A,className:rt("rbc-header",$,i.isSameDate(C,j)&&"rbc-today")},U?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(I){return s.handleHeaderClick(C,U,I)}},z):D.createElement("span",null,z))),D.createElement("div",{className:"rbc-row"},v.map(function(V,I){var R=Tr(V,2),H=R[0],O=R[1];return D.createElement("div",{key:"resource_".concat(H,"_").concat(I),className:rt("rbc-header",$,i.isSameDate(C,j)&&"rbc-today")},D.createElement(g,{index:I,label:w.resourceTitle(O),resource:O}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(V,I){var R=Tr(V,2),H=R[0],O=R[1],F=(P.get(H)||[]).filter(function(W){return i.isSameDate(W.start,C)||i.isSameDate(W.end,C)});return D.createElement(Uo,{key:"resource_".concat(H,"_").concat(I),isAllDay:!0,rtl:m,getNow:l,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[C],events:F,resourceId:O&&H,className:"rbc-allday-cell",selectable:x,selected:s.props.selected,components:S,accessors:w,getters:b,localizer:i,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:k})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,i=n.range,c=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(vh()-1,"px")),D.createElement("div",{style:d,ref:c,className:rt("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&D.createElement(u,null)),this.renderHeaderCells(i))}}])}(D.Component);function BW(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var VW=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,i=t.localizer,c=t.getNow,l=t.resource,u=t.components,d=t.getters,p=t.gutterRef,f=u.timeGutterWrapper,y=_.useMemo(function(){return BW({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),g=y.start,v=y.end,w=_.useState(Fh({min:g,max:v,timeslots:s,step:a,localizer:i})),h=Tr(w,2),m=h[0],x=h[1];_.useEffect(function(){m&&x(m.update({min:g,max:v,timeslots:s,step:a,localizer:i}))},[g==null?void 0:g.toISOString(),v==null?void 0:v.toISOString(),s,a]);var S=_.useCallback(function(b,k){if(k)return null;var j=m.dateIsInGroup(c(),k);return D.createElement("span",{className:rt("rbc-label",j&&"rbc-now")},i.format(b,"timeGutterFormat"))},[m,i,c]);return D.createElement(f,{slotMetrics:m},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:p},m.groups.map(function(b,k){return D.createElement(hS,{key:k,group:b,resource:l,components:u,renderSlot:S,getters:d})})))},GW=D.forwardRef(function(e,t){return D.createElement(VW,Object.assign({gutterRef:t},e))}),tf={};function qW(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([tf,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var i=t.resource(a)||tf;if(Array.isArray(i))i.forEach(function(l){var u=s.get(l)||[];u.push(a),s.set(l,u)});else{var c=s.get(i)||[];c.push(a),s.set(i,c)}}),s):(s.set(tf,n),s)}}}var bi=function(e){function t(r){var n;return gt(this,t),n=Dt(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){Rv(n.rafHandle),n.rafHandle=p1(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Be(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Be(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];Be(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,i,c,l){var u=n.props,d=u.popup,p=u.onDrillDown,f=u.onShowMore,y=u.getDrilldownView,g=u.doShowMoreDrillDown;if(n.clearSelection(),d){var v=f1(i,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:Ie(Ie({},v),{},{width:"200px"}),target:l}})}else g&&Be(p,[a,y(a)||Ut.DAY]);Be(f,[s,a,c])},n.handleSelectAllDaySlot=function(s,a){var i=n.props.onSelectSlot,c=new Date(s[0]),l=new Date(s[s.length-1]);l.setDate(s[s.length-1].getDate()+1),Be(i,{slots:s,start:c,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=I1(function(s,a){return qW(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=D.createRef(),n.contentRef=D.createRef(),n.containerRef=D.createRef(),n._scrollRatio=null,n.gutterRef=_.createRef(),n}return Lt(t,e),vt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Rv(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,i,c,l,u,d,p,f){var y=this.props,g=y.min,v=y.max,w=(i.get(s)||[]).filter(function(m){return l.inRange(n,u.start(m),u.end(m),"day")}),h=(c.get(s)||[]).filter(function(m){return l.inRange(n,u.start(m),u.end(m),"day")});return D.createElement(gS,Object.assign({},this.props,{localizer:l,min:l.merge(n,g),max:l.merge(n,v),resource:a&&s,components:d,isNow:l.isSameDate(n,f),key:"".concat(s,"-").concat(n),date:n,events:w,backgroundEvents:h,dayLayoutAlgorithm:p}))}},{key:"renderResourcesFirst",value:function(n,s,a,i,c,l,u,d,p){var f=this;return s.map(function(y){var g=Tr(y,2),v=g[0],w=g[1];return n.map(function(h){return f.renderDayColumn(h,v,w,a,i,c,l,d,p,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,i,c,l,u,d,p){var f=this;return n.map(function(y){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:y},s.map(function(g){var v=Tr(g,2),w=v[0],h=v[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(h)},f.renderDayColumn(y,w,h,a,i,c,l,d,p,u))}))})}},{key:"renderEvents",value:function(n,s,a,i){var c=this.props,l=c.accessors,u=c.localizer,d=c.resourceGroupingLayout,p=c.components,f=c.dayLayoutAlgorithm,y=this.memoizedResources(this.props.resources,l),g=y.groupEvents(s),v=y.groupEvents(a);return d?this.renderRangeFirst(n,y,g,v,u,l,i,p,f):this.renderResourcesFirst(n,y,g,v,u,l,i,p,f)}},{key:"render",value:function(){var n,s=this.props,a=s.events,i=s.backgroundEvents,c=s.range,l=s.width,u=s.rtl,d=s.selected,p=s.getNow,f=s.resources,y=s.components,g=s.accessors,v=s.getters,w=s.localizer,h=s.min,m=s.max,x=s.showMultiDayTimes,S=s.longPressThreshold,b=s.resizable,k=s.resourceGroupingLayout;l=l||this.state.gutterWidth;var j=c[0],P=c[c.length-1];this.slots=c.length;var C=[],L=[],U=[];a.forEach(function(X){if(Fo(X,j,P,g,w)){var $=g.start(X),A=g.end(X);g.allDay(X)||w.startAndEndAreDateOnly($,A)||!x&&!w.isSameDate($,A)?C.push(X):L.push(X)}}),i.forEach(function(X){Fo(X,j,P,g,w)&&U.push(X)}),C.sort(function(X,$){return Ep(X,$,g,w)});var G={range:c,events:C,width:l,rtl:u,getNow:p,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(f,g),selectable:this.props.selectable,accessors:g,getters:v,components:y,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b};return D.createElement("div",{className:rt("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&k?D.createElement(HW,G):D.createElement(YW,G),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(GW,{date:j,ref:this.gutterRef,localizer:w,min:w.merge(j,h),max:w.merge(j,m),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:y,className:"rbc-time-gutter",getters:v}),this.renderEvents(c,L,U,p())))}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,p=c.getters,f=c.selected,y=c.popupOffset,g=c.handleDragStart,v=function(){return a.setState({overlay:null})};return D.createElement(Rh,{overlay:i,accessors:l,localizer:u,components:d,getters:p,selected:f,popupOffset:y,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?Np(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,i=n.scrollToTime,c=n.localizer,l=c.diff(c.merge(i,s),i,"milliseconds"),u=c.diff(s,a,"milliseconds");this._scrollRatio=l/u}}])}(_.Component);bi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var KW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],nd=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,c=i===void 0?a.startOf(new Date,"day"):i,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,p=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,g=vn(n,KW),v=t.range(s,{localizer:a});return D.createElement(bi,Object.assign({},g,{range:v,eventOffset:10,localizer:a,min:c,max:u,scrollToTime:p,enableAutoScroll:y}))}}])}(D.Component);nd.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};nd.navigate=function(e,t,r){var n=r.localizer;switch(t){case ir.PREVIOUS:return n.add(e,-1,"day");case ir.NEXT:return n.add(e,1,"day");default:return e}};nd.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var XW=["date","localizer","min","max","scrollToTime","enableAutoScroll"],js=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,c=i===void 0?a.startOf(new Date,"day"):i,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,p=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,g=vn(n,XW),v=t.range(s,this.props);return D.createElement(bi,Object.assign({},g,{range:v,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:p,enableAutoScroll:y}))}}])}(D.Component);js.defaultProps=bi.defaultProps;js.navigate=function(e,t,r){var n=r.localizer;switch(t){case ir.PREVIOUS:return n.add(e,-1,"week");case ir.NEXT:return n.add(e,1,"week");default:return e}};js.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};js.title=function(e,t){var r=t.localizer,n=js.range(e,{localizer:r}),s=B1(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var QW=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Uh(e,t){return js.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var ll=function(e){function t(){return gt(this,t),Dt(this,t,arguments)}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,c=i===void 0?a.startOf(new Date,"day"):i,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,p=d===void 0?a.startOf(new Date,"day"):d,f=n.enableAutoScroll,y=f===void 0?!0:f,g=vn(n,QW),v=Uh(s,this.props);return D.createElement(bi,Object.assign({},g,{range:v,eventOffset:15,localizer:a,min:c,max:u,scrollToTime:p,enableAutoScroll:y}))}}])}(D.Component);ll.defaultProps=bi.defaultProps;ll.range=Uh;ll.navigate=js.navigate;ll.title=function(e,t){var r=t.localizer,n=Uh(e,{localizer:r}),s=B1(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var sd=30;function ad(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,c=i===void 0?sd:i,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,p=e.selected,f=_.useRef(null),y=_.useRef(null),g=_.useRef(null),v=_.useRef(null),w=_.useRef(null);_.useEffect(function(){x()});var h=function(P,C,L){var U=r.event,G=r.date;return C=C.filter(function(X){return Fo(X,l.startOf(P,"day"),l.endOf(P,"day"),t,l)}),C.map(function(X,$){var A=t.title(X),z=t.end(X),V=t.start(X),I=a.eventProp(X,V,z,td(X,p)),R=$===0&&l.format(P,"agendaDateFormat"),H=$===0?D.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},G?D.createElement(G,{day:P,label:R}):R):!1;return D.createElement("tr",{key:L+"_"+$,className:I.className,style:I.style},H,D.createElement("td",{className:"rbc-agenda-time-cell"},m(P,X)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(F){return d&&d(X,F)},onDoubleClick:function(F){return u&&u(X,F)}},U?D.createElement(U,{event:X,title:A}):A))},[])},m=function(P,C){var L="",U=r.time,G=l.messages.allDay,X=t.end(C),$=t.start(C);return t.allDay(C)||(l.eq($,X)?G=l.format($,"agendaTimeFormat"):l.isSameDate($,X)?G=l.format({start:$,end:X},"agendaTimeRangeFormat"):l.isSameDate(P,$)?G=l.format($,"agendaTimeFormat"):l.isSameDate(P,X)&&(G=l.format(X,"agendaTimeFormat"))),l.gt(P,$,"day")&&(L="rbc-continues-prior"),l.lt(P,X,"day")&&(L+=" rbc-continues-after"),D.createElement("span",{className:L.trim()},U?D.createElement(U,{event:C,day:P,label:G}):G)},x=function(){if(w.current){var P=f.current,C=w.current.firstChild;if(C){var L=v.current.scrollHeight>v.current.clientHeight,U=[],G=U;U=[Np(C.children[0]),Np(C.children[1])],(G[0]!==U[0]||G[1]!==U[1])&&(y.current.style.width=U[0]+"px",g.current.style.width=U[1]+"px"),L?(ZM(P,"rbc-header-overflowing"),P.style.marginRight=vh()+"px"):JM(P,"rbc-header-overflowing")}}},S=l.messages,b=l.add(n,c,"day"),k=l.range(n,b,"day");return s=s.filter(function(j){return Fo(j,l.startOf(n,"day"),l.endOf(b,"day"),t,l)}),s.sort(function(j,P){return+t.start(j)-+t.start(P)}),D.createElement("div",{className:"rbc-agenda-view"},s.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:f,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:y},S.date),D.createElement("th",{className:"rbc-header",ref:g},S.time),D.createElement("th",{className:"rbc-header"},S.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:v},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:w},k.map(function(j,P){return h(j,s,P)}))))):D.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}ad.range=function(e,t){var r=t.length,n=r===void 0?sd:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};ad.navigate=function(e,t,r){var n=r.length,s=n===void 0?sd:n,a=r.localizer;switch(t){case ir.PREVIOUS:return a.add(e,-s,"day");case ir.NEXT:return a.add(e,s,"day");default:return e}};ad.title=function(e,t){var r=t.length,n=r===void 0?sd:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var mc=Is(Is(Is(Is(Is({},Ut.MONTH,rd),Ut.WEEK,js),Ut.WORK_WEEK,ll),Ut.DAY,nd),Ut.AGENDA,ad),ZW=["action","date","today"];function JW(e,t){var r=t.action,n=t.date,s=t.today,a=vn(t,ZW);switch(e=typeof e=="string"?mc[e]:e,r){case ir.TODAY:n=s||new Date;break;case ir.DATE:break;default:Eo(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function e8(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Yn(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var jn=function(t){return function(r){return e8(r,t)}},t8=["view","date","getNow","onNavigate"],r8=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function yS(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Tr(n[r],2),a=s[0],i=s[1];i&&t.push(a)}return t}function n8(e,t){var r=t.views,n=yS(r);return n.indexOf(e)!==-1}var xS=function(e){function t(){var r;gt(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Dt(this,t,[].concat(s)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?$7(i,function(c,l){return c[l]=mc[l]},{}):Yn(i)==="object"?$F(i,function(c,l){return c===!0?mc[l]:c}):mc},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var c=r.props,l=c.view,u=c.drilldownView,d=c.getDrilldownView;return d?d(i,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,c,l){var u=r.props,d=u.onRangeChange,p=u.localizer;d&&c.range&&d(c.range(i,{localizer:p}),l)},r.handleNavigate=function(i,c){var l=r.props,u=l.view,d=l.date,p=l.getNow,f=l.onNavigate,y=vn(l,t8),g=r.getView(),v=p();d=JW(g,Ie(Ie({},y),{},{action:i,date:c||d||v,today:v})),f(d,u,i),r.handleRangeChange(d,g)},r.handleViewChange=function(i){i!==r.props.view&&n8(i,r.props)&&r.props.onView(i);var c=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),c[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];Be(r.props.onKeyPressEvent,c)},r.handleSelectSlot=function(i){Be(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,c){var l=r.props.onDrillDown;if(l){l(i,c,r.drilldownView);return}c&&r.handleViewChange(c),r.handleNavigate(ir.DATE,i)},r.state={context:t.getContext(r.props)},r}return Lt(t,e),vt(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,i=n.events,c=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,p=n.elementProps,f=n.date,y=n.getNow,g=n.length,v=n.showMultiDayTimes,w=n.onShowMore,h=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var m=vn(n,r8);f=f||y();var x=this.getView(),S=this.state.context,b=S.accessors,k=S.components,j=S.getters,P=S.localizer,C=S.viewNames,L=k.toolbar||iW,U=x.title(f,{localizer:P,length:g});return D.createElement("div",Object.assign({},p,{className:rt(d,"rbc-calendar",m.rtl&&"rbc-rtl"),style:u}),a&&D.createElement(L,{date:f,view:s,views:C,label:U,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),D.createElement(x,Object.assign({},m,{events:i,backgroundEvents:c,date:f,getNow:y,length:g,localizer:P,getters:j,components:k,accessors:b,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:h,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,i=n.allDayAccessor,c=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,p=n.resourceTitleAccessor,f=n.eventIdAccessor,y=n.eventPropGetter,g=n.backgroundEventPropGetter,v=n.slotPropGetter,w=n.slotGroupPropGetter,h=n.dayPropGetter,m=n.view,x=n.views,S=n.localizer,b=n.culture,k=n.messages,j=k===void 0?{}:k,P=n.components,C=P===void 0?{}:P,L=n.formats,U=L===void 0?{}:L,G=yS(x),X=lW(j);return{viewNames:G,localizer:aW(S,b,U,X),getters:{eventProp:function(){return y&&y.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return h&&h.apply(void 0,arguments)||{}}},components:kF(C[m]||{},b7(C,G),{eventWrapper:cn,backgroundEventWrapper:cn,eventContainerWrapper:cn,dateCellWrapper:cn,weekWrapper:cn,timeSlotWrapper:cn,timeGutterWrapper:cn,timeIndicatorWrapper:cn}),accessors:{start:jn(s),end:jn(a),allDay:jn(i),tooltip:jn(c),title:jn(l),resource:jn(u),resourceId:jn(d),resourceTitle:jn(p),eventId:jn(f)}}}}])}(D.Component);xS.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Ut.MONTH,views:[Ut.MONTH,Ut.WEEK,Ut.DAY,Ut.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Ut.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var s8=Bw(xS,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),a8=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"MMMM DD",r)+"  "+n.format(a,n.eq(s,a,"month")?"DD":"MMMM DD",r)},i8=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"L",r)+"  "+n.format(a,"L",r)},rf=function(t,r,n){var s=t.start,a=t.end;return n.format(s,"LT",r)+"  "+n.format(a,"LT",r)},o8=function(t,r,n){var s=t.start;return n.format(s,"LT",r)+"  "},l8=function(t,r,n){var s=t.end;return"  "+n.format(s,"LT",r)},c8={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:rf,eventTimeRangeFormat:rf,eventTimeRangeStartFormat:o8,eventTimeRangeEndFormat:l8,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:a8,agendaHeaderFormat:i8,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:rf};function ns(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function u8(e){var t=function(F,W){return W?F.locale(W):F};function r(O){return e(O).toDate().getTimezoneOffset()}function n(O,F){var W,K,Q=e(O).local(),oe=e(F).local();if(!e.tz)return Q.toDate().getTimezoneOffset()-oe.toDate().getTimezoneOffset();var le=(W=Q==null||(K=Q._z)===null||K===void 0?void 0:K.name)!==null&&W!==void 0?W:e.tz.guess(),ce=e.tz.zone(le).utcOffset(+Q),xe=e.tz.zone(le).utcOffset(+oe);return ce-xe}function s(O){var F=e(O).startOf("day");return n(F,O)}function a(O,F,W){var K=ns(W),Q=K?e(O).startOf(K):e(O),oe=K?e(F).startOf(K):e(F);return[Q,oe,K]}function i(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,F=arguments.length>1?arguments[1]:void 0,W=ns(F);return W?e(O).startOf(W).toDate():e(O).toDate()}function c(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,F=arguments.length>1?arguments[1]:void 0,W=ns(F);return W?e(O).endOf(W).toDate():e(O).toDate()}function l(O,F,W){var K=a(O,F,W),Q=Tr(K,3),oe=Q[0],le=Q[1],ce=Q[2];return oe.isSame(le,ce)}function u(O,F,W){return!l(O,F,W)}function d(O,F,W){var K=a(O,F,W),Q=Tr(K,3),oe=Q[0],le=Q[1],ce=Q[2];return oe.isAfter(le,ce)}function p(O,F,W){var K=a(O,F,W),Q=Tr(K,3),oe=Q[0],le=Q[1],ce=Q[2];return oe.isBefore(le,ce)}function f(O,F,W){var K=a(O,F,W),Q=Tr(K,3),oe=Q[0],le=Q[1],ce=Q[2];return oe.isSameOrBefore(le,ce)}function y(O,F,W){var K=a(O,F,W),Q=Tr(K,3),oe=Q[0],le=Q[1],ce=Q[2];return oe.isSameOrBefore(le,ce)}function g(O,F,W){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Q=ns(K),oe=e(O),le=e(F),ce=e(W);return oe.isBetween(le,ce,Q,"[]")}function v(O,F){var W=e(O),K=e(F),Q=e.min(W,K);return Q.toDate()}function w(O,F){var W=e(O),K=e(F),Q=e.max(W,K);return Q.toDate()}function h(O,F){if(!O&&!F)return null;var W=e(F).format("HH:mm:ss"),K=e(O).startOf("day").format("MM/DD/YYYY");return e("".concat(K," ").concat(W),"MM/DD/YYYY HH:mm:ss").toDate()}function m(O,F,W){var K=ns(W);return e(O).add(F,K).toDate()}function x(O,F){for(var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",K=ns(W),Q=e(O).toDate(),oe=[];y(Q,F);)oe.push(Q),Q=m(Q,1,K);return oe}function S(O,F){var W=ns(F),K=i(O,W);return l(K,O)?K:m(K,1,W)}function b(O,F){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",K=ns(W),Q=e(O),oe=e(F);return oe.diff(Q,K)}function k(O){var F=e(O);return F.minutes()}function j(O){var F=O?e.localeData(O):e.localeData();return F?F.firstDayOfWeek():0}function P(O){return e(O).startOf("month").startOf("week").toDate()}function C(O){return e(O).endOf("month").endOf("week").toDate()}function L(O){for(var F=P(O),W=C(O),K=[];y(F,W);)K.push(F),F=m(F,1,"d");return K}function U(O,F,W){return e(O).startOf("day").minute(F+W).toDate()}function G(O,F){return b(O,F,"minutes")}function X(O){var F=e(O).startOf("day"),W=e(O);return W.diff(F,"minutes")+s(O)}function $(O,F){var W=e(O),K=e(F);return W.isBefore(K,"day")}function A(O,F,W){var K=e(F),Q=e(W);return K.isSameOrAfter(Q,"minutes")}function z(O,F){var W=e(O),K=e(F),Q=e.duration(K.diff(W));return Q.days()}function V(O){var F=O.evtA,W=F.start,K=F.end,Q=F.allDay,oe=O.evtB,le=oe.start,ce=oe.end,xe=oe.allDay,T=+i(W,"day")-+i(le,"day"),te=z(W,K),J=z(le,ce);return T||J-te||!!xe-!!Q||+W-+le||+K-+ce}function I(O){var F=O.event,W=F.start,K=F.end,Q=O.range,oe=Q.start,le=Q.end,ce=e(W).startOf("day"),xe=e(K),T=e(oe),te=e(le),J=ce.isSameOrBefore(te,"day"),he=!ce.isSame(xe,"minutes"),ke=he?xe.isAfter(T,"minutes"):xe.isSameOrAfter(T,"minutes");return J&&ke}function R(O,F){var W=e(O),K=e(F);return W.isSame(K,"day")}function H(){var O=new Date,F=/-/.test(O.toString())?"-":"",W=O.getTimezoneOffset(),K=Number("".concat(F).concat(Math.abs(W))),Q=e().utcOffset();return Q>K?1:0}return new sW({formats:c8,firstOfWeek:j,firstVisibleDay:P,lastVisibleDay:C,visibleDays:L,format:function(F,W,K){return t(e(F),K).format(W)},lt:p,lte:y,gt:d,gte:f,eq:l,neq:u,merge:h,inRange:g,startOf:i,endOf:c,range:x,add:m,diff:b,ceil:S,min:v,max:w,minutes:k,getSlotDate:U,getTimezoneOffset:r,getDstOffset:n,getTotalMin:G,getMinutesFromMidnight:X,continuesPrior:$,continuesAfter:A,sortEvents:V,inEventRange:I,isSameDate:R,daySpan:z,browserTZOffset:H})}const d8=u8(Z),f8=({date:e,label:t})=>{const r=Z(e),n=r.isValid()?r.format("ddd DD"):t||"";return o.jsx("div",{className:"coach-calendar-week-header",children:n})},Zy={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},Tp=(e,t)=>{if(!e||!t)return null;const[r,n]=t.split(":").map(Number);if(Number.isNaN(r)||Number.isNaN(n))return null;const s=new Date(e);return Number.isNaN(s.getTime())?null:(s.setHours(r,n,0,0),s)},hc=e=>{const t=new Date(e),r=t.getDay();return t.setDate(t.getDate()-r),t.setHours(0,0,0,0),t},Jy=e=>{if(!e)return null;const t=Z(String(e).replace(/Z$/,"")).toDate();if(!Number.isNaN(t.getTime()))return t;const r=Z(String(e)).toDate();return Number.isNaN(r.getTime())?null:r},bS=e=>Number((e==null?void 0:e.lessontype_id)??(e==null?void 0:e.lesson_type_id)??(e==null?void 0:e.lessonTypeId)),p8=e=>bS(e)===2?!0:String((e==null?void 0:e.lesson_type_name)??(e==null?void 0:e.lessonType)??(e==null?void 0:e.type)??"").toLowerCase().includes("semi"),Pp=e=>Array.isArray(e==null?void 0:e.group_players)?e.group_players:Array.isArray(e==null?void 0:e.groupPlayers)?e.groupPlayers:[],Op=e=>String((e==null?void 0:e.full_name)??(e==null?void 0:e.player_name)??(e==null?void 0:e.student_name)??(e==null?void 0:e.name)??"").trim(),Mp=(e,t)=>{const r=new Map;return(Array.isArray(e)?e:[]).forEach((n,s)=>{const a=t(n,s);r.has(a)||r.set(a,n)}),Array.from(r.values())},m8=e=>{const t=Mp(Pp(e).map(n=>Op(n)).filter(Boolean),n=>n.toLowerCase());return t.length>0?t.join(", "):Op(e)||""},h8=e=>{const t=new Map,r=[];return(Array.isArray(e)?e:[]).forEach(n=>{var h,m,x,S;const s=n.start_date_time||n.start_date_time_tz||n.startDateTime||n.startDateTimeTz||n.start,a=n.end_date_time||n.end_date_time_tz||n.endDateTime||n.endDateTimeTz||n.end,i=s?Jy(s):Tp(n.date,n.time);let c=a?Jy(a):null;if(!i||Number.isNaN(i.getTime()))return;if(!c||Number.isNaN(c.getTime())){const b=n.duration||2;c=new Date(i.getTime()+b*30*6e4)}const l=m8(n),u=l?{...n,metadata:{...n.metadata||{},description:l}}:n,d={start:i,end:c,title:((h=n.metadata)==null?void 0:h.title)||n.lesson_type_name||n.type||"Lesson",resource:u,lessonType:bS(n),type:"lesson"},p=n.group_lesson_price_id??n.groupLessonPriceId;if(!(p8(n)&&p!==null&&p!==void 0&&p!=="")){r.push(d);return}const y=String(p),g=t.get(y);if(!g){t.set(y,d);return}const v=Mp([...Pp(g.resource),...Pp(u)],b=>{const k=(b==null?void 0:b.player_id)??(b==null?void 0:b.playerId)??(b==null?void 0:b.id),j=Op(b).toLowerCase();return k!=null&&k!==""?`id:${k}`:`name:${j}`}),w=Mp([(x=(m=g.resource)==null?void 0:m.metadata)==null?void 0:x.description,l].filter(Boolean),b=>String(b).toLowerCase()).join(", ");t.set(y,{...g,start:g.start<=i?g.start:i,end:g.end>=c?g.end:c,resource:{...g.resource,...u,group_players:v,metadata:{...((S=g.resource)==null?void 0:S.metadata)||{},...u.metadata||{},description:w}}})}),[...r,...t.values()]},g8=(e,t)=>{if(!e)return[];const r=[],n=hc(t),s=({date:a,start:i,end:c,location:l,source:u})=>{const d=Tp(a,i),p=Tp(a,c);!d||!p||r.push({start:d,end:p,title:l||"Available",resource:{...u||{},date:a,start:i,end:c,location:l},type:"availability"})};return Array.isArray(e)?(e.forEach(a=>{const i=(a==null?void 0:a.day)||(a==null?void 0:a.dayOfWeek)||(a==null?void 0:a.day_of_week),c=String(i||"").trim().toLowerCase(),l=Zy[c];if(l===void 0)return;const u=new Date(n);u.setDate(n.getDate()+l),s({date:u,start:a.from||a.start,end:a.to||a.end,location:a.location||a.location_name||"",source:a})}),r):(Object.entries(e.weekly||{}).forEach(([a,i])=>{const c=Zy[String(a).trim().toLowerCase()];if(c===void 0||!Array.isArray(i))return;const l=new Date(n);l.setDate(n.getDate()+c),i.forEach(u=>{var f,y;if(typeof u!="string")return;const[d,p]=u.split("-").map(g=>g.trim());s({date:l,start:d,end:p,location:((y=(f=e.weeklyLocations)==null?void 0:f[a])==null?void 0:y[u])||"",source:{date:l,start:d,end:p}})})}),(e.adHoc||[]).forEach(a=>{s({date:a.date,start:a.start,end:a.end||a.endTime,location:a.location||"",source:a})}),r)},v8=({lessons:e=[],availability:t=null,googleEvents:r=[],events:n=null,currentDate:s,onDateChange:a,view:i="week",onViewChange:c,showToolbar:l=!0,onLessonSelect:u,onAvailabilitySelect:d,onEmptySlotSelect:p,onRangeChange:f,onOpenAddAvailability:y})=>{const[g,v]=_.useState(i==="day"?"day":"week"),w=_.useRef(null),h=_.useMemo(()=>h8(e),[e]),m=_.useMemo(()=>g8(t,s||new Date),[t,s]),x=_.useMemo(()=>(Array.isArray(r)?r:[]).map($=>{var R,H,O,F,W,K,Q,oe,le,ce,xe,T,te,J,he;const A=$.start_datetime||((R=$.start)==null?void 0:R.dateTime)||((H=$.start)==null?void 0:H.date)||((F=(O=$.raw_payload)==null?void 0:O.start)==null?void 0:F.dateTime)||((K=(W=$.raw_payload)==null?void 0:W.start)==null?void 0:K.date),z=$.end_datetime||((Q=$.end)==null?void 0:Q.dateTime)||((oe=$.end)==null?void 0:oe.date)||((ce=(le=$.raw_payload)==null?void 0:le.end)==null?void 0:ce.dateTime)||((T=(xe=$.raw_payload)==null?void 0:xe.end)==null?void 0:T.date),V=A?new Date(A):null,I=z?new Date(z):null;return{start:V,end:I,allDay:!!$.all_day||!!((te=$.start)!=null&&te.date&&!((J=$.start)!=null&&J.dateTime)),title:$.summary||((he=$.raw_payload)==null?void 0:he.summary)||"Busy",resource:$,type:"busy"}}).filter($=>$.start&&$.end),[r]),S=_.useMemo(()=>x.filter($=>!$.allDay),[x]),b=_.useMemo(()=>{const $=new Map;return x.forEach(A=>{const z=A.start.toLocaleDateString("en-CA");$.has(z)||$.set(z,[]),$.get(z).push(A)}),m.flatMap(A=>{const z=A.start.toLocaleDateString("en-CA"),V=$.get(z)||[];if(V.length===0)return[A];let I=[{start:A.start,end:A.end}];return V.forEach(R=>{if(R.allDay){I=[];return}I=I.flatMap(H=>{if(R.end<=H.start||R.start>=H.end)return[H];const O=[];return R.start>H.start&&O.push({start:H.start,end:R.start}),R.end<H.end&&O.push({start:R.end,end:H.end}),O})}),I.map(R=>({...A,start:R.start,end:R.end,title:A.title}))})},[m,x]),k=_.useMemo(()=>Array.isArray(n)?n:[...b,...h,...S],[b,S,n,h]);_.useEffect(()=>{v(i==="day"?"day":"week")},[i]),_.useEffect(()=>{const $=()=>{if(!w.current)return;const A=w.current.querySelector(".rbc-time-header"),z=w.current.querySelector(".rbc-time-header-content"),V=w.current.querySelector(".rbc-time-view"),I=w.current.querySelector(".rbc-time-header-gutter"),R=w.current.querySelector(".coach-calendar-availability-strip");if(A&&w.current.style.setProperty("--coach-time-header-height",`${A.getBoundingClientRect().height}px`),V&&z){const H=V.offsetTop+z.getBoundingClientRect().height;w.current.style.setProperty("--coach-availability-top",`${H}px`)}I&&w.current.style.setProperty("--coach-time-gutter-width",`${I.getBoundingClientRect().width}px`),R&&w.current.style.setProperty("--coach-availability-strip-height",`${R.getBoundingClientRect().height}px`)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[s,i,k.length]),_.useEffect(()=>{const $=k.filter(z=>z.type==="lesson"),A=k.filter(z=>z.type==="availability");console.log("[CoachCalendar] events summary",{total:k.length,lessons:$.length,availability:A.length}),!($.length===0&&A.length===0)&&($.forEach(z=>{console.log("[CoachCalendar] lesson event",z.start,z.end,z.title)}),A.forEach(z=>{console.log("[CoachCalendar] availability event",z.start,z.end,z.title)}))},[k]),_.useEffect(()=>{if(!f)return;const $=s||new Date;if(i==="day"){f([$]);return}if(i==="week"){const A=hc($),z=Array.from({length:7},(V,I)=>{const R=new Date(A);return R.setDate(A.getDate()+I),R});f(z);return}f([$])},[s,f,i]);const j=_.useMemo(()=>{const $=new Map;return m.forEach(A=>{const z=A.start.toLocaleDateString("en-CA");$.has(z)||$.set(z,[]),$.get(z).push(A)}),$},[m]),P=_.useMemo(()=>{const $=new Map;return[...h,...x].forEach(A=>{const z=A.start.toLocaleDateString("en-CA");$.has(z)||$.set(z,[]),$.get(z).push(A)}),$.forEach((A,z)=>{$.set(z,A.sort((V,I)=>V.start.getTime()-I.start.getTime()))}),$},[x,h]),C=_.useMemo(()=>{const $=s||new Date;if(g==="week"){const z=hc($);return Array.from({length:7},(V,I)=>{const R=new Date(z);return R.setDate(z.getDate()+I),R})}const A=g==="3day"?3:1;return Array.from({length:A},(z,V)=>{const I=new Date($);return I.setDate($.getDate()+V),I})},[s,g]),L=_.useMemo(()=>{const $=hc(s||new Date);return Array.from({length:7},(A,z)=>{const V=new Date($);return V.setDate($.getDate()+z),V})},[s]),U=$=>{const A=Z($);return A.minutes()===0?A.format("ha"):A.format("h:mma")},G=$=>Z($).format("h:mm A"),X=$=>{const A=s||new Date,z=g==="3day"?3:g==="week"?7:1,V=new Date(A);V.setDate(A.getDate()+z*$),a==null||a(V)};return o.jsxs("div",{className:"coach-calendar rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"coach-calendar-legend",children:[o.jsxs("span",{className:"legend-item",children:[o.jsx("span",{className:"legend-dot private"}),"Private"]}),o.jsxs("span",{className:"legend-item",children:[o.jsx("span",{className:"legend-dot semi-private"}),"Semi-Private"]}),o.jsxs("span",{className:"legend-item",children:[o.jsx("span",{className:"legend-dot open-group"}),"Open Group"]}),o.jsxs("span",{className:"legend-item",children:[o.jsx("span",{className:"legend-dot availability"}),"Available"]}),o.jsxs("span",{className:"legend-item",children:[o.jsx("span",{className:"legend-dot busy"}),"Busy"]})]}),o.jsxs("div",{className:"coach-calendar-mobile",children:[o.jsxs("div",{className:"coach-calendar-mobile-controls",children:[o.jsx("div",{className:"mobile-view-toggle",children:["day","3day","week"].map($=>o.jsx("button",{type:"button",className:`mobile-view-btn ${g===$?"active":""}`,onClick:()=>v($),children:$==="day"?"D":$==="3day"?"3D":"W"},$))}),o.jsxs("div",{className:"mobile-date-nav",children:[o.jsx("button",{type:"button",className:"mobile-nav-btn",onClick:()=>X(-1),children:""}),o.jsx("button",{type:"button",className:"mobile-today-btn",onClick:()=>a==null?void 0:a(new Date),children:"Today"}),o.jsx("button",{type:"button",className:"mobile-nav-btn",onClick:()=>X(1),children:""})]})]}),o.jsx("div",{className:"coach-calendar-day-cards",children:C.map($=>{const A=$.toLocaleDateString("en-CA"),z=$.toDateString()===new Date().toDateString(),V=j.get(A)||[],I=P.get(A)||[],R=I.filter(H=>H.type!=="busy").length;return o.jsxs("div",{className:"day-card",children:[o.jsxs("div",{className:`day-card-header ${z?"today":""}`,children:[o.jsxs("div",{className:"day-card-header-left",children:[o.jsx("span",{className:`day-card-date ${z?"today":""}`,children:Z($).format("D")}),o.jsxs("div",{className:"day-card-meta",children:[o.jsx("span",{className:"day-card-day",children:Z($).format("ddd")}),o.jsx("span",{className:"day-card-month",children:Z($).format("MMM")})]})]}),R>0&&o.jsxs("span",{className:"day-card-count",children:[R," lessons"]})]}),V.length>0?V.map((H,O)=>o.jsxs("div",{className:`availability-banner ${O>0?"stacked":""}`,children:[o.jsxs("div",{className:"availability-banner-left",children:[o.jsx("span",{className:"availability-dot",children:""}),o.jsxs("div",{children:[o.jsxs("div",{className:"availability-time",children:[G(H.start),"  ",G(H.end)]}),o.jsx("div",{className:"availability-location",children:H.title||"Location"})]})]}),o.jsx("span",{className:"availability-edit",children:""})]},`${A}-avail-${O}`)):o.jsx("div",{className:"availability-empty",children:"+ Set availability"}),o.jsxs("div",{className:"day-card-lessons",children:[I.length===0&&o.jsxs("div",{className:"lessons-empty",children:[o.jsx("span",{className:"lessons-empty-title",children:"No lessons booked"}),o.jsx("span",{className:"lessons-empty-subtitle",children:"Available hours shown above"})]}),I.map((H,O)=>{var le,ce,xe,T,te,J,he,ke,Fe;const F=Number(H.lessonType??((le=H.resource)==null?void 0:le.lessontype_id)??((ce=H.resource)==null?void 0:ce.lesson_type_id)),W=H.type==="busy"?"busy":F===2?"semi-private":F===3?"open-group":"private",K=((T=(xe=H.resource)==null?void 0:xe.metadata)==null?void 0:T.title)||H.title||"Lesson",Q=((J=(te=H.resource)==null?void 0:te.metadata)==null?void 0:J.description)||((he=H.resource)==null?void 0:he.location)||((Fe=(ke=H.resource)==null?void 0:ke.metadata)==null?void 0:Fe.subtitle)||"",oe=H.type==="busy";return o.jsxs("button",{type:"button",className:`lesson-card ${W}`,onClick:()=>{oe||u==null||u(H.resource||H)},disabled:oe,children:[o.jsxs("div",{className:"lesson-card-header",children:[o.jsx("span",{className:`lesson-card-type ${W}`,children:W.replace("-"," ").toUpperCase()}),o.jsxs("span",{className:"lesson-card-time",children:[G(H.start),"  ",G(H.end)]})]}),o.jsx("div",{className:"lesson-card-title",children:K}),Q&&o.jsx("div",{className:"lesson-card-subtitle",children:Q})]},`${A}-lesson-${O}`)})]})]},A)})})]}),o.jsxs("div",{className:`coach-calendar-desktop ${i==="week"?"has-availability-strip":""}`,ref:w,children:[i==="week"&&o.jsxs("div",{className:"coach-calendar-availability-strip",children:[o.jsx("div",{className:"availability-strip-label",children:" Avail"}),L.map($=>{const A=$.toLocaleDateString("en-CA"),z=j.get(A)||[];return z.length===0?o.jsx("div",{className:"availability-strip-cell empty",children:o.jsx("button",{type:"button",className:"availability-add-btn",onClick:y,children:"+ Add"})},A):o.jsx("div",{className:"availability-strip-cell",children:z.map((V,I)=>o.jsxs("button",{type:"button",className:"availability-strip-badge",onClick:()=>d==null?void 0:d(V.resource||V),children:[o.jsxs("span",{className:"availability-strip-time",children:[U(V.start),"",U(V.end)]}),o.jsx("span",{className:"availability-strip-location",children:V.title||"Location"})]},`${A}-${I}`))},A)})]}),o.jsx(s8,{localizer:d8,events:k,startAccessor:"start",endAccessor:"end",views:["week","day"],view:i,onView:c,date:s,onNavigate:a,onRangeChange:f,toolbar:l,selectable:!0,step:30,timeslots:2,style:{height:620},onSelectEvent:$=>{$.type==="lesson"?u==null||u($.resource||$):$.type==="availability"&&(d==null||d($.resource||$))},onSelectSlot:({start:$,end:A})=>{const z=$.toISOString().split("T")[0],V=$.toTimeString().slice(0,5),I=A.toTimeString().slice(0,5),R=k.find(H=>H.type==="availability"&&H.start<=$&&H.end>=A);if(R){d==null||d({...R.resource||{},date:z,start:V,end:I});return}p==null||p({date:z,start:V,end:I,location:""})},eventPropGetter:$=>{var A,z;if($.type==="lesson"){const V=Number($.lessonType??((A=$.resource)==null?void 0:A.lessontype_id)??((z=$.resource)==null?void 0:z.lesson_type_id));return{className:`lesson-card-event lesson-${V===2?"semi-private":V===3?"open-group":"private"}`}}return $.type==="busy"?{className:"lesson-card-event lesson-busy"}:{className:"availability-bg-event"}},components:{week:{header:f8}}})]})]})},y8=({calendarView:e,onCalendarViewChange:t,currentDate:r,onCurrentDateChange:n,onRangeChange:s,lessons:a,availability:i,googleEvents:c,onLessonSelect:l,onAvailabilitySelect:u,onEmptySlotSelect:d,onOpenAddAvailability:p})=>o.jsx("section",{className:"mt-6 space-y-6 calendar-section",children:o.jsx("div",{className:"rounded-2xl bg-white p-4 shadow-sm calendar-section-card",children:o.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 calendar-section-body",children:o.jsx(v8,{lessons:a,availability:i,googleEvents:c,currentDate:r,onDateChange:n,onRangeChange:s,view:e,onViewChange:t,onLessonSelect:l,onAvailabilitySelect:u,onEmptySlotSelect:d,onOpenAddAvailability:p})})})}),x8=({studentSearchQuery:e,onStudentSearchQueryChange:t,studentsLoading:r,studentsError:n,onRefreshStudents:s,activePackagesLoading:a,activePackagesError:i,filteredStudents:c,activePackagesByPlayer:l,rosterAction:u,onRosterUpdate:d,onStudentSelect:p,studentsHasMore:f,studentsLoadingMore:y,onLoadMoreStudents:g})=>o.jsx("section",{className:"mt-6 space-y-6",children:o.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Directory"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Manage students, packages, and communications"})]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[o.jsxs("div",{className:"relative",children:[o.jsx(KC,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"search",value:e,onChange:v=>t(v.target.value),className:"w-full rounded-lg border border-gray-200 px-10 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Search students..."})]}),o.jsxs("button",{className:"flex items-center justify-center space-x-2 rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[o.jsx(WC,{className:"h-4 w-4"}),o.jsx("span",{children:"Filters"})]}),o.jsxs("button",{className:"flex items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:[o.jsx(tT,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Student"})]})]})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[r&&o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-10",children:[o.jsx(ws,{className:"h-6 w-6 animate-spin text-purple-600"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Loading students..."})]}),n&&o.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[o.jsx("p",{className:"font-medium",children:"We couldn't load your students."}),o.jsxs("button",{type:"button",onClick:s,className:"mt-2 inline-flex items-center space-x-2 rounded-lg bg-red-600 px-3 py-2 text-xs font-medium text-white hover:bg-red-700",children:[o.jsx(ws,{className:"h-4 w-4"}),o.jsx("span",{children:"Try again"})]})]}),i&&!n&&o.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:"We couldn't load active packages for these students."}),a&&!r&&!n&&o.jsx("div",{className:"rounded-lg border border-blue-100 bg-blue-50 p-4 text-sm text-blue-700",children:"Loading active packages..."}),!r&&!n&&c.length===0&&o.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6 text-center text-sm text-gray-500",children:"No students found matching your search."}),c.map(v=>{const w=v.playerId?l[v.playerId]:null;return o.jsxs("div",{role:"button",tabIndex:0,onClick:()=>p==null?void 0:p(v),onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),p==null||p(v))},className:"cursor-pointer rounded-xl border border-gray-200 bg-white p-4 shadow-sm transition hover:border-purple-200 hover:shadow-md",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full bg-gray-100",children:v.avatar?o.jsx("img",{src:v.avatar,alt:v.name||"Student",className:"h-full w-full object-cover"}):o.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm font-semibold text-gray-500",children:v.name?v.name.slice(0,1).toUpperCase():"?"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.name||"Unnamed student"}),o.jsxs("p",{className:"text-sm text-gray-500",children:[v.email,"  ",v.phone]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[v.isConfirmed?o.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700",children:"Active"}):v.isPlayerRequest?o.jsx("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-xs font-medium text-yellow-700",children:"Request pending"}):o.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Invite pending"}),o.jsx("button",{type:"button",onClick:h=>h.stopPropagation(),className:"rounded-lg border border-gray-200 p-2 text-gray-500 hover:text-gray-700",children:o.jsx(BC,{className:"h-4 w-4"})})]})]}),!v.isConfirmed&&v.isPlayerRequest&&o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.jsxs("button",{type:"button",onClick:h=>{h.stopPropagation(),d(v.playerId,"CONFIRMED")},disabled:(u==null?void 0:u.playerId)===v.playerId,className:"inline-flex items-center rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-green-700 disabled:cursor-not-allowed disabled:opacity-70",children:[o.jsx(lp,{className:"mr-2 h-4 w-4"}),"Confirm"]}),o.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),d(v.playerId,"CANCELLED")},disabled:(u==null?void 0:u.playerId)===v.playerId,className:"inline-flex items-center rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-600 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-70",children:"Decline"})]}),o.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Current Package"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:(w==null?void 0:w.packageName)||"No active package"}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Remaining lessons: ",(w==null?void 0:w.creditsRemaining)??"N/A"]})]}),o.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Next Lesson"}),o.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:v.nextLesson||"Not scheduled"})]})]})]},v.id)}),!r&&!n&&f&&o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{type:"button",onClick:g,disabled:y,className:"inline-flex items-center rounded-lg border border-gray-200 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-70",children:y?o.jsxs(o.Fragment,{children:[o.jsx(ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading more..."]}):"Load more"})})]})]})}),b8=({stats:e})=>o.jsx("section",{className:"mt-6 space-y-6",children:o.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Earnings Overview"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Track revenue, payouts, and performance"})]}),o.jsxs("div",{className:"flex w-full flex-wrap gap-2 sm:w-auto sm:flex-nowrap sm:space-x-2 sm:gap-0",children:[o.jsxs("button",{className:"flex w-full items-center justify-center space-x-2 rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 sm:w-auto sm:justify-start",children:[o.jsx(Ka,{className:"h-4 w-4"}),o.jsx("span",{children:"Past 30 days"}),o.jsx(IC,{className:"h-4 w-4"})]}),o.jsx("button",{className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700 sm:w-auto",children:"Export"})]})]}),o.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-xl border border-purple-100 bg-purple-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-purple-500",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",e.weekRevenue]})]}),o.jsx(DC,{className:"h-5 w-5 text-purple-500"})]}),o.jsx("p",{className:"mt-2 text-xs text-purple-700",children:"Up 12% from last period"})]}),o.jsxs("div",{className:"rounded-xl border border-green-100 bg-green-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-green-500",children:"Outstanding"}),o.jsx("p",{className:"text-2xl font-bold text-green-900",children:"$280"})]}),o.jsx(AC,{className:"h-5 w-5 text-green-500"})]}),o.jsx("p",{className:"mt-2 text-xs text-green-700",children:"2 invoices awaiting payment"})]}),o.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-blue-500",children:"Average Rate"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"$112/hr"})]}),o.jsx(Dw,{className:"h-5 w-5 text-blue-500"})]}),o.jsx("p",{className:"mt-2 text-xs text-blue-700",children:"Across all lesson types"})]})]})]})}),w8=({packages:e,packagesLoading:t,packagesError:r,onRefreshPackages:n,onOpenCreatePackage:s,currencyFormatter:a,formatLessonTypeLabel:i,formatValidityLabel:c})=>o.jsx("section",{className:"mt-6 space-y-6",children:o.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lesson Packages"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage lesson bundles for your students"})]}),o.jsxs("button",{type:"button",onClick:s,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700 sm:w-auto sm:justify-start",children:[o.jsx(Kc,{className:"h-4 w-4"}),o.jsx("span",{children:"Create package"})]})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[t&&e.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-10",children:[o.jsx(ws,{className:"h-6 w-6 animate-spin text-purple-600"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Loading packages..."})]}),!t&&r&&o.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[o.jsx("p",{className:"font-medium",children:"We couldn't load your packages."}),o.jsx("p",{className:"mt-1 text-xs text-red-600",children:r}),o.jsxs("button",{type:"button",onClick:n,className:"mt-3 inline-flex items-center space-x-2 rounded-lg bg-red-600 px-3 py-2 text-xs font-medium text-white hover:bg-red-700",children:[o.jsx(ws,{className:"h-4 w-4"}),o.jsx("span",{children:"Try again"})]})]}),!t&&!r&&e.length===0?o.jsxs("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white p-6 text-center",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"No packages yet"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create your first lesson bundle to offer students multi-lesson savings."}),o.jsxs("button",{type:"button",onClick:s,className:"mt-4 inline-flex items-center justify-center space-x-2 rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-purple-700",children:[o.jsx(Kc,{className:"h-4 w-4"}),o.jsx("span",{children:"Create package"})]})]}):null,e.length>0&&e.map(l=>o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name}),!l.isActive&&o.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Archived"})]}),l.description&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l.description})]}),o.jsx("div",{className:"flex flex-wrap gap-2 md:justify-end",children:l.lessonTypes.length>0?l.lessonTypes.map(u=>o.jsx("span",{className:"rounded-full bg-purple-50 px-3 py-1 text-xs font-medium text-purple-700",children:i(u)},`${l.id}-${u}`)):o.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:"Any lesson type"})})]}),o.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Price"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.totalPrice!==null?a.format(l.totalPrice):"N/A"}),l.perLessonPrice!==null&&o.jsxs("p",{className:"text-xs text-gray-500",children:[a.format(l.perLessonPrice)," per lesson"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Lessons Included"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.lessonCount!==null?`${l.lessonCount} lessons`:"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Validity"}),o.jsx("p",{className:"text-sm font-medium text-gray-900",children:c(l.validityMonths)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Status"}),o.jsx("p",{className:`text-sm font-medium ${l.isActive?"text-green-600":"text-gray-500"}`,children:l.isActive?"Active":"Archived"})]})]})]},l.id))]})]})}),S8=({locationAction:e,locationIdInput:t,onLocationIdChange:r,onAddLocation:n,customLocationForm:s,onCustomLocationChange:a,onAddCustomLocation:i,locationsLoading:c,locationsError:l,normalizedLocations:u,onDeleteLocation:d,onRefreshLocations:p})=>o.jsx("section",{className:"mt-6 space-y-6",children:o.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Locations"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Manage courts and teaching locations"})]}),o.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center space-x-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[o.jsx(ws,{className:"h-4 w-4"}),o.jsx("span",{children:"Refresh"})]})]}),e&&o.jsx("div",{className:`mt-4 rounded-lg border px-4 py-3 text-sm ${e.type==="error"?"border-red-200 bg-red-50 text-red-700":"border-green-200 bg-green-50 text-green-700"}`,children:e.message}),o.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Add Existing Location"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use a master location id."}),o.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[o.jsx("input",{type:"number",inputMode:"numeric",placeholder:"Location ID",value:t,onChange:f=>r(f.target.value),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("button",{type:"button",onClick:n,className:"rounded-lg bg-purple-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-purple-700",children:"Add"})]})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50 p-4",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Add Custom Location"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Create and link a new location."}),o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Location name",value:s.location,onChange:f=>a({...s,location:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[o.jsx("input",{type:"number",inputMode:"decimal",step:"any",placeholder:"Latitude",value:s.latitude,onChange:f=>a({...s,latitude:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("input",{type:"number",inputMode:"decimal",step:"any",placeholder:"Longitude",value:s.longitude,onChange:f=>a({...s,longitude:f.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsx("button",{type:"button",onClick:i,className:"w-full rounded-lg bg-purple-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-purple-700",children:"Create Location"})]})]})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[c&&o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-6 text-sm text-gray-500",children:[o.jsx(ws,{className:"h-5 w-5 animate-spin text-purple-600"}),o.jsx("span",{children:"Loading locations..."})]}),!c&&l&&o.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[o.jsx("p",{className:"font-medium",children:"We couldn't load your locations."}),o.jsx("p",{className:"mt-1 text-xs text-red-600",children:l})]}),!c&&!l&&u.length===0&&o.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-white p-6 text-center text-sm text-gray-500",children:"No locations linked yet."}),u.map(f=>o.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-gray-200 bg-white p-4 shadow-sm sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"rounded-lg bg-purple-50 p-2 text-purple-600",children:o.jsx(Xa,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.label||"Location"}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Location ID: ",f.locationId??"N/A"]}),f.latitude!==void 0&&f.longitude!==void 0&&o.jsxs("p",{className:"text-xs text-gray-400",children:[f.latitude,", ",f.longitude]})]})]}),o.jsx("button",{type:"button",onClick:()=>d(f.relationId??f.locationId),className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-50",children:"Remove"})]},f.relationId??f.locationId??f.label))]})]})}),ha=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},_8=e=>typeof e!="string"?"":e.split("_").filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),N8=e=>e==null||e<=0?"No expiration":e===1?"1 month":`${e} months`,gc=e=>{const t=(e==null?void 0:e.payment_status)??(e==null?void 0:e.paymentStatus)??(e==null?void 0:e.status);if(t===1||t==="1")return"confirmed";if(t===2||t==="2")return"cancelled";const r=typeof t=="string"?t.toLowerCase():"";return r.includes("confirm")||r.includes("accept")?"confirmed":r.includes("cancel")||r.includes("decline")?"cancelled":"pending"},j8=e=>!e||typeof e!="object"?"":e.full_name||e.player_name||e.student_name||e.name||"",e0=(e=[])=>{const t=e.map(r=>j8(r).trim()).filter(Boolean);return[...new Set(t)]},k8=e=>{if(!e)return"Lesson request";const t=Number(e.lessontype_id??e.lesson_type_id??e.lessonTypeId),r=Array.isArray(e.group_players)?e.group_players:Array.isArray(e.groupPlayers)?e.groupPlayers:[],n=e0(r.filter(i=>gc(i)==="pending")),s=e0(r),a=e.full_name||e.player_name||e.student_name||e.studentName||e.playerName||"";if(t===1)return a||s[0]||"Private lesson request";if(t===2){const i=n.length>0?n:s;return i.length>0?i.join(", "):a||"Semi private lesson request"}return n.length>0?n.join(", "):s.length>0?s.join(", "):a||e.title||"Lesson request"},E8=e=>{var j,P;if(!e)return"";const t=e.start_date_time||e.startDateTime||e.start_time,r=e.end_date_time||e.endDateTime||e.end_time,n=t?Z.utc(t):null,s=r?Z.utc(r):n!=null&&n.isValid()?n.clone().add(1,"hour"):null,a=!!((j=n==null?void 0:n.isValid)!=null&&j.call(n)),i=!!((P=s==null?void 0:s.isValid)!=null&&P.call(s)),c=a?n.format("MMM D"):"",l=a?n.format("hh:mm a"):"",u=i?s.format("hh:mm a"):"",d=l&&u?`${l} - ${u}`:l,p=Number(e.lessontype_id??e.lesson_type_id??e.lessonTypeId),f=e.lesson_type_name||e.lessonTypeName||(p===1?"Private":p===2?"Semi Private":p===3?"Open Group":""),y=e.court?`${e.location||""}  Court ${e.court}`:e.location||e.courtName||"",g=Array.isArray(e.group_players)?e.group_players:Array.isArray(e.groupPlayers)?e.groupPlayers:[],v=g.filter(C=>gc(C)==="confirmed").length,w=g.filter(C=>gc(C)==="pending").length,h=g.filter(C=>gc(C)==="cancelled").length,m=g.length,x=Number(e.player_limit??e.playerLimit),S=[];if(m>0&&S.push(`${v} confirmed  ${w} pending`+(h>0?`  ${h} cancelled`:"")),Number.isFinite(x)&&x>0){const C=Math.min(v,x),L=Math.max(x-C,0);S.push(`spots ${C}/${x} filled (${L} open)`)}const b=S.length>0?`Players: ${S.join("  ")}`:"";return[f?`${f} lesson`:"",c,d,y,b].filter(Boolean).join("  ")},C8=e=>{if(!e)return"Recently";const t=Z(e);return t.isValid()?t.fromNow():"Recently"},T8=e=>Number((e==null?void 0:e.lessontype_id)??(e==null?void 0:e.lesson_type_id)??(e==null?void 0:e.lessonTypeId))===3?!0:String((e==null?void 0:e.lesson_type_name)??(e==null?void 0:e.lessonTypeName)??"").toLowerCase().includes("group"),P8=e=>{if(!e)return"";const t=e.trim().split(/\s+/).filter(Boolean).slice(0,2);return t.length===0?"":t.map(r=>r.charAt(0).toUpperCase()).join("")},O8=({profile:e,dashboardTab:t,onDashboardTabChange:r,calendarView:n,onCalendarViewChange:s,currentDate:a,onCurrentDateChange:i,onRangeChange:c,studentsData:l,studentsLoading:u,studentsLoadingMore:d=!1,studentsError:p,onRefreshStudents:f,studentsHasMore:y=!1,onLoadMoreStudents:g=()=>{},studentsPage:v=1,studentsPerPage:w=5,lessonsData:h,upcomingLessonsData:m=[],availabilityData:x,googleEvents:S,statsData:b,scheduleLoading:k,scheduleError:j,onRefreshSchedule:P,mutationError:C,mutationLoading:L,onLessonSelect:U,onAvailabilitySlotSelect:G,onEmptySlotSelect:X,onOpenAddAvailability:$,onOpenCreatePackage:A,onOpenCreateLesson:z,onRequestAvailabilityOnboarding:V,onOpenSettings:I,onOpenNotifications:R=()=>{},onLogout:H,studentSearchQuery:O,onStudentSearchQueryChange:F,onStudentSelect:W=()=>{},showMobileMenu:K,onToggleMobileMenu:Q,packagesLoading:oe=!1,packagesError:le=null,onRefreshPackages:ce=()=>{},locationsData:xe=[],locationsLoading:T=!1,locationsError:te=null,onRefreshLocations:J=()=>{},onAddLocationById:he=()=>{},onAddCustomLocation:ke=()=>{},onDeleteLocation:Fe=()=>{}})=>{var da,Nr,sn,dl,fl,pl,ml,hl,gl,vl,yl,Ni,ji,xl;const Ue=Array.isArray(h)?h:(h==null?void 0:h.lessons)||[],nt=Array.isArray(m)?m:(m==null?void 0:m.lessons)||[],or=_.useMemo(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}),[]),xr=_.useMemo(()=>Array.isArray(e==null?void 0:e.packages)?e.packages.map((E,se)=>{const Ae=ha(E.lessonCount??E.lesson_count),Rt=ha(E.totalPrice??E.total_price??E.price),It=ha(E.validityMonths??E.validity_months),ge=(Array.isArray(E.lessonTypesAllowed)&&E.lessonTypesAllowed.length>0?E.lessonTypesAllowed:Array.isArray(E.lesson_types_allowed)?E.lesson_types_allowed:[]).map(Xt=>typeof Xt=="string"?Xt.trim():"").filter(Xt=>Xt.length>0);return{id:E.id??E.package_id??`package-${se}`,name:E.name||E.title||"Untitled Package",description:typeof E.description=="string"?E.description:"",lessonCount:Ae,totalPrice:Rt,validityMonths:It,perLessonPrice:Ae!==null&&Ae>0&&Rt!==null?Rt/Ae:null,lessonTypes:ge,isActive:E.is_active??E.isActive??!0}}).sort((E,se)=>E.isActive===se.isActive?0:E.isActive?-1:1):[],[e]),Y={todayLessons:(b==null?void 0:b.todayLessons)??0,weekRevenue:(b==null?void 0:b.weekRevenue)??0,activeStudents:(b==null?void 0:b.activeStudents)??(Array.isArray(l)?l.length:((da=l==null?void 0:l.students)==null?void 0:da.length)??0),upcomingLessons:(b==null?void 0:b.upcomingLessons)??nt.length,pendingRequests:(b==null?void 0:b.pendingRequests)??nt.filter(E=>E.lessonStatus==="pending").length},Oe=E=>{if(!E)return;const se=E.date instanceof Date?E.date.toISOString().split("T")[0]:E.date||"",Ae=E.start||E.startTime||E.from||"",Rt=E.end||E.endTime||E.to||E.finish||"";G({...E,date:se,start:Ae,end:Rt,location:E.location||e.home_courts[0]||""})},[Et,Vt]=_.useState(null),[Ur,Gt]=_.useState(!1),[lr,qt]=_.useState(null),[br,ot]=_.useState({}),[wr,wn]=_.useState(""),[wt,Sn]=_.useState({location:"",latitude:"",longitude:""}),[Kn,yt]=_.useState(null),[nn,Sr]=_.useState(!1),[Le,St]=_.useState(!1),[Ee,ct]=_.useState(0),[_r,Xn]=_.useState(!1),N=_.useRef(null),B=_.useRef(null),ee=Array.isArray(l)?l:(l==null?void 0:l.students)||[],_e=E=>{const se=(E==null?void 0:E.full_name)||(E==null?void 0:E.name)||"",Ae=(E==null?void 0:E.email)||"",Rt=(E==null?void 0:E.phone)||"",It=(E==null?void 0:E.status)??null,Ct=(E==null?void 0:E.created_by)??null,ge=(E==null?void 0:E.player_id)??(E==null?void 0:E.id)??null,Xt=It===1||It==="CONFIRMED",zr=Ct!==null&&ge!==null&&Ct===ge;return{id:(E==null?void 0:E.id)||ge||(E==null?void 0:E.email)||se,name:se,email:Ae,phone:Rt,status:It,isConfirmed:Xt,isPlayerRequest:zr,playerId:ge,avatar:(E==null?void 0:E.profile_picture)||(E==null?void 0:E.avatar)||""}},ut=ee.map(_e),cr=ut.filter(E=>{const se=O.toLowerCase();return E.name.toLowerCase().includes(se)||E.email.toLowerCase().includes(se)||E.phone.includes(O)}),Ms=_.useMemo(()=>(Array.isArray(xe)?xe:(xe==null?void 0:xe.locations)||(xe==null?void 0:xe.data)||[]).map(se=>{const Ae=(se==null?void 0:se.id)??(se==null?void 0:se.coach_location_id)??(se==null?void 0:se.relation_id)??null,Rt=(se==null?void 0:se.location_id)??(se==null?void 0:se.locationId)??Ae,It=(se==null?void 0:se.location)||(se==null?void 0:se.name)||(se==null?void 0:se.address)||(se==null?void 0:se.formatted_address)||(se==null?void 0:se.label)||"";return{relationId:Ae,locationId:Rt,label:It,latitude:se==null?void 0:se.latitude,longitude:se==null?void 0:se.longitude}}),[xe]),dt=_.useCallback(async(E,se)=>{if(E){Vt({playerId:E,status:se});try{await dp({playerId:E,status:se}),f==null||f()}catch(Ae){console.error("Failed to update roster status",Ae)}finally{Vt(null)}}},[f]),fe=_.useCallback(async()=>{yt(null);const E=await he(wr.trim());E!=null&&E.ok?(wn(""),yt({type:"success",message:"Location added."})):E!=null&&E.error&&yt({type:"error",message:E.error})},[wr,he]),Qn=_.useCallback(async()=>{yt(null);const E=await ke({location:wt.location.trim(),latitude:wt.latitude,longitude:wt.longitude});E!=null&&E.ok?(Sn({location:"",latitude:"",longitude:""}),yt({type:"success",message:"Custom location added."})):E!=null&&E.error&&yt({type:"error",message:E.error})},[wt,ke]),ua=_.useCallback(async E=>{yt(null);const se=await Fe(E);se!=null&&se.ok?yt({type:"success",message:"Location removed."}):se!=null&&se.error&&yt({type:"error",message:se.error})},[Fe]);_.useEffect(()=>{t==="students"&&(ot({}),qt(null))},[t,O,w]),_.useEffect(()=>{if(t!=="students")return;let E=!0;return(async()=>{Gt(!0),qt(null);try{const Ae=await cT({perPage:w,page:v,search:O}),It=(Array.isArray(Ae)?Ae:(Ae==null?void 0:Ae.purchases)||[]).reduce((Ct,ge)=>{var _n,ts;const Xt=(ge==null?void 0:ge.player_id)??(ge==null?void 0:ge.playerId)??((_n=ge==null?void 0:ge.player)==null?void 0:_n.id);if(!Xt)return Ct;const zr=ha((ge==null?void 0:ge.credits_remaining)??(ge==null?void 0:ge.creditsRemaining)??(ha(ge==null?void 0:ge.credits_total)??0)-(ha(ge==null?void 0:ge.credits_used)??0)),es=Ct[Xt];return es&&zr!==null&&es.creditsRemaining>zr||(Ct[Xt]={creditsRemaining:zr,packageName:(ge==null?void 0:ge.package_name)||(ge==null?void 0:ge.package_title)||((ts=ge==null?void 0:ge.package)==null?void 0:ts.name)||(ge==null?void 0:ge.packageName)||"Active package"}),Ct},{});E&&ot(Ct=>v===1?It:{...Ct,...It})}catch(Ae){E&&qt(Ae instanceof Error?Ae:new Error("Failed to load packages."))}finally{E&&Gt(!1)}})(),()=>{E=!1}},[t,O,v,w]),_.useEffect(()=>{if(!nn)return;const E=se=>{N.current&&!N.current.contains(se.target)&&Sr(!1)};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[nn]),_.useEffect(()=>{if(!Le)return;const E=se=>{B.current&&!B.current.contains(se.target)&&St(!1)};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[Le]);const Zn=nt.filter(E=>E.lessonStatus==="pending").filter(E=>!T8(E)),we=[...ut.filter(E=>E.isPlayerRequest&&!E.isConfirmed).map(E=>({id:`roster-${E.id}`,type:"roster",name:E.name||"Student",detail:"wants to join your roster",info:E.email||E.phone||"Pending roster request",timestamp:E.created_at||E.createdAt||null,avatarUrl:E.avatar||"",onAccept:()=>dt(E.playerId,"CONFIRMED"),onDecline:()=>dt(E.playerId,"CANCELLED")})),...Zn.map((E,se)=>{const Ae=Number(E.created_by??E.createdBy),Rt=Number(E.coach_id??E.coachId),It=Number((e==null?void 0:e.id)??(e==null?void 0:e.coach_id)??(e==null?void 0:e.coachId)??(e==null?void 0:e.user_id)??(e==null?void 0:e.userId)),Ct=Number.isFinite(Rt)?Rt:Number.isFinite(It)?It:null,ge=Number(E.player_id??E.playerId),Xt=Number.isFinite(Ae)&&Number.isFinite(Ct)&&Ae===Ct,zr=Number.isFinite(Ae)&&Number.isFinite(ge)&&Ae===ge,es=Number(E.lessontype_id??E.lesson_type_id??E.lessonTypeId),_n=E.lesson_type_name||E.lessonTypeName||(es===1?"Private":es===2?"Semi Private":es===3?"Open Group":""),ts=_n?`${_n} lesson`:"Lesson";return{id:E.id??E.lesson_id??`lesson-${se}`,type:"lesson",name:k8(E),detail:Xt?`${ts.toLowerCase()} created by coach`:zr?`${ts.toLowerCase()} requested by player`:`${ts.toLowerCase()} request`,info:E8(E),timestamp:E.created_at||E.createdAt||E.updated_at||E.updatedAt||null,avatarUrl:E.profile_url||E.profile_picture||"",onAccept:zr?()=>U(E):null,onDecline:()=>U(E),acceptLabel:zr?"Confirm":"",declineLabel:"Cancel Lesson"}})],Jn=we;return _.useEffect(()=>{we.length>0&&Xn(!1)},[we.length]),_.useEffect(()=>{ct(0)},[we.length]),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C&&o.jsx("div",{className:"border-b border-red-200 bg-red-50",children:o.jsxs("div",{className:"mx-auto flex max-w-7xl items-center space-x-2 px-4 py-3 text-sm text-red-700",children:[o.jsx(Pw,{className:"h-4 w-4"}),o.jsx("span",{children:C.message||"An unexpected error occurred. Please try again."})]})}),o.jsx("nav",{className:"dashboard-header border-b border-gray-200 bg-white shadow-sm",children:o.jsx("div",{className:"mx-auto max-w-7xl px-4",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{type:"button",onClick:()=>Q(!K),className:"touch-target p-2 text-gray-500 transition hover:text-gray-700 md:hidden dashboard-mobile-toggle",children:o.jsx($w,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex items-center dashboard-brand",children:[o.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-purple-600 to-purple-700 text-lg",children:""}),o.jsxs("div",{className:"ml-3 text-lg font-semibold text-gray-900 dashboard-brand-text",children:["The Tennis ",o.jsx("span",{className:"text-purple-600",children:"Plan"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 dashboard-header-actions",children:[o.jsxs("div",{className:"hidden items-center gap-2 text-xs text-emerald-600 md:flex",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Synced just now"]}),o.jsxs("div",{className:"relative",ref:B,children:[o.jsxs("button",{type:"button",onClick:()=>{St(E=>!E),Sr(!1)},className:`dashboard-header-btn dashboard-quick-action-btn ${Le?"dashboard-quick-action-active":""}`,"aria-expanded":Le,"aria-haspopup":"true",children:[o.jsx(Aw,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Open quick actions"})]}),Le&&o.jsxs("div",{className:"dashboard-quick-actions-dropdown",children:[o.jsxs("button",{type:"button",className:"dashboard-quick-actions-item",onClick:()=>{z==null||z(),St(!1)},children:[o.jsx("span",{className:"dashboard-quick-actions-icon",children:o.jsx(RC,{className:"h-4 w-4"})}),o.jsxs("span",{children:[o.jsx("span",{className:"dashboard-quick-actions-title",children:"Add Lesson"}),o.jsx("span",{className:"dashboard-quick-actions-subtitle",children:"Book a lesson with a student"})]})]}),o.jsxs("button",{type:"button",className:"dashboard-quick-actions-item",onClick:()=>{V==null||V(),St(!1)},children:[o.jsx("span",{className:"dashboard-quick-actions-icon",children:o.jsx(VC,{className:"h-4 w-4"})}),o.jsxs("span",{children:[o.jsx("span",{className:"dashboard-quick-actions-title",children:"Set Availability"}),o.jsx("span",{className:"dashboard-quick-actions-subtitle",children:"Edit recurring days and times"})]})]})]})]}),o.jsxs("div",{className:"relative",ref:N,children:[o.jsxs("button",{type:"button",onClick:()=>Sr(E=>!E),className:"dashboard-header-btn",children:[o.jsx(Ow,{className:"h-5 w-5"}),Jn.length>0&&o.jsx("span",{className:"notification-badge",children:Jn.length})]}),nn&&o.jsxs("div",{className:"notification-dropdown",children:[o.jsxs("div",{className:"notification-dropdown-header",children:[o.jsx("span",{className:"notification-dropdown-title",children:"Notifications"}),o.jsx("button",{type:"button",className:"notification-mark-read",children:"Mark all read"})]}),o.jsxs("div",{className:"notification-dropdown-body",children:[Jn.length===0&&o.jsx("div",{className:"notification-empty",children:"You're all caught up."}),Jn.map(E=>o.jsxs("div",{className:"notification-item notification-item-unread",children:[o.jsx("div",{className:`notification-icon notification-icon-${E.type}`,children:E.avatarUrl?o.jsx("img",{src:E.avatarUrl,alt:E.name,className:"notification-avatar-image"}):o.jsx("span",{className:"notification-avatar-fallback",children:P8(E.name)})}),o.jsxs("div",{className:"notification-content",children:[o.jsxs("div",{className:"notification-text",children:[o.jsx("strong",{children:E.name})," ",E.detail]}),E.info&&o.jsx("div",{className:"notification-subtext",children:E.info}),o.jsxs("div",{className:"notification-actions",children:[E.acceptLabel!==""&&o.jsx("button",{type:"button",className:"notification-btn approve",onClick:E.onAccept||void 0,disabled:!E.onAccept,children:E.acceptLabel||(E.type==="lesson"?"Confirm":"Accept")}),o.jsx("button",{type:"button",className:"notification-btn decline",onClick:E.onDecline||void 0,disabled:!E.onDecline,children:E.declineLabel||"Decline"})]}),o.jsx("div",{className:"notification-time",children:C8(E.timestamp)})]})]},E.id))]}),o.jsx("div",{className:"notification-dropdown-footer",children:o.jsx("button",{type:"button",className:"notification-view-all",onClick:R,children:"View all notifications"})})]})]}),o.jsxs("button",{type:"button",onClick:I,className:"dashboard-header-btn",children:[o.jsx(XC,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Open settings"})]}),o.jsxs("button",{type:"button",onClick:H,className:"dashboard-header-btn dashboard-logout-btn",children:[o.jsx(bv,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Log out"})]})]})]})})}),Le&&o.jsx("button",{type:"button","aria-label":"Close quick actions",className:"dashboard-quick-actions-overlay",onClick:()=>St(!1)}),K&&o.jsxs("div",{className:"border-b bg-white shadow-lg md:hidden",children:[o.jsx("div",{className:"space-y-2 px-4 py-4",children:[{key:"calendar",label:"Calendar",icon:Ka},{key:"students",label:"Students",icon:Xc},{key:"earnings",label:"Earnings",icon:qc},{key:"packages",label:"Packages",icon:Kc},{key:"locations",label:"Locations",icon:Xa}].map(E=>o.jsxs("button",{type:"button",onClick:()=>{r(E.key),Q(!1)},className:`flex w-full items-center space-x-3 rounded-lg px-4 py-3 text-left ${t===E.key?"bg-purple-50 text-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(E.icon,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:E.label})]},E.key))}),o.jsxs("button",{type:"button",onClick:()=>{Q(!1),H==null||H()},className:"flex w-full items-center space-x-3 rounded-lg px-4 py-3 text-left text-red-600 hover:bg-red-50",children:[o.jsx(bv,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Log out"})]})]}),o.jsx(vT,{stats:Y}),o.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-6 dashboard-main",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 dashboard-tabs-row",children:[o.jsx("div",{className:"hidden w-full flex-wrap gap-2 sm:flex sm:w-auto sm:flex-nowrap dashboard-tabs",children:[{key:"calendar",label:"Calendar",icon:Ka},{key:"students",label:"Students",icon:Xc},{key:"earnings",label:"Earnings",icon:qc},{key:"packages",label:"Packages",icon:Kc},{key:"locations",label:"Locations",icon:Xa}].map(E=>o.jsxs("button",{type:"button",onClick:()=>r(E.key),className:`flex w-full items-center justify-center space-x-2 rounded-lg px-4 py-2 text-sm font-medium sm:w-auto sm:justify-start ${t===E.key?"bg-purple-600 text-white shadow":"border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(E.icon,{className:"h-4 w-4"}),o.jsx("span",{children:E.label})]},E.key))}),o.jsxs("div",{className:"flex w-full items-center gap-2 text-xs text-gray-500 sm:w-auto sm:text-sm dashboard-secure-note",children:[o.jsx(QC,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"whitespace-nowrap",children:"Secure portal  Last synced moments ago"})]})]}),we.length>0&&!_r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"action-alert-bar",children:[o.jsxs("div",{className:"action-alert-left",children:[o.jsx("span",{className:"action-alert-icon",children:""}),o.jsxs("span",{className:"action-alert-text",children:[o.jsxs("strong",{children:[we.length," items"]})," need attention"]})]}),o.jsx("div",{className:"action-alert-items",children:we.map(E=>o.jsxs("div",{className:"action-alert-item",children:[o.jsxs("div",{className:"action-alert-text-group",children:[o.jsxs("span",{className:"action-alert-primary",children:[E.type==="roster"?"":""," ",o.jsx("strong",{children:E.name})," ",E.detail]}),E.info&&o.jsx("span",{className:"action-alert-info",children:E.info})]}),o.jsxs("div",{className:"action-alert-buttons",children:[E.acceptLabel!==""&&o.jsx("button",{type:"button",className:"action-alert-btn approve",onClick:E.onAccept||void 0,disabled:!E.onAccept,children:E.acceptLabel||(E.type==="lesson"?"Confirm":"Accept")}),o.jsx("button",{type:"button",className:"action-alert-btn decline",onClick:E.onDecline||void 0,disabled:!E.onDecline,children:E.declineLabel||"Decline"})]})]},E.id))}),o.jsx("button",{type:"button",className:"action-alert-dismiss",onClick:()=>Xn(!0),children:""})]}),o.jsxs("div",{className:"notification-carousel",children:[o.jsxs("div",{className:"notification-carousel-header",children:[o.jsxs("div",{className:"notification-carousel-title",children:[o.jsx("span",{className:"notification-carousel-icon",children:""}),o.jsxs("span",{children:[we.length," items need attention"]})]}),o.jsx("button",{type:"button",className:"notification-carousel-dismiss",onClick:()=>Xn(!0),children:""})]}),we.length>0&&o.jsxs("div",{className:"notification-carousel-card",children:[o.jsxs("div",{className:"notification-carousel-meta",children:[o.jsx("div",{className:"notification-carousel-avatar",children:(((Nr=we[Ee])==null?void 0:Nr.name)||"N").split(" ").map(E=>E[0]).join("").slice(0,2).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"notification-carousel-name",children:(sn=we[Ee])==null?void 0:sn.name}),o.jsx("div",{className:"notification-carousel-detail",children:(dl=we[Ee])==null?void 0:dl.detail}),((fl=we[Ee])==null?void 0:fl.info)&&o.jsx("div",{className:"notification-carousel-info",children:(pl=we[Ee])==null?void 0:pl.info})]})]}),o.jsxs("div",{className:"notification-carousel-actions",children:[((ml=we[Ee])==null?void 0:ml.acceptLabel)!==""&&o.jsx("button",{type:"button",className:"notification-carousel-btn approve",onClick:((hl=we[Ee])==null?void 0:hl.onAccept)||void 0,disabled:!((gl=we[Ee])!=null&&gl.onAccept),children:((vl=we[Ee])==null?void 0:vl.acceptLabel)||(((yl=we[Ee])==null?void 0:yl.type)==="lesson"?"Confirm":"Accept")}),o.jsx("button",{type:"button",className:"notification-carousel-btn decline",onClick:((Ni=we[Ee])==null?void 0:Ni.onDecline)||void 0,disabled:!((ji=we[Ee])!=null&&ji.onDecline),children:((xl=we[Ee])==null?void 0:xl.declineLabel)||"Decline"})]})]}),o.jsxs("div",{className:"notification-carousel-controls",children:[o.jsx("button",{type:"button",className:"notification-carousel-nav",onClick:()=>ct(E=>E===0?we.length-1:E-1),children:""}),o.jsx("div",{className:"notification-carousel-dots",children:we.map((E,se)=>o.jsx("button",{type:"button",className:`notification-carousel-dot ${se===Ee?"active":""}`,onClick:()=>ct(se)},E.id))}),o.jsx("button",{type:"button",className:"notification-carousel-nav",onClick:()=>ct(E=>E===we.length-1?0:E+1),children:""})]})]})]}),t==="calendar"&&o.jsx(y8,{calendarView:n,onCalendarViewChange:s,currentDate:a,onCurrentDateChange:i,onRangeChange:c,lessons:Ue,availability:Array.isArray(x==null?void 0:x.schedule)&&x.schedule.length>0?x.schedule:x,googleEvents:S,onLessonSelect:U,onAvailabilitySelect:Oe,onEmptySlotSelect:X,onOpenAddAvailability:$}),t==="students"&&o.jsx(x8,{studentSearchQuery:O,onStudentSearchQueryChange:F,studentsLoading:u,studentsError:p,onRefreshStudents:f,activePackagesLoading:Ur,activePackagesError:lr,filteredStudents:cr,activePackagesByPlayer:br,rosterAction:Et,onRosterUpdate:dt,onStudentSelect:W,studentsHasMore:y,studentsLoadingMore:d,onLoadMoreStudents:g}),t==="earnings"&&o.jsx(b8,{stats:Y}),t==="packages"&&o.jsx(w8,{packages:xr,packagesLoading:oe,packagesError:le,onRefreshPackages:ce,onOpenCreatePackage:A,currencyFormatter:or,formatLessonTypeLabel:_8,formatValidityLabel:N8}),t==="locations"&&o.jsx(S8,{locationAction:Kn,locationIdInput:wr,onLocationIdChange:wn,onAddLocation:fe,customLocationForm:wt,onCustomLocationChange:Sn,onAddCustomLocation:Qn,locationsLoading:T,locationsError:te,normalizedLocations:Ms,onDeleteLocation:ua,onRefreshLocations:J})]}),o.jsx("nav",{className:"dashboard-bottom-nav",children:[{key:"calendar",label:"Calendar",icon:""},{key:"students",label:"Students",icon:""},{key:"earnings",label:"Earnings",icon:""},{key:"packages",label:"Packages",icon:""},{key:"locations",label:"Locations",icon:""}].map(E=>o.jsxs("button",{type:"button",onClick:()=>r(E.key),className:`dashboard-bottom-nav-item ${t===E.key?"active":""}`,children:[o.jsx("span",{className:"dashboard-bottom-nav-icon",children:E.icon}),o.jsx("span",{className:"dashboard-bottom-nav-label",children:E.label})]},E.key))})]})};var wS={},id={},od={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.loadGoogleMapScript=si.isBrowser=void 0;var SS=typeof window<"u"&&window.document;si.isBrowser=SS;var M8=function(t,r){if(!SS||typeof google<"u"&&google.maps&&google.maps.api)return Promise.resolve();var n=document.querySelectorAll('script[src*="'.concat(t,'"]'));if(n&&n.length)return new Promise(function(i){if(typeof google<"u")return i();n[0].addEventListener("load",function(){return i()})});var s=new URL(r);s.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var a=document.createElement("script");return a.src=s.toString(),new Promise(function(i){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=i,document.body.appendChild(a)})};si.loadGoogleMapScript=M8;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;var $8="https://maps.googleapis.com/maps/api/js";ld.GOOGLE_MAP_SCRIPT_BASE_URL=$8;function vc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vc=function(r){return typeof r}:vc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vc(e)}Object.defineProperty(od,"__esModule",{value:!0});od.default=F8;var Hr=D8(_),nf=si,A8=ld;function _S(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(_S=function(s){return s?r:t})(e)}function D8(e,t){if(e&&e.__esModule)return e;if(e===null||vc(e)!=="object"&&typeof e!="function")return{default:e};var r=_S(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e,t){if(e==null)return{};var r=I8(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I8(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function F8(e){var t=e.ref,r=e.onPlaceSelected,n=e.apiKey,s=e.libraries,a=s===void 0?"places":s,i=e.inputAutocompleteValue,c=i===void 0?"new-password":i,l=e.options;l=l===void 0?{}:l;var u=l.types,d=u===void 0?["(cities)"]:u,p=l.componentRestrictions,f=l.fields,y=f===void 0?["address_components","geometry.location","place_id","formatted_address"]:f,g=l.bounds,v=R8(l,["types","componentRestrictions","fields","bounds"]),w=e.googleMapsScriptBaseUrl,h=w===void 0?A8.GOOGLE_MAP_SCRIPT_BASE_URL:w,m=e.language,x=(0,Hr.useRef)(null),S=(0,Hr.useRef)(null),b=(0,Hr.useRef)(null),k=m?"&language=".concat(m):"",j="".concat(h,"?libraries=").concat(a,"&key=").concat(n).concat(k),P=(0,Hr.useCallback)(function(){return(0,nf.loadGoogleMapScript)(h,j)},[h,j]);return(0,Hr.useEffect)(function(){var C=r0(r0({},v),{},{fields:y,types:d,bounds:g});if(p&&(C.componentRestrictions=p),!(b.current||!x.current||!nf.isBrowser)){t&&!t.current&&(t.current=x.current);var L=function(){var G;if(typeof google>"u")return console.error("Google has not been found. Make sure your provide apiKey prop.");if(!((G=google.maps)!==null&&G!==void 0&&G.places))return console.error("Google maps places API must be loaded.");if(!(x.current instanceof HTMLInputElement))return console.error("Input ref must be HTMLInputElement.");b.current=new google.maps.places.Autocomplete(x.current,C),b.current&&(S.current=b.current.addListener("place_changed",function(){r&&b&&b.current&&r(b.current.getPlace(),x.current,b.current)}))};return n?P().then(function(){return L()}):L(),function(){return S.current?S.current.remove():void 0}}},[]),(0,Hr.useEffect)(function(){return b.current&&r&&(S.current=b.current.addListener("place_changed",function(){r&&b&&b.current&&r(b.current.getPlace(),x.current,b.current)})),function(){return S.current?S.current.remove():void 0}},[r]),(0,Hr.useEffect)(function(){if(nf.isBrowser&&window.MutationObserver&&x.current&&x.current instanceof HTMLInputElement){var C=new MutationObserver(function(){C.disconnect(),x.current&&(x.current.autocomplete=c)});return C.observe(x.current,{attributes:!0,attributeFilter:["autocomplete"]}),function(){C.disconnect()}}},[c]),(0,Hr.useEffect)(function(){b.current&&b.current.setFields(y)},[y]),(0,Hr.useEffect)(function(){b.current&&b.current.setBounds(g)},[g]),(0,Hr.useEffect)(function(){b.current&&b.current.setComponentRestrictions(p)},[p]),(0,Hr.useEffect)(function(){b.current&&b.current.setOptions(v)},[v]),{ref:x,autocompleteRef:b}}function yc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yc=function(r){return typeof r}:yc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yc(e)}Object.defineProperty(id,"__esModule",{value:!0});id.default=void 0;var $p=z8(_),st=NS(Kw),U8=NS(od);function NS(e){return e&&e.__esModule?e:{default:e}}function jS(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(jS=function(s){return s?r:t})(e)}function z8(e,t){if(e&&e.__esModule)return e;if(e===null||yc(e)!=="object"&&typeof e!="function")return{default:e};var r=jS(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function lu(){return lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}function W8(e,t){if(e==null)return{};var r=Y8(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y8(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kS(e){var t=e.onPlaceSelected,r=e.apiKey,n=e.libraries,s=e.inputAutocompleteValue,a=e.options,i=e.googleMapsScriptBaseUrl,c=e.refProp,l=e.language,u=W8(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),d=(0,U8.default)({ref:c,googleMapsScriptBaseUrl:i,onPlaceSelected:t,apiKey:r,libraries:n,inputAutocompleteValue:s,options:a,language:l}),p=d.ref;return $p.default.createElement("input",lu({ref:p},u))}kS.propTypes={apiKey:st.default.string,libraries:st.default.arrayOf(st.default.string),ref:st.default.oneOfType([st.default.func,st.default.shape({current:st.default.any})]),googleMapsScriptBaseUrl:st.default.string,onPlaceSelected:st.default.func,inputAutocompleteValue:st.default.string,options:st.default.shape({componentRestrictions:st.default.object,bounds:st.default.object,location:st.default.object,offset:st.default.number,origin:st.default.object,radius:st.default.number,sessionToken:st.default.object,types:st.default.arrayOf(st.default.string)}),language:st.default.string};var H8=(0,$p.forwardRef)(function(e,t){return $p.default.createElement(kS,lu({},e,{refProp:t}))});id.default=H8;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"usePlacesWidget",{enumerable:!0,get:function(){return r.default}});var t=n(id),r=n(od);function n(s){return s&&s.__esModule?s:{default:s}}})(wS);var B8=wS;const V8=Yt(B8),za=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n0=(e=()=>[])=>za.reduce((t,r)=>{const n=e(r);return t[r]=n!==void 0?n:[],t},{}),An=()=>({id:null,profileImage:"",profileImageFile:null,name:"",email:"",phone:"",bio:"",experience_years:"",certifications:"",home_courts:[],levels:[],specialties:[],formats:[],price_private:100,price_semi:75,price_group:50,packages:[],languages:[],otherLanguage:"",availability:n0(()=>[]),availabilityLocations:n0(()=>({})),groupClasses:[],stripe_account_id:null,charges_enabled:!1,charges_disabled_reason:""}),Wt="https://ttp-api.codemymobile.com/api",Ap="async_user_key",ES=async(e,{method:t="GET",body:r}={})=>{const n=await Ru(),s={"Content-Type":"application/json;charset=UTF-8"};return n&&(s.Authorization=`token ${n}`),fetch(`${Wt}${e}`,{method:t,headers:s,body:r?JSON.stringify(r):void 0})},G8=async()=>ES("/stripe/onboard-user",{method:"POST",body:{}}),q8=async()=>ES("/stripe/onboard-user/refresh",{method:"GET"}),wi=async(e,t={})=>{let r=await Ru();const n={...t};n.headers={...t.headers||{}},r&&!n.headers.Authorization&&(n.headers.Authorization=`Bearer ${r}`);const s=e.startsWith("/")?`${Wt}${e}`:`${Wt}/${e}`;let a=await fetch(s,n);if(a.status===401){const i=await K8();if(!i)return await ro(),null;r=i.access_token,r?n.headers.Authorization=`Bearer ${r}`:delete n.headers.Authorization,a=await fetch(s,n)}return a},K8=async()=>{const e=await rT();if(!e)return null;const t=await fetch(`${Wt}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!t.ok)return await ro(),null;const r=await t.json();return await up(r.access_token,r.refresh_token),r},X8=e=>{const t={"Content-Type":"application/json;charset=UTF-8"};return e&&(t.Authorization=`token ${e}`),t},Q8=async()=>{const e=await Ru();return wi("/coach/profile",{method:"GET",headers:X8(e)})},cu=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Tn=e=>typeof e=="string"&&e.trim().length>0,ya=(e=[])=>Array.isArray(e)?e.map(t=>(typeof t=="string"?t.trim():String(t||"")).trim()).filter(t=>t.length>0):[],Z8=(e={})=>{if(!cu(e))return An().availability;const t={};for(const r of Object.keys(e)){const n=Array.isArray(e[r])?e[r]:[];t[r]=n.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0)}for(const r of za)t[r]||(t[r]=[]);return t},J8=(e={},t={})=>{if(!cu(e))return An().availabilityLocations;const r={};for(const[n,s]of Object.entries(e)){if(!cu(s))continue;const a=n,i=Array.isArray(t[a])?new Set(t[a]):new Set,c={};for(const[l,u]of Object.entries(s)){if(!Tn(l))continue;const d=typeof u=="string"?u.trim():String(u||"").trim();d&&i.has(l)&&(c[l]=d)}r[a]=c}for(const n of za)r[n]||(r[n]={});return r},eY=(e=[])=>Array.isArray(e)?e.map(t=>{if(!cu(t))return null;const r=Tn(t.name)?t.name.trim():"",n=Tn(t.day)?t.day.trim():"",s=Tn(t.time)?t.time.trim():"",a=Number(t.duration),i=Number(t.price),c=ya(t.levels);if(!r||!n||!s||!Number.isFinite(a)||a<=0||!Number.isFinite(i))return null;const l={name:r,day:n,time:s,duration:a,price:i,levels:c};return Tn(t.description)&&(l.description=t.description.trim()),Number.isFinite(t.maxStudents)&&t.maxStudents>0&&(l.maxStudents=Number(t.maxStudents)),Tn(t.court)&&(l.court=t.court.trim()),l}).filter(Boolean):[],tY=(e={})=>{const t=Z8(e.availability),r=J8(e.availabilityLocations,t),n={name:Tn(e.name)?e.name.trim():"",email:Tn(e.email)?e.email.trim():"",bio:typeof e.bio=="string"?e.bio.trim():"",experience_years:typeof e.experience_years=="string"?e.experience_years:e.experience_years??"",phone:Tn(e.phone)?e.phone.trim():"",certifications:typeof e.certifications=="string"?e.certifications.trim():e.certifications??"",home_courts:ya(e.home_courts),levels:ya(e.levels),specialties:ya(e.specialties),formats:ya(e.formats),languages:ya(e.languages),otherLanguage:typeof e.otherLanguage=="string"?e.otherLanguage.trim():"",price_private:Number.isFinite(Number(e.price_private))?Number(e.price_private):0,price_semi:Number.isFinite(Number(e.price_semi))?Number(e.price_semi):0,price_group:Number.isFinite(Number(e.price_group))?Number(e.price_group):0,availability:t,availabilityLocations:r,groupClasses:eY(e.groupClasses),packages:Array.isArray(e.packages)?e.packages:[],stripe_account_id:e.stripe_account_id??null,charges_enabled:!!e.charges_enabled,charges_disabled_reason:typeof e.charges_disabled_reason=="string"?e.charges_disabled_reason.trim():""};return typeof e.profileImage=="string"&&e.profileImage&&!e.profileImage.startsWith("data:")&&!e.profileImage.startsWith("blob:")&&(n.profileImage=e.profileImage.trim()),Object.keys(n).forEach(s=>{n[s]===void 0&&delete n[s]}),n},rY=async e=>{if(!e)throw new Error("A file type is required to request an upload URL.");const t=encodeURIComponent(e);return wi(`/coach/avatars/?file_type=${t}`,{method:"GET"})},nY=async(e,t,r)=>{if(!e||!t)throw new Error("Upload URL and file are required to upload an avatar.");const n={};return r&&(n["Content-Type"]=r),fetch(e,{method:"PUT",headers:n,body:t})},sY=async()=>wi("/coach/onboarding",{method:"GET"}),aY=async(e={})=>wi("/coach/onboarding",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(tY(e))}),iY="AIzaSyAkoVxf_uqgIUTm0wJUWXqNyx4qRxe9534",s0=()=>An(),CS=[{title:"Basic Info",icon:o.jsx(cp,{className:"h-4 w-4"})},{title:"Courts",icon:o.jsx(Xa,{className:"h-4 w-4"})},{title:"Levels",icon:o.jsx(eT,{className:"h-4 w-4"})},{title:"Specialties",icon:o.jsx(Dw,{className:"h-4 w-4"})},{title:"Formats",icon:o.jsx(Xc,{className:"h-4 w-4"})},{title:"Pricing",icon:o.jsx(qc,{className:"h-4 w-4"})},{title:"Payments",icon:o.jsx(UC,{className:"h-4 w-4"})},{title:"Languages",icon:o.jsx(YC,{className:"h-4 w-4"})},{title:"Availability",icon:o.jsx(Ka,{className:"h-4 w-4"})},{title:"Review",icon:o.jsx(zC,{className:"h-4 w-4"})}],oY=CS.slice(0,8),a0=({initialData:e,onComplete:t,isMobile:r,initialStep:n=0,onRefreshProfile:s,isSettingsMode:a=!1,onBack:i,onOpenGoogleCalendar:c})=>{var _r,Xn;const[l,u]=_.useState(()=>({...s0(),...e||{}})),[d,p]=_.useState(n||0),[f,y]=_.useState({}),[g,v]=_.useState(""),[w,h]=_.useState("not_connected"),[m,x]=_.useState(!1),[S,b]=_.useState(null),[k,j]=_.useState(""),P=_.useRef(null),C=_.useRef(null),[L,U]=_.useState("private"),[G,X]=_.useState(za[0]),[$,A]=_.useState({start:"09:00",end:"10:00",location:""}),[z,V]=_.useState(!1),[I,R]=_.useState(!1),[H,O]=_.useState(!1),[F,W]=_.useState(null),[K,Q]=_.useState(()=>e!=null&&e.profileImage&&typeof e.profileImage=="string"?e.profileImage:""),[oe,le]=_.useState(!1),ce=_.useRef(null);_.useEffect(()=>{if(e){const N=s0();u({...N,...e,profileImage:e.profileImage||N.profileImage,profileImageFile:e.profileImageFile||N.profileImageFile,availability:{...N.availability,...e.availability||{}},availabilityLocations:{...N.availabilityLocations,...e.availabilityLocations||{}}}),e.profileImage&&typeof e.profileImage=="string"?Q(e.profileImage):Q("")}},[e]),_.useEffect(()=>{p(n||0)},[n]),_.useEffect(()=>()=>{ce.current&&(URL.revokeObjectURL(ce.current),ce.current=null),C.current&&(clearInterval(C.current),C.current=null)},[]);const xe=_.useCallback(()=>l!=null&&l.charges_enabled?"verified":l!=null&&l.stripe_account_id?"pending":"not_connected",[l==null?void 0:l.charges_enabled,l==null?void 0:l.stripe_account_id]);_.useEffect(()=>{h(xe())},[xe]);const T=a?oY:CS,te=_.useMemo(()=>(d+1)/T.length*100,[T.length,d]);_.useEffect(()=>{p(N=>Math.min(N,T.length-1))},[T.length]);const J=_.useCallback(()=>{y(N=>{if(!N.profileImage)return N;const{profileImage:B,...ee}=N;return ee})},[]),he=_.useCallback(async N=>{var cr,Ms;if(!N){u(dt=>({...dt,profileImage:"",profileImageFile:null})),ce.current&&(URL.revokeObjectURL(ce.current),ce.current=null),Q(""),J();return}if(!(N instanceof File)||!((cr=N.type)!=null&&cr.startsWith("image/"))){y(dt=>({...dt,profileImage:"Please choose a valid image file"}));return}const B=N.type||"image/jpeg",ee=((Ms=B.split("/"))==null?void 0:Ms[1])||"",_e=typeof N.name=="string"&&N.name.split(".").pop()||"",ut=(ee||_e).toLowerCase()==="jpg"?"jpeg":(ee||_e).toLowerCase();if(!ut){y(dt=>({...dt,profileImage:"Unable to determine image type"}));return}try{J(),le(!0);const dt=await rY(ut);if(!dt||!dt.ok){let Kt="Unable to start profile photo upload.";try{const we=await dt.json();Kt=(we==null?void 0:we.detail)||(we==null?void 0:we.message)||(we==null?void 0:we.error)||Kt}catch{}throw new Error(Kt)}const fe=await dt.json().catch(()=>null),Qn=(fe==null?void 0:fe.uploadURL)||(fe==null?void 0:fe.uploadUrl)||(fe==null?void 0:fe.url)||(fe==null?void 0:fe.signedUrl)||(fe==null?void 0:fe.signedURL);if(!Qn)throw new Error("Upload URL not provided by server.");if(!(await nY(Qn,N,B)).ok)throw new Error("Failed to upload profile photo to storage.");const _i=(fe==null?void 0:fe.fileKey)||(fe==null?void 0:fe.file_key)||(fe==null?void 0:fe.key)||(fe==null?void 0:fe.s3Key)||(fe==null?void 0:fe.s3_key)||"",Zn=(fe==null?void 0:fe.fileUrl)||(fe==null?void 0:fe.file_url)||(fe==null?void 0:fe.cdnUrl)||(fe==null?void 0:fe.cdn_url)||(fe==null?void 0:fe.publicUrl)||(fe==null?void 0:fe.public_url)||"";if(u(Kt=>({...Kt,profileImage:_i||Zn||Kt.profileImage||"",profileImageFile:null})),ce.current&&(URL.revokeObjectURL(ce.current),ce.current=null),Zn)Q(Zn);else if(typeof window<"u"&&typeof URL<"u"&&URL.createObjectURL){const Kt=URL.createObjectURL(N);ce.current=Kt,Q(Kt)}else Q("")}catch(dt){const fe=dt instanceof Error?dt.message:"Failed to upload profile photo.";y(Qn=>({...Qn,profileImage:fe}))}finally{le(!1)}},[J]),ke=async N=>{var ee;if(oe){N.target&&(N.target.value="");return}const B=(ee=N.target.files)==null?void 0:ee[0];await he(B),N.target&&(N.target.value="")},Fe=async N=>{var ee,_e;if(N.preventDefault(),R(!1),oe){N.dataTransfer&&N.dataTransfer.clearData();return}const B=(_e=(ee=N.dataTransfer)==null?void 0:ee.files)==null?void 0:_e[0];await he(B),N.dataTransfer&&N.dataTransfer.clearData()},Ue=N=>{N.preventDefault(),!I&&!oe&&R(!0)},nt=N=>{N.preventDefault(),R(!1)},or=()=>{ce.current&&(URL.revokeObjectURL(ce.current),ce.current=null),Q(""),u(N=>({...N,profileImage:"",profileImageFile:null})),J()},xr=()=>{const N={};switch(d){case 0:{!l.profileImage&&!K&&(N.profileImage="Profile image is required"),l.name.trim()||(N.name="Name is required"),l.email.trim()||(N.email="Email is required"),l.bio.trim()||(N.bio="Bio is required"),l.bio.trim()&&l.bio.length<100&&(N.bio="Bio should be at least 100 characters"),l.experience_years||(N.experience_years="Years of experience is required");break}case 1:{l.home_courts.length===0&&(N.home_courts="Add at least one teaching location");break}case 2:{l.levels.length===0&&(N.levels="Select at least one level");break}case 8:{const B=Object.values(l.availability).some(_e=>_e.length>0),ee=l.groupClasses.length>0;!B&&!ee&&(N.availability="Add at least one availability slot or group class");break}}return y(N),Object.keys(N).length===0},Y=()=>{xr()&&d<T.length-1&&p(N=>N+1)},Oe=()=>{p(N=>Math.max(0,N-1))},Et=async()=>{var N;if(!(!xr()||!t)){W(null),O(!0);try{const B=await t(l);if(B!=null&&B.error){const ee=typeof B.error=="string"?B.error:((N=B.error)==null?void 0:N.message)||"Failed to submit profile";W(ee);return}p(0)}catch(B){const ee=B instanceof Error?B.message:"Failed to submit profile";W(ee)}finally{O(!1)}}},Vt=()=>{g.trim()&&!l.home_courts.includes(g)&&(u({...l,home_courts:[...l.home_courts,g.trim()]}),v(""))},Ur=N=>{u({...l,home_courts:l.home_courts.filter((B,ee)=>ee!==N)})},Gt=_.useCallback(async()=>{try{const N=await Q8();if(!(N!=null&&N.ok))return;const B=await N.json().catch(()=>null);u(ee=>({...ee,stripe_account_id:(B==null?void 0:B.stripe_account_id)??ee.stripe_account_id,charges_enabled:(B==null?void 0:B.charges_enabled)??ee.charges_enabled,charges_disabled_reason:(B==null?void 0:B.charges_disabled_reason)??ee.charges_disabled_reason}))}catch{}},[]),lr=_.useCallback((N={})=>{const B=(N.redirect_url||N.url||N.onboarding_url||"").trim(),ee=(N.return_url||"").trim();if(ee&&j(ee),B&&typeof window<"u"){const _e=window.open(B,"_blank","noopener,noreferrer");P.current=_e||null,C.current&&(clearInterval(C.current),C.current=null),C.current=window.setInterval(()=>{(!P.current||P.current.closed)&&(P.current=null,C.current&&(clearInterval(C.current),C.current=null),typeof s=="function"&&s(),Gt())},1e3)}},[s,Gt]);_.useEffect(()=>{Gt()},[Gt]);const qt=_.useCallback(async()=>{b(null),x(!0);try{const N=await G8();if(!N)throw new Error("Failed to start Stripe onboarding.");const B=await N.json().catch(()=>null);if(!N.ok){const ee=(B==null?void 0:B.message)||(B==null?void 0:B.error)||"Failed to start Stripe onboarding.";throw new Error(ee)}lr(B||{}),h("pending")}catch(N){const B=N instanceof Error?N.message:"Failed to start Stripe onboarding.";b(B),h("not_connected")}finally{x(!1)}},[lr]),br=_.useCallback(async()=>{b(null),x(!0);try{const N=await q8();if(!N)throw new Error("Unable to refresh Stripe onboarding.");const B=await N.json().catch(()=>null);if(!N.ok){const ee=(B==null?void 0:B.message)||(B==null?void 0:B.error)||"Unable to refresh Stripe onboarding.";throw new Error(ee)}lr(B||{}),h(ee=>ee==="not_connected"?"pending":ee)}catch(N){const B=N instanceof Error?N.message:"Unable to refresh Stripe onboarding.";b(B)}finally{x(!1)}},[lr]),ot=()=>{const N=l.availability[G]||[],B=l.availabilityLocations[G]||{},ee=`${$.start} - ${$.end}`;!N.includes(ee)&&$.location&&(u({...l,availability:{...l.availability,[G]:[...N,ee]},availabilityLocations:{...l.availabilityLocations,[G]:{...B,[ee]:$.location}}}),A({start:"09:00",end:"10:00",location:""}))},wr=(N,B)=>{const ee=[...l.availability[N]],_e=ee[B];ee.splice(B,1);const ut={...l.availabilityLocations[N]};delete ut[_e],u({...l,availability:{...l.availability,[N]:ee},availabilityLocations:{...l.availabilityLocations,[N]:ut}})},wn=()=>{const N={name:"",description:"",day:"Monday",time:"18:00",duration:90,levels:[],maxStudents:8,court:l.home_courts[0]||"",price:30};u({...l,groupClasses:[...l.groupClasses,N]})},wt=(N,B,ee)=>{const _e=[...l.groupClasses];_e[N]={..._e[N],[B]:ee},u({...l,groupClasses:_e})},Sn=N=>{u({...l,groupClasses:l.groupClasses.filter((B,ee)=>ee!==N)})},Kn=[{value:"beginner",label:"Beginner",color:"bg-green-100 text-green-700"},{value:"intermediate",label:"Intermediate",color:"bg-blue-100 text-blue-700"},{value:"advanced",label:"Advanced",color:"bg-purple-100 text-purple-700"},{value:"competitive",label:"Competitive",color:"bg-orange-100 text-orange-700"}],yt=[{value:"serve",label:"Serve",icon:""},{value:"forehand",label:"Forehand",icon:""},{value:"backhand",label:"Backhand",icon:""},{value:"volley",label:"Volley",icon:""},{value:"footwork",label:"Footwork",icon:""},{value:"strategy",label:"Strategy",icon:""},{value:"doubles",label:"Doubles",icon:""},{value:"mental",label:"Mental Game",icon:""},{value:"fitness",label:"Fitness",icon:""},{value:"juniors",label:"Juniors",icon:""}],nn=[{value:"private",label:"Private Lessons",desc:"One-on-one focused training"},{value:"semi",label:"Semi-Private",desc:"2-3 students sharing a lesson"},{value:"group",label:"Group Classes",desc:"4+ students in a class setting"},{value:"clinics",label:"Clinics",desc:"Specialized workshops"},{value:"hitting",label:"Hitting Partner",desc:"Rally and practice partner"}],Sr=_.useMemo(()=>[{value:"en",label:"English",flag:""},{value:"es",label:"Spanish",flag:""},{value:"zh",label:"Chinese",flag:""},{value:"fr",label:"French",flag:""},{value:"de",label:"German",flag:""},{value:"it",label:"Italian",flag:""},{value:"pt",label:"Portuguese",flag:""},{value:"ja",label:"Japanese",flag:""},{value:"ko",label:"Korean",flag:""}],[]),Le=_.useMemo(()=>{var B;const N=l.languages.map(ee=>{var _e;return((_e=Sr.find(ut=>ut.value===ee))==null?void 0:_e.label)||ee}).filter(Boolean);return(B=l.otherLanguage)!=null&&B.trim()&&N.push(...l.otherLanguage.split(",").map(ee=>ee.trim()).filter(Boolean)),N},[l.languages,l.otherLanguage,Sr]),St=K||(typeof l.profileImage=="string"&&l.profileImage?l.profileImage:""),Ee=_.useMemo(()=>{var N,B,ee,_e;return{0:!!(l.profileImage&&((N=l.name)!=null&&N.trim())&&((B=l.email)!=null&&B.trim())&&((ee=l.bio)!=null&&ee.trim())&&l.experience_years),1:Array.isArray(l.home_courts)&&l.home_courts.length>0,2:Array.isArray(l.levels)&&l.levels.length>0,3:Array.isArray(l.specialties)&&l.specialties.length>0,4:Array.isArray(l.formats)&&l.formats.length>0,5:!!l.price_private&&(!l.formats.includes("semi")||!!l.price_semi)&&(!l.formats.includes("group")||!!l.price_group),6:!!l.stripe_account_id,7:Array.isArray(l.languages)&&l.languages.length>0||!!((_e=l.otherLanguage)!=null&&_e.trim())}},[l]),ct=_.useMemo(()=>{const N=T.reduce((B,ee,_e)=>Ee[_e]?B+1:B,0);return Math.round(N/T.length*100)},[T,Ee]);return o.jsxs("div",{className:`min-h-screen ${a?"bg-slate-50":"bg-gradient-to-br from-green-50 to-white"}`,children:[o.jsx("div",{className:"border-b border-gray-200 bg-white shadow-sm",children:o.jsxs("div",{className:"mx-auto flex max-w-4xl flex-wrap items-center justify-between gap-4 px-4 py-4 sm:flex-nowrap",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[a&&o.jsx("button",{type:"button",onClick:i,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:"Back"}),o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:o.jsx("span",{className:"text-sm font-bold text-white",children:"TP"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-gray-900 sm:text-xl",children:"Tennis Plan"}),o.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Coach Portal"})]})]}),a&&o.jsx("button",{type:"button",onClick:c,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700",children:"Open Google Calendar Sync"}),r&&o.jsx("button",{type:"button",onClick:()=>V(N=>!N),className:"rounded-lg p-2 text-gray-500 hover:text-gray-700",children:o.jsx($w,{className:"h-5 w-5"})})]})}),z&&r&&o.jsx("div",{className:"border-b bg-white shadow-lg",children:o.jsx("div",{className:"max-h-64 space-y-1 overflow-y-auto px-4 py-2",children:T.map((N,B)=>o.jsxs("button",{type:"button",onClick:()=>{(a||B<d||xr())&&(p(B),V(!1))},className:`flex w-full items-center space-x-3 rounded-lg px-3 py-2 text-left text-sm ${B===d?"bg-green-50 text-green-600":B<d||a?"text-gray-700 hover:bg-gray-50":"cursor-not-allowed text-gray-400"}`,disabled:!a&&B>d,children:[B<d?o.jsx(lp,{className:"h-4 w-4 text-green-500"}):N.icon,o.jsx("span",{className:"font-medium",children:N.title})]},N.title))})}),o.jsxs("div",{className:`mx-auto px-4 py-4 sm:py-6 ${a?"max-w-7xl":"max-w-4xl"}`,children:[a&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 border-b border-slate-200 px-6 py-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("button",{type:"button",onClick:i,className:"rounded-xl border border-slate-200 px-4 py-2 text-xl text-slate-600 transition hover:bg-slate-50",children:""}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-semibold text-slate-900 md:text-4xl",children:"Edit Profile"}),o.jsx("p",{className:"text-lg text-slate-400 md:text-2xl",children:"Changes are visible to students after saving"})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:o.jsx("button",{type:"button",onClick:Et,disabled:H,className:"rounded-lg bg-violet-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-violet-700 disabled:cursor-not-allowed disabled:bg-violet-300",children:H?"Saving...":"Save Profile"})})]}),o.jsxs("div",{className:"border-b border-slate-200 px-6 py-4",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm font-semibold text-slate-700",children:[o.jsx("span",{children:"Profile completion"}),o.jsxs("span",{className:"text-emerald-600",children:[ct,"%"]})]}),o.jsx("div",{className:"h-2 rounded-full bg-slate-100",children:o.jsx("div",{className:"h-2 rounded-full bg-emerald-500 transition-all",style:{width:`${ct}%`}})})]})]})}),!a&&o.jsxs("div",{className:"mb-4 space-y-4 rounded-2xl bg-white p-4 shadow-lg sm:p-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Profile Completion"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:T[d].title})]}),o.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",d+1," of ",T.length]})]}),o.jsx("div",{className:"mt-3 h-2 rounded-full bg-gray-100",children:o.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all",style:{width:`${te}%`}})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-5",children:T.map((N,B)=>o.jsxs("div",{className:`flex flex-col items-center rounded-xl border px-3 py-2 text-xs ${B<d?"border-green-200 bg-green-50 text-green-600":B===d?"border-green-300 bg-white text-green-600 shadow-sm":"border-gray-200 bg-gray-50 text-gray-400"}`,children:[o.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${B<d?"bg-green-500 text-white":B===d?"bg-green-500 text-white ring-4 ring-green-100":"bg-gray-200 text-gray-500"}`,children:B<d?o.jsx(lp,{className:"h-4 w-4"}):N.icon}),o.jsx("span",{className:`mt-1 hidden text-xs sm:block ${B===d?"font-medium text-gray-900":"text-gray-500"}`,children:N.title})]},N.title))})]}),o.jsxs("div",{className:a?"mt-6 grid gap-6 lg:grid-cols-[260px_1fr]":"",children:[a&&o.jsxs("aside",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[o.jsx("p",{className:"mb-4 text-xs font-bold uppercase tracking-[0.2em] text-slate-400",children:"Public Profile"}),o.jsx("div",{className:"space-y-2",children:[0,1,2,3,4,5,7].map(N=>{var B,ee,_e;return o.jsxs("button",{type:"button",onClick:()=>p(N),className:`flex w-full items-center justify-between rounded-xl border px-3 py-2 text-left text-sm ${d===N?"border-violet-300 bg-violet-50 text-violet-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[o.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"text-slate-400",children:(B=T[N])==null?void 0:B.icon}),(ee=T[N])==null?void 0:ee.title]}),o.jsx("span",{className:Ee[N]?"text-emerald-500":"text-slate-300",children:""})]},((_e=T[N])==null?void 0:_e.title)||N)})}),o.jsx("p",{className:"mb-4 mt-6 text-xs font-bold uppercase tracking-[0.2em] text-slate-400",children:"Business"}),o.jsxs("button",{type:"button",onClick:()=>p(6),className:`flex w-full items-center justify-between rounded-xl border px-3 py-2 text-left text-sm ${d===6?"border-violet-300 bg-violet-50 text-violet-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:[o.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"text-slate-400",children:(_r=T[6])==null?void 0:_r.icon}),(Xn=T[6])==null?void 0:Xn.title]}),o.jsx("span",{className:Ee[6]?"text-emerald-500":"text-slate-300",children:""})]})]}),o.jsxs("div",{className:"space-y-6 rounded-2xl bg-white p-4 shadow-lg sm:p-6",children:[d===0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Start with the basics"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"profileImageInput",children:"Profile Photo *"}),o.jsxs("div",{className:`relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 text-center transition ${f.profileImage?"border-red-300 bg-red-50":I?"border-green-400 bg-green-50":"border-gray-300 bg-gray-50 hover:border-green-400"}`,onDragOver:Ue,onDragEnter:Ue,onDragLeave:nt,onDrop:Fe,children:[St?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:St,alt:"Profile preview",className:"mb-4 h-24 w-24 rounded-full border border-white object-cover shadow-md"}),o.jsx("p",{className:"text-sm text-gray-600",children:oe?"Uploading new photo":"Click or drop a new image to replace your current photo."}),o.jsx("button",{type:"button",onClick:or,disabled:oe,className:`mt-3 inline-flex items-center rounded-md border border-gray-300 px-3 py-1 text-xs font-medium transition ${oe?"cursor-not-allowed text-gray-400":"text-gray-600 hover:bg-gray-100"}`,children:"Remove photo"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-white text-gray-400 shadow-inner",children:o.jsx(cp,{className:"h-8 w-8"})}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Drag & drop or click to upload"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: square image, at least 400x400 pixels."})]}),o.jsx("input",{id:"profileImageInput",type:"file",accept:"image/*",onChange:ke,className:"absolute inset-0 h-full w-full cursor-pointer opacity-0",disabled:oe}),oe&&!St&&o.jsx("div",{className:"mt-3 text-sm text-gray-500",children:"Uploading photo"})]}),f.profileImage&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.profileImage})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Full Name *"}),o.jsx("input",{type:"text",value:l.name,onChange:N=>u({...l,name:N.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.name?"border-red-500":"border-gray-300"}`,placeholder:"John Smith"}),f.name&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Email *"}),o.jsx("input",{type:"email",value:l.email,onChange:N=>u({...l,email:N.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"coach@email.com"}),f.email&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Phone"}),o.jsx("input",{type:"tel",value:l.phone,onChange:N=>u({...l,phone:N.target.value}),className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"(555) 123-4567"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Years of Experience *"}),o.jsxs("select",{value:l.experience_years,onChange:N=>u({...l,experience_years:N.target.value}),className:`w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.experience_years?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Select years"}),o.jsx("option",{value:"0-2",children:"0-2 years"}),o.jsx("option",{value:"3-5",children:"3-5 years"}),o.jsx("option",{value:"6-10",children:"6-10 years"}),o.jsx("option",{value:"11-15",children:"11-15 years"}),o.jsx("option",{value:"16+",children:"16+ years"})]}),f.experience_years&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.experience_years})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Professional Certifications"}),o.jsx("div",{className:"mb-3 grid grid-cols-2 gap-2 sm:grid-cols-3",children:[{value:"USPTA",label:"USPTA"},{value:"USPTA Elite",label:"USPTA Elite"},{value:"PTR",label:"PTR"},{value:"PTR Master",label:"PTR Master"},{value:"USTA High Performance",label:"USTA HP"},{value:"ITF Level 1",label:"ITF Level 1"},{value:"ITF Level 2",label:"ITF Level 2"},{value:"ITF Level 3",label:"ITF Level 3"},{value:"RSPA",label:"RSPA"}].map(N=>o.jsxs("label",{className:"flex items-center space-x-2 rounded-lg border p-2 text-sm text-gray-700 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:l.certifications.split(", ").includes(N.value),onChange:B=>{const ee=l.certifications?l.certifications.split(", "):[];if(B.target.checked)ee.includes(N.value)||ee.push(N.value);else{const _e=ee.indexOf(N.value);_e!==-1&&ee.splice(_e,1)}u({...l,certifications:ee.filter(Boolean).join(", ")})},className:"rounded text-green-500 focus:ring-green-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:N.label})]},N.value))}),o.jsx("input",{type:"text",value:l.certifications,onChange:N=>u({...l,certifications:N.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Add other certifications or edit..."}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Check common certifications or type additional ones"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Bio * ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.bio.length,"/400)"]})]}),o.jsx("textarea",{value:l.bio,onChange:N=>u({...l,bio:N.target.value}),className:`h-32 w-full rounded-lg border px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 ${f.bio?"border-red-500":"border-gray-300"}`,placeholder:"Tell potential students about your experience, teaching philosophy, and what makes your lessons special...",maxLength:400}),f.bio&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:f.bio}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[o.jsx(HC,{className:"mr-1 inline h-3 w-3"}),"This bio will be analyzed by AI to match you with compatible students"]})]})]})]}),d===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Where do you teach?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Add all locations where you regularly teach"}),o.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[o.jsx(V8,{apiKey:iY,value:g,onChange:N=>v(N.target.value),onKeyDown:N=>N.key==="Enter"&&Vt(),onPlaceSelected:N=>{const B=(N==null?void 0:N.formatted_address)||(N==null?void 0:N.name)||"";B&&v(B)},options:{types:["establishment","geocode"]},className:"flex-1 rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter tennis court or location...",defaultValue:""}),o.jsx("button",{type:"button",onClick:Vt,className:"rounded-lg bg-green-500 px-4 py-3 text-white transition hover:bg-green-600",children:"Add"})]}),f.home_courts&&o.jsx("p",{className:"text-xs text-red-500",children:f.home_courts}),o.jsxs("div",{className:"space-y-2",children:[l.home_courts.map((N,B)=>o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg bg-gray-50 px-4 py-3 text-sm text-gray-700",children:[o.jsx("span",{className:"break-words",children:N}),o.jsx("button",{type:"button",onClick:()=>Ur(B),className:"rounded-lg p-2 text-red-500 transition hover:bg-red-50",children:o.jsx(Yd,{className:"h-4 w-4"})})]},N)),l.home_courts.length===0&&o.jsx("p",{className:"text-sm text-gray-500",children:"No locations added yet"})]})]}),d===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Which student levels do you teach?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Select all skill levels you are comfortable coaching"}),o.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-4",children:Kn.map(N=>o.jsxs("label",{className:`flex flex-wrap items-center justify-between gap-2 rounded-lg border px-4 py-3 text-sm font-medium ${l.levels.includes(N.value)?`${N.color} border-transparent`:"border-gray-200 bg-white text-gray-600"}`,children:[o.jsx("span",{children:N.label}),o.jsx("input",{type:"checkbox",checked:l.levels.includes(N.value),onChange:B=>{B.target.checked?u({...l,levels:[...l.levels,N.value]}):u({...l,levels:l.levels.filter(ee=>ee!==N.value)})},className:"rounded text-green-500 focus:ring-green-500"})]},N.value))}),f.levels&&o.jsx("p",{className:"text-xs text-red-500",children:f.levels})]}),d===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What are your specialties?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Select areas where you excel in teaching"}),o.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3",children:yt.map(N=>o.jsxs("label",{className:"flex cursor-pointer items-center space-x-2 rounded-lg border p-3 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:l.specialties.includes(N.value),onChange:B=>{B.target.checked?u({...l,specialties:[...l.specialties,N.value]}):u({...l,specialties:l.specialties.filter(ee=>ee!==N.value)})},className:"rounded text-green-500 focus:ring-green-500"}),o.jsx("span",{className:"text-xl",children:N.icon}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.label})]},N.value))})]}),d===4&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What formats do you offer?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Select all lesson formats you provide"}),o.jsx("div",{className:"space-y-3",children:nn.map(N=>o.jsxs("label",{className:"flex cursor-pointer items-start space-x-3 rounded-lg border p-4 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:l.formats.includes(N.value),onChange:B=>{B.target.checked?u({...l,formats:[...l.formats,N.value]}):u({...l,formats:l.formats.filter(ee=>ee!==N.value)})},className:"mt-1 rounded text-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.label}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500",children:N.desc})]})]},N.value))})]}),d===5&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set your pricing"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Enter your hourly rates for different formats"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Private Lessons (per hour)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),o.jsx("input",{type:"number",value:l.price_private,onChange:N=>u({...l,price_private:parseInt(N.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"40"})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: $80-150/hour"})]}),l.formats.includes("semi")&&o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Semi-Private (per student)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),o.jsx("input",{type:"number",value:l.price_semi,onChange:N=>u({...l,price_semi:parseInt(N.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"30"})]})]}),l.formats.includes("group")&&o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Group Classes (per student)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),o.jsx("input",{type:"number",value:l.price_group,onChange:N=>u({...l,price_group:parseInt(N.target.value,10)||0}),className:"w-full rounded-lg border border-gray-300 px-8 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",min:"20"})]})]})]})]}),d===6&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set up payments"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Connect with Stripe to receive payments directly from students"}),S&&o.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-600",children:S}),w==="not_connected"&&o.jsxs("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-indigo-50 p-6",children:[o.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"Secure payments with Stripe"}),o.jsxs("ul",{className:"mb-4 space-y-2 text-sm text-gray-700",children:[o.jsx("li",{children:" Direct deposits to your bank account"}),o.jsx("li",{children:" Automatic payouts (daily, weekly, or monthly)"}),o.jsx("li",{children:" Industry-standard 2.9% + $0.30 processing fee"}),o.jsx("li",{children:" PCI compliant and bank-level security"})]}),o.jsx("button",{type:"button",onClick:qt,disabled:m,className:"rounded-lg bg-purple-600 px-6 py-3 text-white transition hover:bg-purple-700",children:m?"Connecting":"Connect with Stripe "})]}),w==="pending"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 p-6 text-sm text-yellow-700",children:m?"Opening Stripecomplete the verification in the new tab.":"Stripe is still finishing your verification. If you recently submitted your details, click below to resume or check again."}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("button",{type:"button",onClick:br,disabled:m,className:"rounded-lg bg-purple-600 px-6 py-3 text-sm font-medium text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:opacity-70",children:m?"Opening Stripe":"Resume Stripe setup"}),k&&o.jsxs("span",{className:"text-xs text-gray-500",children:["Once Stripe redirects you back to"," ",o.jsx("span",{className:"font-medium text-gray-600",children:k}),", refresh this page to continue."]})]})]}),w==="verified"&&o.jsx("div",{className:"rounded-xl border border-green-200 bg-green-50 p-6 text-sm text-green-700",children:"Stripe account connected successfully!"}),m&&w==="not_connected"&&o.jsx("div",{className:"text-sm text-gray-500",children:"Preparing Stripe onboarding"})]}),d===7&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Which languages do you speak?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Help students find coaches they can communicate with"}),o.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Sr.map(N=>o.jsxs("label",{className:"flex cursor-pointer items-center space-x-2 rounded-lg border p-3 hover:bg-gray-50",children:[o.jsx("input",{type:"checkbox",checked:l.languages.includes(N.value),onChange:B=>{B.target.checked?u({...l,languages:[...l.languages,N.value]}):u({...l,languages:l.languages.filter(ee=>ee!==N.value)})},className:"rounded text-green-500 focus:ring-green-500"}),o.jsx("span",{className:"text-xl",children:N.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.label})]},N.value))}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"otherLanguage",children:"Other languages"}),o.jsx("input",{id:"otherLanguage",type:"text",value:l.otherLanguage,onChange:N=>u({...l,otherLanguage:N.target.value}),placeholder:"Add any additional languages",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-200"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Use commas to separate multiple languages."})]})]}),d===8&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set your availability"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Add your regular teaching hours and group classes"}),o.jsxs("div",{className:"flex space-x-2 rounded-lg bg-gray-100 p-1",children:[o.jsx("button",{type:"button",onClick:()=>U("private"),className:`flex-1 rounded-md py-2 text-sm font-medium transition-all ${L==="private"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Private Lesson Slots"}),o.jsx("button",{type:"button",onClick:()=>U("group"),className:`flex-1 rounded-md py-2 text-sm font-medium transition-all ${L==="group"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Regular Group Classes"})]}),L==="private"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:za.map(N=>o.jsxs("button",{type:"button",onClick:()=>X(N),className:`whitespace-nowrap rounded-lg px-4 py-2 font-medium ${G===N?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[N.slice(0,3),l.availability[N].length>0&&o.jsx("span",{className:"ml-2 rounded-full bg-white/20 px-1.5 py-0.5 text-xs",children:l.availability[N].length})]},N))}),o.jsxs("div",{className:"mt-4 rounded-lg bg-gray-50 p-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("h3",{className:"font-medium text-gray-900",children:[G," Private Slots"]}),o.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center sm:gap-2",children:[o.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("input",{type:"time",value:$.start,onChange:N=>A({...$,start:N.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto"}),o.jsx("span",{className:"text-center text-gray-500 sm:inline sm:text-left",children:"to"}),o.jsx("input",{type:"time",value:$.end,onChange:N=>A({...$,end:N.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto"})]}),o.jsxs("select",{value:$.location,onChange:N=>A({...$,location:N.target.value}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm sm:w-auto",children:[o.jsx("option",{value:"",children:"Select court"}),l.home_courts.map(N=>o.jsx("option",{value:N,children:N},N))]}),o.jsx("button",{type:"button",onClick:ot,className:"w-full rounded bg-green-500 px-3 py-2 text-sm text-white hover:bg-green-600 sm:w-auto sm:py-1",children:"Add"})]})]}),o.jsx("div",{className:"mt-4 space-y-2",children:l.availability[G].length>0?l.availability[G].map((N,B)=>{var ee;return o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded bg-white p-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-700",children:N}),((ee=l.availabilityLocations[G])==null?void 0:ee[N])&&o.jsxs("span",{className:"block text-xs text-gray-500",children:["at ",l.availabilityLocations[G][N]]})]}),o.jsx("button",{type:"button",onClick:()=>wr(G,B),className:"rounded-lg p-2 text-red-500 hover:bg-red-50",children:o.jsx(Yd,{className:"h-4 w-4"})})]},`${N}-${B}`)}):o.jsxs("p",{className:"py-4 text-center text-sm text-gray-500",children:["No private slots set for ",G]})})]})]}),L==="group"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Regular Weekly Group Classes"}),o.jsxs("button",{type:"button",onClick:wn,className:"flex items-center space-x-1 text-sm font-medium text-green-600 hover:text-green-700",children:[o.jsx(Aw,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Class"})]})]}),l.groupClasses.length>0?o.jsx("div",{className:"space-y-4",children:l.groupClasses.map((N,B)=>o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Class Name"}),o.jsx("input",{type:"text",value:N.name,onChange:ee=>wt(B,"name",ee.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., Junior High Performance"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Day"}),o.jsx("select",{value:N.day,onChange:ee=>wt(B,"day",ee.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:za.map(ee=>o.jsx("option",{value:ee,children:ee},ee))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Time"}),o.jsx("input",{type:"time",value:N.time,onChange:ee=>wt(B,"time",ee.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:N.duration,onChange:ee=>wt(B,"duration",parseInt(ee.target.value,10)||0),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Court"}),o.jsxs("select",{value:N.court,onChange:ee=>wt(B,"court",ee.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"Select court"}),l.home_courts.map(ee=>o.jsx("option",{value:ee,children:ee},ee))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"Price per student"}),o.jsx("input",{type:"number",value:N.price,onChange:ee=>wt(B,"price",parseInt(ee.target.value,10)||0),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),o.jsxs("button",{type:"button",onClick:()=>Sn(B),className:"mt-4 inline-flex items-center space-x-2 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-600 hover:bg-red-100",children:[o.jsx(Yd,{className:"h-4 w-4"}),o.jsx("span",{children:"Remove Class"})]})]},B))}):o.jsx("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 p-6 text-center text-sm text-gray-500",children:"No group classes added yet"})]}),f.availability&&o.jsx("p",{className:"text-xs text-red-500",children:f.availability})]}),d===9&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review your profile"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Make sure everything looks good before submitting"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[o.jsx(cp,{className:"h-4 w-4"}),o.jsx("span",{children:"Basic Information"})]}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-full border border-gray-200 bg-white shadow-sm",children:l.profileImage?o.jsx("img",{src:l.profileImage,alt:"Selected profile",className:"h-full w-full object-cover"}):o.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-100 text-xs text-gray-500",children:"No photo"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:"Profile Photo"}),o.jsx("p",{className:"text-sm text-gray-700",children:l.profileImage?"Ready to upload":"Not provided"})]})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",l.name||"Not provided"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("span",{className:"break-all",children:l.email||"Not provided"})]}),l.phone&&o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",l.phone]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Experience:"})," ",l.experience_years||"Not provided"]}),l.certifications&&o.jsxs("p",{children:[o.jsx("strong",{children:"Certifications:"})," ",l.certifications]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Bio:"})," ",l.bio||"Not provided"]})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[o.jsx(Xa,{className:"h-4 w-4"}),o.jsx("span",{children:"Locations & Availability"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Locations:"})," ",l.home_courts.length>0?l.home_courts.join(", "):"None added"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Private Slots:"})," ",Object.values(l.availability).flat().length," total"]}),l.groupClasses.length>0&&o.jsxs("p",{children:[o.jsx("strong",{children:"Group Classes:"})," ",l.groupClasses.length," weekly classes"]})]})]}),o.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[o.jsxs("h3",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-900",children:[o.jsx(LC,{className:"h-4 w-4"}),o.jsx("span",{children:"Coaching Details"})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Levels:"})," ",l.levels.length>0?l.levels.join(", "):"None selected"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Specialties:"})," ",l.specialties.length>0?l.specialties.join(", "):"None selected"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Formats:"})," ",l.formats.length>0?l.formats.join(", "):"None selected"]}),o.jsx("p",{children:o.jsx("strong",{children:"Pricing:"})}),o.jsxs("ul",{className:"ml-4 list-disc space-y-1 text-gray-600",children:[o.jsxs("li",{children:["Private: $",l.price_private,"/hour"]}),l.formats.includes("semi")&&l.price_semi&&o.jsxs("li",{children:["Semi-Private: $",l.price_semi,"/hour"]}),l.formats.includes("group")&&l.price_group&&o.jsxs("li",{children:["Group: $",l.price_group,"/hour"]})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Languages:"})," ",Le.length>0?Le.join(", "):"None selected"]})]})]})]})]})]}),o.jsxs("div",{className:"mt-6 flex flex-col justify-between gap-3 sm:flex-row",children:[!a&&o.jsxs("button",{type:"button",onClick:Oe,disabled:d===0||H,className:`flex w-full items-center justify-center space-x-2 rounded-lg border px-6 py-3 text-sm font-medium transition sm:w-auto ${d===0||H?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Mw,{className:"h-4 w-4"}),o.jsx("span",{children:"Back"})]}),!a&&d<T.length-1?o.jsxs("button",{type:"button",onClick:Y,disabled:H,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-3 text-sm font-medium text-white transition hover:from-green-600 hover:to-emerald-700 sm:w-auto",children:[o.jsx("span",{children:"Next"}),o.jsx(FC,{className:"h-4 w-4"})]}):o.jsxs("button",{type:"button",onClick:Et,disabled:H,className:"flex w-full items-center justify-center space-x-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-3 text-sm font-medium text-white transition hover:from-green-600 hover:to-emerald-700 sm:w-auto",children:[o.jsx(qC,{className:"h-4 w-4"}),o.jsx("span",{children:H?"Saving...":a?"Save Profile":"Submit"})]})]}),F&&o.jsx("div",{className:"rounded-lg bg-red-50 px-4 py-3 text-sm text-red-600",children:F})]})]})]})},zo=(...e)=>e.filter(Boolean).join(" "),i0={center:"items-center",bottom:"items-end sm:items-center"};function Si({isOpen:e,onClose:t,children:r,placement:n="center",overlayClassName:s="",panelClassName:a="",closeOnOverlay:i=!0}){if(!e)return null;const c=l=>{l.target===l.currentTarget&&i&&(t==null||t())};return o.jsx("div",{className:zo("fixed inset-0 z-50 flex bg-black/50 p-4",i0[n]??i0.center,s),onClick:c,children:o.jsx("div",{className:zo("w-full max-h-full overflow-y-auto rounded-lg bg-white shadow-xl",n==="bottom"?"rounded-t-xl sm:rounded-lg":"",a),children:r})})}function cl({title:e,description:t,onClose:r,className:n="",children:s}){return o.jsxs("div",{className:zo("flex items-start justify-between gap-4 border-b border-gray-100 px-6 py-4",n),children:[o.jsxs("div",{className:"space-y-1",children:[e&&o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-500",children:t}),s]}),r&&o.jsx("button",{type:"button",onClick:r,className:"rounded-full p-2 text-gray-400 transition hover:text-gray-600",children:o.jsx(Lw,{className:"h-5 w-5"})})]})}function ul({className:e="",children:t}){return o.jsx("div",{className:zo("px-6 py-4",e),children:t})}function cd({className:e="",children:t}){return o.jsx("div",{className:zo("flex flex-col-reverse gap-3 border-t border-gray-100 px-6 py-4 sm:flex-row sm:justify-end",e),children:t})}const lY=({isOpen:e,slot:t,onChange:r,onClose:n,onSubmit:s,isSubmitting:a=!1,locations:i=[]})=>{const c=(p,f)=>{r({...t,[p]:f})},l=i.map(p=>{if(p&&typeof p=="object"){const f=p.location_id??p.locationId??p.id??p.value,y=p.location??p.name??p.label??p.address??String(f??"");return{id:f,label:y}}return{id:null,label:String(p)}}),u=l.some(p=>p.id!==null&&p.id!==void 0),d=t.date&&t.start&&t.end&&(u?t.location_id:t.location);return o.jsxs(Si,{isOpen:e,onClose:n,placement:"bottom",panelClassName:"w-full sm:max-w-md",children:[o.jsx(cl,{title:"Add Availability",onClose:n}),o.jsxs(ul,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),o.jsx("input",{type:"date",value:t.date,onChange:p=>c("date",p.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start"}),o.jsx("input",{type:"time",value:t.start,onChange:p=>c("start",p.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End"}),o.jsx("input",{type:"time",value:t.end,onChange:p=>c("end",p.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),o.jsxs("select",{value:u?t.location_id??"":t.location,onChange:p=>{const f=p.target.value;if(u){const y=l.find(g=>String(g.id)===f);c("location_id",(y==null?void 0:y.id)??null),c("location",(y==null?void 0:y.label)??"")}else c("location",f),c("location_id",null)},className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select location"}),l.map(p=>o.jsx("option",{value:p.id??p.label,children:p.label},p.id??p.label))]})]})]}),o.jsxs(cd,{children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded-lg bg-gray-100 px-4 py-3 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),o.jsx("button",{type:"button",onClick:s,disabled:!d||a,className:`flex-1 rounded-lg px-4 py-3 text-white transition sm:flex-none ${d&&!a?"bg-purple-600 hover:bg-purple-700":"cursor-not-allowed bg-purple-300"}`,children:a?"Saving":"Save Availability"})]})]})},cY=({isOpen:e,title:t,description:r,confirmLabel:n="Confirm",cancelLabel:s="Cancel",onConfirm:a,onCancel:i,tone:c="warning"})=>{const l={warning:{icon:"text-yellow-500",button:"bg-red-600 hover:bg-red-700"},danger:{icon:"text-red-500",button:"bg-red-600 hover:bg-red-700"},default:{icon:"text-blue-500",button:"bg-purple-600 hover:bg-purple-700"}},u=l[c]??l.default;return o.jsxs(Si,{isOpen:e,onClose:i,panelClassName:"max-w-md",placement:"center",children:[o.jsx(cl,{onClose:i,children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[o.jsx($C,{className:`h-5 w-5 ${u.icon}`}),o.jsx("span",{className:"text-lg font-semibold",children:t})]})}),o.jsx(ul,{children:o.jsx("p",{className:"text-sm text-gray-600",children:r})}),o.jsxs(cd,{children:[o.jsx("button",{type:"button",onClick:i,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:s}),o.jsx("button",{type:"button",onClick:a,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${u.button}`,children:n})]})]})},uY=[{id:"private",label:"Private Lessons"},{id:"semi_private",label:"Semi-Private Lessons"},{id:"group",label:"Group Classes"}],o0=()=>({name:"",description:"",lessonCount:"",totalPrice:"",validityMonths:"",lessonTypesAllowed:["private"]}),dY=({isOpen:e,onClose:t,onCreated:r=()=>{}})=>{const[n,s]=_.useState(o0),[a,i]=_.useState(!1),[c,l]=_.useState(""),u=_.useMemo(()=>new Set(n.lessonTypesAllowed),[n.lessonTypesAllowed]),d=()=>{s(o0()),l("")};_.useEffect(()=>{e&&d()},[e]);const p=v=>w=>{const{value:h}=w.target;s(m=>({...m,[v]:h}))},f=v=>{s(w=>{const h=new Set(w.lessonTypesAllowed);return h.has(v)?h.delete(v):h.add(v),{...w,lessonTypesAllowed:Array.from(h)}})},y=_.useMemo(()=>{const v=Number(n.lessonCount),w=Number(n.totalPrice);return!(!n.name.trim()||!Number.isFinite(v)||v<=0||!Number.isFinite(w)||w<0||!n.validityMonths)},[n]),g=async()=>{var w;if(a||!y)return;i(!0),l("");const v={name:n.name.trim(),description:n.description.trim(),lessonCount:Number(n.lessonCount),totalPrice:Number(n.totalPrice),validityMonths:n.validityMonths==="0"?null:Number(n.validityMonths),lessonTypesAllowed:n.lessonTypesAllowed};try{const h=await wi("/coach/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!h){l("Your session has expired. Please sign in again.");return}if(!h.ok){let x="Failed to create package. Please try again.";try{const S=await h.json();x=(S==null?void 0:S.message)||(S==null?void 0:S.error)||((w=S==null?void 0:S.errors)==null?void 0:w[0])||x}catch{}l(x);return}const m=await h.json().catch(()=>null);r(m),d(),t()}catch(h){l("An unexpected error occurred. Please try again."),console.error("Failed to create package",h)}finally{i(!1)}};return o.jsxs(Si,{isOpen:e,onClose:t,panelClassName:"max-w-md",children:[o.jsx(cl,{title:"Create Lesson Package",onClose:t}),o.jsxs(ul,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package Name *"}),o.jsx("input",{type:"text",placeholder:"e.g., 10 Lesson Bundle",value:n.name,onChange:p("name"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{placeholder:"Brief description of the package...",value:n.description,onChange:p("description"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 h-20"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Lessons *"}),o.jsx("input",{type:"number",min:"1",placeholder:"10",value:n.lessonCount,onChange:p("lessonCount"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Price ($) *"}),o.jsx("input",{type:"number",min:"0",placeholder:"850",value:n.totalPrice,onChange:p("totalPrice"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validity Period *"}),o.jsxs("select",{value:n.validityMonths,onChange:p("validityMonths"),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select validity"}),o.jsx("option",{value:"1",children:"1 month"}),o.jsx("option",{value:"3",children:"3 months"}),o.jsx("option",{value:"6",children:"6 months"}),o.jsx("option",{value:"12",children:"12 months"}),o.jsx("option",{value:"0",children:"No expiration"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lesson Types Allowed"}),o.jsx("div",{className:"space-y-2",children:uY.map(({id:v,label:w})=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"rounded text-purple-600",checked:u.has(v),onChange:()=>f(v)}),o.jsx("span",{className:"ml-2 text-sm",children:w})]},v))})]}),c&&o.jsx("div",{className:"rounded-lg bg-red-50 px-3 py-2 text-sm text-red-600",children:c})]}),o.jsxs(cd,{children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,disabled:!y||a,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${y&&!a?"bg-purple-600 hover:bg-purple-700":"cursor-not-allowed bg-purple-300"}`,children:a?"Creating":"Create Package"})]})]})},l0=e=>typeof e!="string"?[]:e.split(",").map(t=>t.trim()).filter(Boolean),fY=e=>e.toLowerCase(),pY=e=>{const t=e.replace(/[^\d+]/g,"").replace(/(?!^)\+/g,""),r=t.replace(/\D/g,"");return r.length===11&&r.startsWith("1")?r.slice(1):r||t.toLowerCase()},c0=(e,t)=>{const r=new Set,n=[];return e.forEach(s=>{const a=t(s);!a||r.has(a)||(r.add(a),n.push(s))}),n},u0=({emails:e="",phones:t=""}={})=>{const r=c0(l0(e),fY),n=c0(l0(t),pY);return{emails:r,phone_numbers:n}},mY=e=>{var t;if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.results))return e.results;if(Array.isArray(e.invites))return e.invites;if(Array.isArray((t=e.data)==null?void 0:t.results))return e.data.results;if(Array.isArray(e.data))return e.data}return[]},hY=e=>(e==null?void 0:e.recipient)||(e==null?void 0:e.email)||(e==null?void 0:e.phone_number)||(e==null?void 0:e.phone)||(e==null?void 0:e.to)||"Unknown",gY=e=>(e==null?void 0:e.claimLink)||(e==null?void 0:e.claim_link)||(e==null?void 0:e.link)||(e==null?void 0:e.url)||"",vY=e=>mY(e).map(t=>{const r=String((t==null?void 0:t.status)||(t==null?void 0:t.result)||"").toLowerCase(),n=typeof(t==null?void 0:t.sent)=="boolean"?t.sent:r.includes("sent")||r.includes("success")||(t==null?void 0:t.ok)===!0;return{recipient:hY(t),sent:n,reason:(t==null?void 0:t.reason)||(t==null?void 0:t.message)||(t==null?void 0:t.error)||"",claimLink:gY(t)}}),yY=e=>!e||typeof e!="object"?"":e.claimLink||e.claim_link||e.shareLink||e.link||e.url||"",xY=async e=>{var t;if(!e||typeof navigator>"u"||!((t=navigator.clipboard)!=null&&t.writeText))return!1;try{return await navigator.clipboard.writeText(e),!0}catch{return!1}},bY=({lessonId:e})=>{const[t,r]=_.useState(""),[n,s]=_.useState(""),[a,i]=_.useState(7),[c,l]=_.useState([]),[u,d]=_.useState(""),[p,f]=_.useState(""),[y,g]=_.useState(""),[v,w]=_.useState(""),[h,m]=_.useState(!1),[x,S]=_.useState(!1),b=_.useMemo(()=>{const C=u0({emails:t,phones:n});return C.emails.length>0||C.phone_numbers.length>0},[t,n]),k=async C=>{await xY(C)&&(w(C),window.setTimeout(()=>w(U=>U===C?"":U),1400))},j=async()=>{if(!e)return;const C=u0({emails:t,phones:n});if(C.emails.length===0&&C.phone_numbers.length===0){g("Enter at least one email or phone number."),f("");return}m(!0),g(""),f("");try{const L={...C,expires_in_days:Number.isFinite(Number(a))?Math.max(1,Number(a)):7},U=await hT(e,L),G=vY(U);l(G),f(G.length>0?"Invites processed.":"Invites sent.")}catch(L){const U=L instanceof Error?L.message:"Failed to send invites.";g(U)}finally{m(!1)}},P=async()=>{if(e){S(!0),g(""),f("");try{const C={expires_in_days:Number.isFinite(Number(a))?Math.max(1,Number(a)):7},L=await gT(e,C),U=yY(L);d(U),f("Share link created.")}catch(C){const L=C instanceof Error?C.message:"Failed to create share link.";g(L)}finally{S(!1)}}};return o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[o.jsx("div",{className:"mb-4 flex items-center justify-between",children:o.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Lesson Invites"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Emails"}),o.jsx("input",{type:"text",value:t,onChange:C=>r(C.target.value),placeholder:"athlete1@example.com, athlete2@example.com",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Phone numbers"}),o.jsx("input",{type:"text",value:n,onChange:C=>s(C.target.value),placeholder:"+1 555 111 2222, 555-333-4444",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Expires in days"}),o.jsx("input",{type:"number",min:1,value:a,onChange:C=>i(C.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[o.jsx("button",{type:"button",onClick:j,disabled:h||!b,className:`rounded-xl px-4 py-2 text-sm font-semibold text-white transition ${h||!b?"cursor-not-allowed bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:h?"Sending":"Send Invites"}),o.jsx("button",{type:"button",onClick:P,disabled:x,className:`rounded-xl border px-4 py-2 text-sm font-semibold transition ${x?"cursor-not-allowed border-slate-200 bg-slate-100 text-slate-400":"border-slate-300 bg-white text-slate-700 hover:bg-slate-100"}`,children:x?"Creating":"Create Generic Share Link"})]}),p?o.jsx("p",{className:"text-sm font-medium text-emerald-600",children:p}):null,y?o.jsx("p",{className:"text-sm font-medium text-rose-600",children:y}):null,u?o.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3",children:[o.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-emerald-700",children:"Generic share link"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"min-w-0 flex-1 truncate text-sm text-emerald-900",children:u}),o.jsx("button",{type:"button",onClick:()=>k(u),className:"rounded-lg border border-emerald-300 px-2 py-1 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:v===u?"Copied":"Copy"})]})]}):null,c.length>0?o.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-left text-sm",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Recipient"}),o.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),o.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Reason"}),o.jsx("th",{className:"px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Claim Link"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map((C,L)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-slate-800",children:C.recipient}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:C.sent?"font-semibold text-emerald-600":"font-semibold text-rose-600",children:C.sent?"Sent":"Failed"})}),o.jsx("td",{className:"px-3 py-2 text-slate-600",children:C.reason||"-"}),o.jsx("td",{className:"px-3 py-2",children:C.claimLink?o.jsx("button",{type:"button",onClick:()=>k(C.claimLink),className:"rounded-lg border border-slate-300 px-2 py-1 text-xs font-semibold text-slate-700 hover:bg-slate-100",children:v===C.claimLink?"Copied":"Copy"}):o.jsx("span",{className:"text-slate-400",children:"-"})})]},`${C.recipient}-${L}`))})]})}):null]})]})},wY={private:"bg-[#FEE2E2] text-[#DC2626]","semi-private":"bg-[#FEF3C7] text-[#D97706]",group:"bg-[#D1FAE5] text-[#059669]"},SY={private:"bg-[#F1F5F9] text-[#94A3B8]","semi-private":"bg-[#F1F5F9] text-[#94A3B8]",group:"bg-[#F1F5F9] text-[#94A3B8]"},_Y={confirmed:"Confirmed"},NY=e=>{const[t,r]=_.useState(!1);return _.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia(e),s=()=>r(n.matches);return s(),n.addEventListener?(n.addEventListener("change",s),()=>n.removeEventListener("change",s)):(n.addListener(s),()=>n.removeListener(s))},[e]),t},jY=({isOpen:e,lesson:t,onClose:r,isEditing:n,onStartEdit:s,onCancelEdit:a,onSaveEdit:i,editData:c,onEditChange:l,mutationLoading:u=!1,onCancelLesson:d,students:p=[],coachCourts:f=[],formatDuration:y,onAcceptRequest:g,onDeclineRequest:v,onCreateLesson:w,coachHourlyRate:h=null})=>{var xr;const m=NY("(max-width: 640px)"),[x,S]=_.useState(!0),b=_.useMemo(()=>{var Kn,yt,nn,Sr,Le,St;if(!t)return null;const Y=Number(t.created_by??t.createdBy),Oe=Number(t.coach_id??t.coachId),Et=Number.isFinite(Y)&&Number.isFinite(Oe)&&Y===Oe,Ur=(Ee=>{if(Ee===2||Ee==="2")return"cancelled";if(Ee===0||Ee==="0")return"pending";if(Ee===1||Ee==="1"||!Ee)return"confirmed";const ct=String(Ee).toLowerCase();return ct.includes("pending")||ct.includes("request")||ct.includes("await")?"pending":ct.includes("cancel")?"cancelled":ct.includes("confirm")||ct.includes("schedule")?"confirmed":ct})(t.status??t.lessonStatus??t.lesson_status),lr=(()=>{const Ee=Number(t.lessontype_id??t.lesson_type_id??t.lessonTypeId);if(Ee===2)return"semi-private";if(Ee===3)return"group";const ct=t.lesson_type_name||t.lessonType||t.type||"",_r=String(ct).toLowerCase();return _r.includes("semi")?"semi-private":_r.includes("group")||_r.includes("open")?"group":"private"})(),qt=t.start_date_time||t.startDateTime,br=t.end_date_time||t.endDateTime,ot=qt?Z.utc(qt):null,wr=br?Z.utc(br):ot!=null&&ot.isValid()?ot.clone().add(1,"hour"):null,wn=t.date||(ot!=null&&ot.isValid()?ot.format("dddd, MMMM D"):""),wt=t.startTime||(ot!=null&&ot.isValid()?ot.format("hh:mm a"):""),Sn=t.endTime||(wr!=null&&wr.isValid()?wr.format("hh:mm a"):"");return{...t,lessonType:lr,status:Ur,dateLabel:wn,startTimeLabel:wt,endTimeLabel:Sn,isCoachCreatedLesson:Et,studentName:t.student||t.full_name||t.player_name||t.student_name||t.studentName||t.playerName||((Kn=t.metadata)==null?void 0:Kn.player_name)||"",studentLevel:t.level||((yt=t.metadata)==null?void 0:yt.level)||t.skill_level||"Intermediate",lessonsCompleted:t.lessonsCompleted||t.lessons_completed||0,studentMessage:t.studentMessage||t.message||((nn=t.metadata)==null?void 0:nn.message)||((Sr=t.metadata)==null?void 0:Sr.student_message)||"",cancellationReason:t.cancellationReason||t.cancellation_reason||t.cancel_reason||"",requestedAt:t.requestedAt||t.requested_at||t.request_time||"",cancelledAt:t.cancelledAt||t.cancelled_at||t.cancelled_time||"",cancelledBy:t.cancelledBy||t.cancelled_by||"",locationName:((Le=t.location)==null?void 0:Le.name)||t.location_name||t.location,locationAddress:((St=t.location)==null?void 0:St.address)||t.location_address||t.court||""}},[t]);if(!b)return null;const k=b.status==="pending"&&!b.isCoachCreatedLesson?"Lesson Request":"Lesson Details",j={private:"Private Lesson","semi-private":"Semi-Private Lesson",group:"Group Lesson"},P=b.lessonType==="group",C=b.lessonType==="group"||b.lessonType==="semi-private",U=(Array.isArray(b.group_players)?b.group_players:Array.isArray(b.groupPlayers)?b.groupPlayers:[]).map((Y,Oe)=>({id:Y.player_id||Y.playerId||Y.id||`${Y.full_name}-${Oe}`,name:Y.full_name||Y.name||Y.player_name||`Participant ${Oe+1}`,initials:(Y.full_name||Y.name||Y.player_name||"ST").split(" ").map(Et=>Et[0]).join("").slice(0,2).toUpperCase(),level:Y.level||Y.skill_level||b.studentLevel||"Intermediate",lessonsCompleted:Y.lessonCount||Y.lessonsCompleted||Y.lessons_completed||0,phone:Y.phone||Y.phone_number||"",profilePicture:Y.profile_picture||Y.profilePicture||"",status:Y.status})),G=(xr=b.students)!=null&&xr.length?b.students:b.studentName?[{id:b.id,name:b.studentName,initials:b.studentName.split(" ").map(Y=>Y[0]).join("").slice(0,2).toUpperCase(),level:b.studentLevel||"Intermediate",lessonsCompleted:b.lessonsCompleted||0}]:[],X=p!=null&&p.length?p.map(Y=>({id:Y.id||Y.playerId||Y.player_id||Y.name,name:Y.name||Y.full_name||Y.player_name,level:Y.level||Y.skill_level||"Intermediate",lessonsCompleted:Y.lessonCount||Y.lessonsCompleted||Y.lessons_completed||0,phone:Y.phone||Y.phone_number||""})):[],$=C&&U.length>0,A=C?U:G.length?G:X,z=Y=>Y===1||Y==="1"?"Confirmed":Y===2||Y==="2"?"Cancelled":Y===0||Y==="0"?"Pending":Y||"Confirmed",V=Y=>{const Oe=String(Y||"").toLowerCase();return Oe.includes("cancel")?{text:"text-rose-600",dot:"bg-rose-500"}:Oe.includes("pending")?{text:"text-amber-600",dot:"bg-amber-500"}:{text:"text-emerald-600",dot:"bg-emerald-500"}},I=A.map((Y,Oe)=>{var Et;return{id:Y.id||`${Y.name}-${Oe}`,name:Y.name||`Participant ${Oe+1}`,initials:Y.initials||((Et=Y.name)==null?void 0:Et.split(" ").map(Vt=>Vt[0]).join("").slice(0,2).toUpperCase())||"ST",level:Y.level||"Intermediate",lessonsCompleted:Y.lessonsCompleted||0,phone:Y.phone||"",status:z(Y.status)}}),R=I[0],H=b.durationMinutes||b.duration?`${(y==null?void 0:y(b.durationMinutes||b.duration))||b.durationMinutes||b.duration}`:"1 hour",O=Y=>{if(Y==null||Y==="")return null;const Oe=Number(Y);return Number.isFinite(Oe)?Oe:null},F=O(b.group_price_per_person)??O(b.groupPricePerPerson)??O(b.price_per_person)??O(b.pricePerPerson),W=O(h)??O(b.hourly_rate)??O(b.hourlyRate)??O(b.pricePerHour)??O(b.price_per_hour)??O(b.rate)??O(b.price),K=C?F:W,Q=C?"/ player":"/ hour",oe=K!==null?`$${K}`:"",le=Number(b.maxParticipants||b.max_participants||b.player_limit||b.capacity||b.max_players||8),ce=I.length,xe=Math.max(le-ce,0),T=K!==null?K*ce:null,te=b.status==="cancelled"?SY[b.lessonType]:wY[b.lessonType],J=(Y,Oe)=>{l({...c,[Y]:Oe})},he=()=>{r==null||r(),a==null||a()},ke=()=>b.status==="pending"?b.isCoachCreatedLesson?o.jsx("button",{type:"button",onClick:v,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Cancel Lesson"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:g,className:"flex-1 rounded-xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-emerald-600",children:" Confirm Lesson"}),o.jsx("button",{type:"button",onClick:v,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Decline"})]}):b.status==="cancelled"?o.jsx("button",{type:"button",className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700",children:" Message Student"}):b.type==="available"?o.jsx("button",{type:"button",onClick:()=>w==null?void 0:w(b),className:"flex-1 rounded-xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-emerald-600",children:"Create Lesson"}):P?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700",children:" Share Class"}),o.jsx("button",{type:"button",onClick:d,className:"flex-1 rounded-xl bg-red-100 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-200",children:"Cancel Class"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"flex-1 rounded-xl bg-purple-600 px-4 py-3 text-sm font-semibold text-white transition hover:bg-purple-700",children:" Message Student"}),o.jsx("button",{type:"button",onClick:d,className:"flex-1 rounded-xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:" Cancel Lesson"})]}),Fe=b.cancelledBy?`${b.cancelledBy}`.charAt(0).toUpperCase()+`${b.cancelledBy}`.slice(1):"Student",Ue=b.start_date_time?Z.utc(b.start_date_time):null,nt=Ue!=null&&Ue.isValid()?Ue.fromNow().replace("in ","Starts in "):"Starts soon",or=["from-violet-500 to-violet-300","from-blue-500 to-sky-400","from-emerald-500 to-green-300","from-amber-500 to-yellow-300","from-pink-500 to-rose-300"];return o.jsxs(Si,{isOpen:e,onClose:he,placement:m?"bottom":"center",overlayClassName:"bg-black/40",panelClassName:`flex w-full flex-col overflow-hidden bg-white shadow-2xl ${m?"max-h-[88vh] rounded-t-3xl":"max-h-[90vh] w-[390px] max-w-[94vw] rounded-2xl"}`,children:[m&&o.jsx("div",{className:"mx-auto mt-3 h-1 w-9 rounded-full bg-slate-200"}),o.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4 sm:px-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:n?"Edit Lesson":k}),o.jsxs("div",{className:"flex items-center gap-2",children:[P&&!n&&b.status==="confirmed"&&o.jsx("button",{type:"button",onClick:s,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600 transition hover:bg-slate-200",children:o.jsx(GC,{className:"h-4 w-4"})}),o.jsx("button",{type:"button",onClick:n?a:he,className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-100 text-slate-500 transition hover:bg-slate-200",children:o.jsx(Lw,{className:"h-5 w-5"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-6 pt-5 sm:px-6",children:n?o.jsx("div",{className:"space-y-5",children:P?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Lesson Title"}),o.jsx("input",{type:"text",value:(c==null?void 0:c.title)||(c==null?void 0:c.lesson_title)||"",onChange:Y=>J("title",Y.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Date & Time"}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700",children:[b.dateLabel,"  ",b.startTimeLabel,b.endTimeLabel?` - ${b.endTimeLabel}`:""]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Location"}),o.jsx("select",{value:(c==null?void 0:c.location)||(c==null?void 0:c.location_name)||b.locationName||"",onChange:Y=>J("location",Y.target.value),className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[b.locationName,...f].filter(Boolean).map(Y=>o.jsx("option",{value:Y,children:Y},Y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Price per Person"}),o.jsxs("div",{className:"inline-flex items-center rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[o.jsx("span",{className:"mr-1 text-lg text-slate-500",children:"$"}),o.jsx("input",{type:"number",value:(c==null?void 0:c.group_price_per_person)||(c==null?void 0:c.price_per_person)||K||"",onChange:Y=>J("group_price_per_person",Y.target.value),className:"w-24 bg-transparent text-lg font-semibold text-slate-800 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Max Participants"}),o.jsx("input",{type:"number",min:ce,value:(c==null?void 0:c.max_participants)||(c==null?void 0:c.maxParticipants)||le,onChange:Y=>J("max_participants",Y.target.value),className:"w-24 rounded-xl border border-slate-200 bg-slate-50 px-4 py-2 text-center text-base font-semibold text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[ce," already booked"]})]}),o.jsxs("div",{className:"rounded-xl bg-amber-100 px-4 py-3 text-sm text-amber-900",children:[" Notify participants? ",ce," booked participants will be notified of changes."]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Time"}),o.jsx("input",{type:"time",value:c==null?void 0:c.time,onChange:Y=>J("time",Y.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("select",{value:c==null?void 0:c.location,onChange:Y=>J("location",Y.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:f.map(Y=>o.jsx("option",{value:Y,children:Y},Y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Court"}),o.jsx("input",{type:"text",value:c==null?void 0:c.court,onChange:Y=>J("court",Y.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})}):o.jsxs("div",{className:"space-y-5",children:[P&&b.status==="confirmed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-blue-100 px-4 py-3",children:[o.jsx("span",{className:"text-base",children:""}),o.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Upcoming"}),o.jsx("p",{className:"ml-auto text-xs font-semibold text-blue-700",children:nt})]}),o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-blue-100 text-lg",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-600",children:"Group Lesson"}),o.jsx("p",{className:"text-lg font-bold text-slate-800",children:b.title||b.lesson_title||"Group Lesson"})]}),o.jsx("span",{className:"rounded-lg bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-600",children:"Open"})]}),o.jsxs("div",{className:"mt-4 space-y-3 border-t border-slate-100 pt-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Date & Time"}),o.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[b.dateLabel,"  ",b.startTimeLabel]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Duration"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:H})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Location"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:b.locationName||"TBD"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[11px] font-semibold uppercase text-slate-400",children:"Price"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:K!==null?`$${K} per person`:""})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-emerald-50 px-4 py-3",children:[o.jsxs("p",{className:"text-sm text-emerald-900",children:["Expected revenue (",ce," participants)"]}),o.jsx("p",{className:"text-xl font-bold text-emerald-600",children:T!==null?`$${T}`:""})]}),o.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold text-slate-900",children:"Participants"}),o.jsxs("span",{className:"rounded-full bg-violet-100 px-2 py-0.5 text-xs font-semibold text-violet-600",children:[ce," of ",le]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>S(Y=>!Y),className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:x?"Hide":"Show"}),o.jsx("button",{type:"button",className:"rounded-lg bg-violet-500 px-3 py-2 text-xs font-semibold text-white",children:" Text All"})]})]}),x&&o.jsxs("div",{className:"space-y-1 p-2",children:[I.length===0&&o.jsx("p",{className:"px-2 py-3 text-sm text-slate-500",children:"No participants yet."}),I.map((Y,Oe)=>o.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2",children:[o.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-br ${or[Oe%or.length]} text-sm font-bold text-white`,children:Y.initials}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Y.name}),o.jsxs("p",{className:"text-xs text-slate-500",children:["USTA ",Y.level,"  ",Y.lessonsCompleted," lessons"]}),o.jsxs("p",{className:`mt-1 flex items-center gap-1 text-[11px] font-semibold ${V(Y.status).text}`,children:[o.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${V(Y.status).dot}`}),Y.status]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:o.jsx(Wd,{className:"h-4 w-4"})}),o.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:o.jsx(wv,{className:"h-4 w-4"})})]})]},Y.id))]}),xe>0&&o.jsxs("div",{className:"border-t border-amber-200 bg-amber-100 px-4 py-3 text-sm text-amber-900",children:[" ",xe," spots still available"]})]})]}),!P&&o.jsxs(o.Fragment,{children:[b.status==="pending"&&o.jsx("div",{className:"rounded-xl border border-yellow-200 bg-gradient-to-r from-[#FEF3C7] to-[#FDE68A] p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Awaiting Player Confirmation"}),o.jsx("p",{className:"text-xs text-yellow-800",children:b.isCoachCreatedLesson?`Created ${b.requestedAt||"recently"}`:`Requested ${b.requestedAt||"recently"}`})]})]})}),b.status==="cancelled"&&o.jsx("div",{className:"rounded-xl border border-red-200 bg-[#FEE2E2] p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm font-semibold text-red-800",children:["Cancelled by ",Fe]}),o.jsx("p",{className:"text-xs text-red-600",children:b.cancelledAt||"Recently"})]})]})}),o.jsxs("div",{className:`inline-flex items-center gap-2 rounded-lg px-3 py-1 text-xs font-semibold uppercase ${te}`,children:[" ",j[b.lessonType]]}),$?o.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold text-slate-900",children:"Participants"}),o.jsx("span",{className:"rounded-full bg-violet-100 px-2 py-0.5 text-xs font-semibold text-violet-600",children:ce})]}),o.jsx("button",{type:"button",onClick:()=>S(Y=>!Y),className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:x?"Hide":"Show"})]}),x&&o.jsx("div",{className:"space-y-1 p-2",children:I.map((Y,Oe)=>o.jsxs("div",{className:"flex items-center gap-3 rounded-xl p-2",children:[o.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-br ${or[Oe%or.length]} text-sm font-bold text-white`,children:Y.initials}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Y.name}),o.jsxs("p",{className:"text-xs text-slate-500",children:["USTA ",Y.level,"  ",Y.lessonsCompleted," lessons"]}),o.jsxs("p",{className:`mt-1 flex items-center gap-1 text-[11px] font-semibold ${V(Y.status).text}`,children:[o.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${V(Y.status).dot}`}),Y.status]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:o.jsx(Wd,{className:"h-4 w-4"})}),o.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-slate-100 text-slate-600",children:o.jsx(wv,{className:"h-4 w-4"})})]})]},Y.id))})]}):R?o.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-50 p-4",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-purple-300 text-sm font-bold text-white",children:R.initials}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:R.name}),o.jsxs("p",{className:"text-sm text-slate-500",children:[R.level,"  ",R.lessonsCompleted," lessons"]})]}),o.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:o.jsx(Wd,{className:"h-5 w-5"})})]}):null,b.status==="pending"&&b.studentMessage&&o.jsxs("div",{className:"rounded-xl border border-slate-100 border-l-4 border-l-purple-500 bg-slate-50 p-4",children:[o.jsx("p",{className:"text-xs font-semibold uppercase text-slate-400",children:"Message from Student"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:b.studentMessage})]}),b.status==="cancelled"&&b.cancellationReason&&o.jsxs("div",{className:"rounded-xl border border-red-100 border-l-4 border-l-red-500 bg-red-50 p-4",children:[o.jsx("p",{className:"text-xs font-semibold uppercase text-slate-400",children:"Cancellation Reason"}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:b.cancellationReason})]}),o.jsxs("div",{className:"space-y-4 sm:grid sm:grid-cols-2 sm:gap-4 sm:space-y-0",children:[o.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[o.jsx(Ka,{className:"h-4 w-4"}),b.status==="pending"?"Requested Time":"Date & Time"]}),o.jsx("p",{className:`mt-2 text-base font-semibold ${b.status==="cancelled"?"text-slate-300 line-through":"text-slate-900"}`,children:b.dateLabel}),o.jsxs("p",{className:"text-sm text-slate-500",children:[b.startTimeLabel,b.endTimeLabel?`  ${b.endTimeLabel}`:""," (",H,")"]})]}),o.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[o.jsx(Xa,{className:"h-4 w-4"}),"Location"]}),o.jsx("p",{className:"mt-2 text-base font-semibold text-slate-900",children:b.locationName||"TBD"}),o.jsx("p",{className:"text-sm text-slate-500",children:b.locationAddress||""})]}),b.status==="confirmed"&&o.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[o.jsx(ZC,{className:"h-4 w-4"}),"Status"]}),o.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-600",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),_Y.confirmed]})]}),o.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-slate-400",children:[o.jsx(Pw,{className:"h-4 w-4"}),"Lesson Fee"]}),o.jsxs("p",{className:`mt-2 text-lg font-semibold ${b.status==="cancelled"?"text-slate-300 line-through":"text-slate-900"}`,children:[oe," ",o.jsx("span",{className:"text-sm font-normal text-slate-400",children:Q})]})]})]})]}),b!=null&&b.id?o.jsx(bY,{lessonId:b.id}):null]})}),o.jsx("div",{className:"border-t border-slate-100 bg-white px-5 py-5 sm:px-6",children:n?o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[o.jsx("button",{type:"button",onClick:a,className:"flex-1 rounded-xl bg-slate-100 px-4 py-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-200",children:"Cancel"}),o.jsx("button",{type:"button",onClick:i,disabled:u,className:`flex-1 rounded-xl px-4 py-3 text-sm font-semibold text-white transition ${u?"cursor-wait bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:u?"Saving":"Save Changes"})]}):o.jsx("div",{className:"flex flex-col gap-3 sm:flex-row",children:ke()})})]})},TS=async e=>{try{return await e.json()}catch{return null}},kY=async(e,t)=>{if(!e||!t)throw new Error("Email and password are both required to log in.");const r=await fetch(`${Wt}/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({email:e,password:t})}),n=await TS(r);return{ok:r.ok,status:r.status,data:n}},EY=async(e={})=>{const t=await fetch(`${Wt}/coach/signup/`,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(e)}),r=await TS(t);return{ok:t.ok,status:t.status,data:r}},d0={coach:1,player:2},sf={0:{0:"lesson-created",1:"lesson-confirmed",2:"lesson-declined",3:"lesson-cancelled",4:"lesson-scheduled"},1:{0:"relation-created-by-player",1:"relation-created-by-coach",2:"relation-declined-by-coach"}},CY={LESSON_CREATED:"lesson-created"},f0={RELATION_DECLINED_BY_COACH:"relation-declined-by-coach",RELATION_CREATED_BY_PLAYER:"relation-created-by-player"},PS=_.createContext(null),TY=()=>{if(typeof window>"u"||!window.localStorage)return null;try{const e=window.localStorage.getItem(Ap);return e?JSON.parse(e):null}catch(e){return console.error("Failed to parse stored auth state",e),null}},af=e=>{if(!(typeof window>"u"||!window.localStorage)){if(!e){window.localStorage.removeItem(Ap);return}window.localStorage.setItem(Ap,JSON.stringify(e))}},p0=e=>({session:e,userType:(e==null?void 0:e.user_type)??null,userId:(e==null?void 0:e.user_id)??null,onboardingComplete:!!((e==null?void 0:e.onboarding_complete)??(e==null?void 0:e.is_complete)),profile:(e==null?void 0:e.profile)??null}),PY=({children:e})=>{const[t,r]=_.useState(()=>TY()),[n,s]=_.useState(!0),[a,i]=_.useState(null),[c,l]=_.useState(!1);_.useEffect(()=>{s(!1)},[]);const u=_.useCallback(async()=>{l(!1),i(null),r(null),af(null),await ro()},[]),d=_.useCallback(async(y,g)=>{i(null),l(!0);try{const v=await kY(y,g);if(!v.ok){let h="Unable to log in with the provided credentials.";throw v.status===404?h="No user found with this email address.":v.status===403&&(h="Incorrect password."),new Error(h)}if(!v.data)throw new Error("Login response did not include user data.");if(v.data.user_type!==d0.coach)throw new Error("This portal is only available to coaches.");await up(v.data.access_token,v.data.refresh_token);const w=p0(v.data);return r(w),af(w),i(null),{data:w}}catch(v){const w=v instanceof Error?v.message:"Unexpected error while logging in.";return i(w),await ro(),{error:w}}finally{l(!1)}},[]),p=_.useCallback(async y=>{i(null),l(!0);try{const g=await EY(y);if(!g.ok){let w="Unable to create the account with the provided details.";throw g.status===400?w="Please review your details and try again.":g.status===409&&(w="An account with this email already exists."),new Error(w)}if(!g.data)throw new Error("Signup response did not include user data.");if(g.data.user_type!==d0.coach)throw new Error("This portal only supports coach accounts.");await up(g.data.access_token,g.data.refresh_token);const v=p0(g.data);return r(v),af(v),i(null),{data:v}}catch(g){const v=g instanceof Error?g.message:"Unexpected error while creating the account.";return i(v),await ro(),{error:v}}finally{l(!1)}},[]),f=_.useMemo(()=>({user:t,authLoading:c,authError:a,initialising:n,login:d,signup:p,logout:u}),[t,c,a,n,d,p,u]);return o.jsx(PS.Provider,{value:f,children:e})},ud=()=>{const e=_.useContext(PS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vl={email:"",password:""},OY={fullName:"",email:"",phone:"",password:"",confirmPassword:""},MY=()=>{const{login:e,signup:t,authLoading:r,authError:n}=ud(),[s,a]=_.useState("login"),[i,c]=_.useState(Vl),[l,u]=_.useState(null),d=_.useCallback((g,v)=>{c(w=>({...w,[g]:v}))},[]),p=_.useCallback(()=>{const g=/.+@.+\..+/i;return i.email.trim()?g.test(i.email.trim())?s==="login"?i.password?null:"Please enter your password.":i.fullName.trim()?i.phone.trim()?!i.password||i.password.length<8?"Please create a password with at least 8 characters.":i.password!==i.confirmPassword?"Passwords do not match.":null:"Please enter your contact number.":"Please enter your full name.":"Please enter a valid email address.":"Please enter your email address."},[i,s]),f=_.useCallback(async g=>{g.preventDefault(),u(null);const v=p();if(v){u(v);return}if(s==="login"){const w=await e(i.email.trim(),i.password);w!=null&&w.error?u(w.error):c(Vl)}else{const w={full_name:i.fullName.trim(),email:i.email.trim(),phone:i.phone.trim(),phone_number:i.phone.trim(),password:i.password,confirm_password:i.confirmPassword},h=await t(w);h!=null&&h.error?u(h.error):(c(Vl),a("login"))}},[i,s,e,t,p]),y=_.useCallback(()=>{u(null),s==="login"?(a("signup"),c(OY)):(a("login"),c(Vl))},[s]);return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-green-50 to-white px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-emerald-100 bg-white p-8 shadow-xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 text-2xl font-bold text-white",children:"TP"}),o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Coach Portal"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s==="login"?"Sign in to manage your coaching profile.":"Create your coach account to get started."})]}),o.jsxs("form",{className:"space-y-6",onSubmit:f,children:[s==="signup"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-full-name",children:"Full name"}),o.jsx("input",{id:"coach-signup-full-name",type:"text",autoComplete:"name",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:i.fullName,onChange:g=>d("fullName",g.target.value),disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-phone",children:"Mobile number"}),o.jsx("input",{id:"coach-signup-phone",type:"tel",autoComplete:"tel",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:i.phone,onChange:g=>d("phone",g.target.value),disabled:r})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-login-email",children:"Email"}),o.jsx("input",{id:"coach-login-email",type:"email",autoComplete:"email",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:i.email,onChange:g=>d("email",g.target.value),disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-login-password",children:"Password"}),o.jsx("input",{id:"coach-login-password",type:"password",autoComplete:"current-password",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:i.password,onChange:g=>d("password",g.target.value),disabled:r})]}),s==="signup"&&o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",htmlFor:"coach-signup-confirm-password",children:"Confirm password"}),o.jsx("input",{id:"coach-signup-confirm-password",type:"password",autoComplete:"new-password",className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-sm shadow-sm focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",value:i.confirmPassword,onChange:g=>d("confirmPassword",g.target.value),disabled:r})]}),(l||n)&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:l||n}),o.jsx("button",{type:"submit",className:"flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:from-green-600 hover:to-emerald-700 disabled:cursor-not-allowed disabled:opacity-70",disabled:r,children:r?s==="login"?"Signing in":"Creating account":s==="login"?"Sign In":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:s==="login"?o.jsxs(o.Fragment,{children:["Need an account?"," ",o.jsx("button",{type:"button",onClick:y,className:"font-medium text-emerald-600 hover:text-emerald-700",children:"Sign up as a coach"})]}):o.jsxs(o.Fragment,{children:["Already have an account?"," ",o.jsx("button",{type:"button",onClick:y,className:"font-medium text-emerald-600 hover:text-emerald-700",children:"Back to sign in"})]})}),o.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"Access restricted to verified coaches. Please contact support if you need assistance."})]})})},OS={weekly:{},weeklyLocations:{},adHoc:[],blockedSlots:[]},m0=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},$Y=e=>{if(!e)return"";const t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${t}:${r}`},h0=e=>{if(!e||typeof e!="object"||e.date&&e.time)return e;const t=m0(e.start_date_time||e.startDateTime||e.start),r=m0(e.end_date_time||e.endDateTime||e.end),n=t&&r?Math.max(0,(r-t)/6e4):null,s=n!==null?Math.max(1,Math.round(n/30)):2,a=e.lesson_type_name||e.lessonType||e.type||"",c=e.status===0?"pending":e.lessonStatus||"scheduled";return{...e,id:e.id??e.lesson_id??e.lessonId,date:t?t.toISOString().split("T")[0]:e.date,time:t?$Y(t):e.time,duration:e.duration??s,type:typeof a=="string"?a.toLowerCase():e.type,student:e.student||e.full_name||e.player_name||e.playerName||"",location:e.location||e.court||e.venue||"",lessonStatus:c}},g0=e=>Array.isArray(e)?e.map(h0):e&&Array.isArray(e.lessons)?e.lessons.map(h0):[],AY=e=>Array.isArray(e)?e:e&&Array.isArray(e.lessons)?e.lessons:[],DY=async({perPage:e=100,maxPages:t=100}={})=>{const r=[];for(let n=1;n<=t;n+=1){const s=await cc({perPage:e,page:n}),a=AY(s);if(a.length===0)break;r.push(...a);const i=(s==null?void 0:s.pagination)||(s==null?void 0:s.meta)||(s==null?void 0:s.pageInfo)||{},c=Number(i.totalPages||i.total_pages||i.pages);if(Number.isFinite(c)&&n>=c||a.length<e)break}return r},Dp=(e,t,r,n,s)=>{if(!t||!r||!n)return;const a=`${r} - ${n}`,i=e.weekly[t]?[...e.weekly[t]]:[];i.includes(a)||i.push(a),e.weekly[t]=i;const c={...e.weeklyLocations[t]||{}};s&&(c[a]=s),e.weeklyLocations[t]=c},Lp=e=>{if(!e)return null;const t=e.start||e.startTime,r=e.end||e.endTime||e.finish,n=e.date;return!n||!t?null:{...e,id:e.id??e.availabilityId,date:n,start:t,end:r,location:e.location||e.court||e.venue||"",type:e.type||"ad-hoc"}},LY=e=>{if(!e)return{...OS};const t={weekly:{},weeklyLocations:{},adHoc:[],blockedSlots:[]},r=l=>{if(!l)return;const u=(l.dayOfWeek||l.day||l.day_of_week||"").toString().trim(),d=l.start||l.startTime||l.from,p=l.end||l.endTime||l.to,f=l.location||l.location_name||l.court||l.venue||"";Dp(t,u,d,p,f)},n=(l,u,d={})=>{Array.isArray(u)&&u.forEach(p=>{if(typeof p=="string"){const[f,y]=p.split("-").map(v=>v.trim()),g=`${f} - ${y}`;Dp(t,l,f,y,d[g])}else r({...p,day:l})})},s=l=>{Array.isArray(l)&&l.forEach(u=>{const d=Lp(u);d&&t.adHoc.push(d)})};if(Array.isArray(e))return e.forEach(l=>{const u=Lp(l);u?t.adHoc.push(u):r(l)}),t.schedule=e,t;Array.isArray(e.blockedSlots)&&(t.blockedSlots=e.blockedSlots);const a=e.weekly||e.recurring||e.recurringAvailability||e.slots||{};Object.entries(a||{}).forEach(([l,u])=>{const d=(e.weeklyLocations||e.locations||{})[l]||{};n(l,u,d)});const i=e.weeklyLocations||e.locations||{};Object.entries(i).forEach(([l,u])=>{t.weeklyLocations[l]={...t.weeklyLocations[l]||{},...u||{}},t.weekly[l]||(t.weekly[l]=Object.keys(u||{}))});const c=e.adHoc||e.adhoc||e.oneOff||e.single||e.ad_hoc||[];return Array.isArray(c)?s(c):Array.isArray(c==null?void 0:c.slots)&&s(c.slots),t},RY=(e,t,r)=>{const n={weekly:{...(e==null?void 0:e.weekly)||{}},weeklyLocations:{...(e==null?void 0:e.weeklyLocations)||{}},adHoc:Array.isArray(e==null?void 0:e.adHoc)?[...e.adHoc]:[],blockedSlots:Array.isArray(e==null?void 0:e.blockedSlots)?[...e.blockedSlots]:[]};if(!t&&!r)return n;const s=t||r||{};if(s.date||r!=null&&r.date){const u=Lp({...r,...s});if(u){const d=n.adHoc.filter(p=>!(p.date===u.date&&p.start===u.start));d.push(u),n.adHoc=d}return n}const a=s.dayOfWeek||s.day||(r==null?void 0:r.day)||(r==null?void 0:r.dayOfWeek),i=s.start||s.startTime||(r==null?void 0:r.start)||(r==null?void 0:r.startTime),c=s.end||s.endTime||(r==null?void 0:r.end)||(r==null?void 0:r.endTime),l=s.location||s.court||(r==null?void 0:r.location)||"";return Dp(n,a,i,c,l),n},IY=e=>e?e.stats&&typeof e.stats=="object"?e.stats:e:null,v0=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);if(Number.isNaN(t.getTime()))return null;const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`},FY=({enabled:e=!0,date:t,dates:r}={})=>{const[n,s]=_.useState([]),[a,i]=_.useState([]),[c,l]=_.useState({...OS}),[u,d]=_.useState(null),[p,f]=_.useState([]),[y,g]=_.useState(!!e),[v,w]=_.useState(null),[h,m]=_.useState(!1),[x,S]=_.useState(null),b=_.useCallback(async(C,L)=>{if(!e){g(!1);return}g(!0);try{const U=v0(C),G=Array.isArray(L)?L.map(W=>v0(W)).filter(Boolean).filter((W,K,Q)=>Q.indexOf(W)===K):[],X=G.length>0?G.map(W=>cc({date:W})):[cc(U?{date:U}:{perPage:100,page:1})],$=G.length>0?[...G].sort():U?[U]:[],A=$.length>0?`${$[0]}T00:00:00.000Z`:null,z=$.length>0?`${$[$.length-1]}T23:59:59.999Z`:null,[V,I,R,H,O]=await Promise.allSettled([Promise.allSettled(X),DY({perPage:100}),dT(),pT(),A&&z?mT({timeMin:A,timeMax:z}):Promise.resolve([])]);let F=null;if(V.status==="fulfilled"){const W=V.value,K=[];let Q=null;W.forEach(oe=>{if(oe.status==="fulfilled"){const le=oe.value;Array.isArray(le)?K.push(...le):le&&Array.isArray(le.lessons)&&K.push(...le.lessons)}else Q||(Q=oe.reason)}),s(g0(K)),K.length===0&&Q&&!F&&(F=Q)}else F||(F=V.reason);if(I.status==="fulfilled"?i(g0(I.value)):(i([]),F||(F=I.reason)),R.status==="fulfilled"?l(LY(R.value)):F||(F=R.reason),H.status==="fulfilled"?d(IY(H.value)):(d(null),F||(F=H.reason)),O.status==="fulfilled"){const W=O.value,K=Array.isArray(W)?W:(W==null?void 0:W.events)||(W==null?void 0:W.items)||[];f(K)}else f([]);if(F)throw F;w(null)}catch(U){const G=U instanceof Error?U:new Error("Failed to load schedule data");w(G)}finally{g(!1)}},[e]);_.useEffect(()=>{if(!e){g(!1);return}b(t,r)},[t,r,e,b]);const k=_.useCallback((C,L)=>b(C??t,L??r),[t,r,b]),j=_.useCallback(async C=>{if(!C)throw new Error("A slot payload is required to create availability.");m(!0),S(null);try{const L=await fT(C);return l(U=>RY(U,L,C)),L}catch(L){const U=L instanceof Error?L:new Error("Failed to create availability");throw S(U),U}finally{m(!1)}},[]),P=_.useCallback(async(C,L={})=>{if(!C)throw new Error("A lesson id is required to update a lesson.");m(!0),S(null);try{const U=await uT(C,L);return s(G=>G.map(X=>X.id!==C?X:U&&typeof U=="object"&&!Array.isArray(U)?{...X,...U}:{...X,...L})),U}catch(U){const G=U instanceof Error?U:new Error("Failed to update lesson");throw S(G),G}finally{m(!1)}},[]);return{lessons:n,upcomingLessons:a,availability:c,stats:u,googleEvents:p,loading:y,error:v,refresh:k,addAvailabilitySlot:j,updateLesson:P,mutationLoading:h,mutationError:x}},UY=e=>Array.isArray(e)?e:e&&Array.isArray(e.students)?e.students:[],zY=({enabled:e=!0,perPage:t=5,search:r=""}={})=>{const[n,s]=_.useState([]),[a,i]=_.useState(!!e),[c,l]=_.useState(!1),[u,d]=_.useState(null),[p,f]=_.useState(1),[y,g]=_.useState(!0),[v,w]=_.useState(0),h=_.useCallback(async S=>{if(!e)return i(!1),[];S===1?i(!0):l(!0);try{const b=await oT({perPage:t,page:S,search:r}),k=UY(b);return s(j=>S===1?k:[...j,...k]),g(k.length>=t),d(null),k}catch(b){const k=b instanceof Error?b:new Error("Failed to load students");return d(k),[]}finally{S===1?i(!1):l(!1)}},[e,t,r]);_.useEffect(()=>{if(!e){i(!1);return}s([]),g(!0),l(!1),f(1)},[e,t,r]),_.useEffect(()=>{e&&h(p)},[e,h,p,v]);const m=_.useCallback(()=>{s([]),g(!0),f(1),w(S=>S+1)},[]),x=_.useCallback(()=>{c||a||!y||f(S=>S+1)},[y,a,c]);return{students:n,setStudents:s,loading:a,loadingMore:c,error:u,hasMore:y,loadMore:x,page:p,perPage:t,refresh:m}},Gl=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Br=(...e)=>{for(const t of e)if(t!=null)return t},of=(e,t)=>{if(typeof e=="number"&&!Number.isNaN(e))return e;const r=Number(e);return Number.isFinite(r)?r:t},y0=(e,t=null,r=null)=>{var x;const n=An(),s=t?{...n,...t}:n,a=Gl(e)?e:{},i=a.profile||((x=a.data)==null?void 0:x.profile)||a.data||a.result||a.coach||a,c=Br(i==null?void 0:i.id,i==null?void 0:i.profile_id,i==null?void 0:i.coach_profile_id,a==null?void 0:a.id,r,s.id),l={...s,id:c??null,profileImageFile:null},u=Br(i==null?void 0:i.full_name,i==null?void 0:i.fullName,i==null?void 0:i.name);u!==void 0&&(l.name=u);const d=Br(i==null?void 0:i.experience_years,i==null?void 0:i.experienceYears,a==null?void 0:a.experience_years);d!==void 0&&(l.experience_years=d);const p=Br(i==null?void 0:i.about_me,i==null?void 0:i.aboutMe,i==null?void 0:i.bio);p!==void 0&&(l.bio=p);const f=Br(i==null?void 0:i.email,a==null?void 0:a.email);f!==void 0&&(l.email=f);const y=Br(i==null?void 0:i.phone,i==null?void 0:i.phone_number,a==null?void 0:a.phone);y!==void 0&&(l.phone=y);const g=Br(i==null?void 0:i.hourly_rate,i==null?void 0:i.hourlyRate,i==null?void 0:i.rate,i==null?void 0:i.price_private,a==null?void 0:a.hourly_rate,a==null?void 0:a.price_private);g!==void 0&&(l.price_private=of(g,s.price_private));const v=Br(i==null?void 0:i.price_semi,i==null?void 0:i.priceSemi,a==null?void 0:a.price_semi,a==null?void 0:a.priceSemi);v!==void 0&&(l.price_semi=of(v,s.price_semi));const w=Br(i==null?void 0:i.price_group,i==null?void 0:i.priceGroup,a==null?void 0:a.price_group,a==null?void 0:a.priceGroup);w!==void 0&&(l.price_group=of(w,s.price_group));const h=Br(i==null?void 0:i.profile_picture,i==null?void 0:i.profilePicture,i==null?void 0:i.profile_image,i==null?void 0:i.profileImage,i==null?void 0:i.avatar,a==null?void 0:a.profile_picture);h!==void 0&&(l.profileImage=h),Array.isArray(i==null?void 0:i.home_courts)&&(l.home_courts=i.home_courts),Array.isArray(i==null?void 0:i.homeCourts)&&(l.home_courts=i.homeCourts),Array.isArray(i==null?void 0:i.levels)&&(l.levels=i.levels),Array.isArray(i==null?void 0:i.specialties)&&(l.specialties=i.specialties),Array.isArray(i==null?void 0:i.formats)&&(l.formats=i.formats),Array.isArray(i==null?void 0:i.packages)&&(l.packages=i.packages),Array.isArray(i==null?void 0:i.languages)&&(l.languages=i.languages),typeof(i==null?void 0:i.otherLanguage)=="string"&&(l.otherLanguage=i.otherLanguage),typeof(i==null?void 0:i.other_language)=="string"&&(l.otherLanguage=i.other_language),Gl(i==null?void 0:i.availability)&&(l.availability={...l.availability,...i.availability}),Gl(i==null?void 0:i.availabilityLocations)&&(l.availabilityLocations={...l.availabilityLocations,...i.availabilityLocations}),Gl(i==null?void 0:i.availability_locations)&&(l.availabilityLocations={...l.availabilityLocations,...i.availability_locations}),Array.isArray(i==null?void 0:i.groupClasses)&&(l.groupClasses=i.groupClasses),Array.isArray(i==null?void 0:i.group_classes)&&(l.groupClasses=i.group_classes),(i==null?void 0:i.stripe_account_id)!==void 0&&(l.stripe_account_id=i.stripe_account_id),(i==null?void 0:i.charges_enabled)!==void 0&&(l.charges_enabled=!!i.charges_enabled),(i==null?void 0:i.charges_disabled_reason)!==void 0&&(l.charges_disabled_reason=i.charges_disabled_reason);const m=!!(Br(a==null?void 0:a.is_complete,a==null?void 0:a.isCompleted,a==null?void 0:a.onboarding_complete,i==null?void 0:i.is_complete,i==null?void 0:i.isCompleted,i==null?void 0:i.is_completed,i==null?void 0:i.onboarding_complete)??(l.name&&l.bio));return{id:l.id,profile:l,isComplete:m,raw:e}},WY=({enabled:e=!0}={})=>{const[t,r]=_.useState(()=>An()),[n,s]=_.useState(null),[a,i]=_.useState(!!e),[c,l]=_.useState(null),[u,d]=_.useState(!1),[p,f]=_.useState(!1),y=_.useCallback(async()=>{if(!e)return i(!1),null;i(!0),l(null);try{const w=await sY();if(!w)return f(!0),d(!1),r(An()),s(null),null;if(!w.ok){let x=`Failed to fetch coach onboarding (${w.status})`;try{const S=await w.json();x=(S==null?void 0:S.detail)||(S==null?void 0:S.message)||(S==null?void 0:S.error)||x}catch{}throw new Error(x)}const h=w.status===204?null:await w.json().catch(()=>null),m=y0(h);return r(m.profile),s(m.id??null),d(m.isComplete),f(!0),m}catch(w){const h=w instanceof Error?w:new Error("Failed to fetch coach onboarding");return l(h),f(!0),d(!1),r(An()),s(null),null}finally{i(!1)}},[e]);_.useEffect(()=>{e?y():(r(An()),s(null),d(!1),f(!1),l(null),i(!1))},[e,y]);const g=_.useCallback(async w=>{var h;i(!0),l(null);try{const m=await aY(w);if(!m)throw new Error("Failed to save coach onboarding");if(!m.ok){let b="Failed to save coach onboarding";try{const k=await m.json();b=(k==null?void 0:k.detail)||(k==null?void 0:k.message)||(k==null?void 0:k.error)||b}catch{}throw new Error(b)}const x=m.status===204?null:await m.json().catch(()=>null),S=y0(x,w,n);return r(S.profile),s(S.id??((h=S.profile)==null?void 0:h.id)??n),d(S.isComplete??!0),f(!0),S}catch(m){const x=m instanceof Error?m:new Error("Failed to save coach onboarding");throw l(x),x}finally{i(!1)}},[n]),v=_.useMemo(()=>({loading:a,error:c,isComplete:u,profileId:n,hasFetched:p}),[a,c,u,n,p]);return{profile:t,profileId:n,isComplete:u,loading:a,error:c,hasFetched:p,status:v,refreshProfile:y,saveProfile:g,setProfile:r}},YY=e=>e?"/coach/packages?includeInactive=true":"/coach/packages",HY=async({includeInactive:e=!1}={})=>wi(YY(e),{method:"GET"}),BY=async({coachAccessToken:e=null,lessonData:t=null})=>!e||!t?null:fetch(`${Wt}/coach/lessons`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({...t})}),MS=async(e=null,t=null,r={})=>{if(!e||t===null)throw new Error("Must pass coach token and lesson id");return fetch(`${Wt}/coach/lesson/${t}`,{method:"PATCH",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify(r)})},$S=async({coachAccessToken:e=null,lessonId:t=null}={})=>!e||t===null?null:fetch(`${Wt}/coach/stripe/paymentintent`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({lesson_id:t})}),VY=async(e=null)=>e?fetch(`${Wt}/coach/locations`,{method:"GET",headers:{Authorization:`token ${e}`}}):null,GY=async({coachAccessToken:e,location_id:t})=>e?fetch(`${Wt}/coach/locations`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify({location_id:t})}):null,qY=async({coachAccessToken:e,location_id:t,location:r,latitude:n,longitude:s,address_components:a})=>{if(!e)return null;const i=t!=null?{location_id:t}:{location:r,latitude:n,longitude:s,address_components:a};return fetch(`${Wt}/coach/location`,{method:"POST",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`},body:JSON.stringify(i)})},KY=async({coachAccessToken:e=null,location_id:t=null})=>!e||t===null?null:fetch(`${Wt}/coach/locations/${t}`,{method:"DELETE",headers:{"Content-type":"application/json;charset=UTF-8",Authorization:`token ${e}`}}),XY=[{id:0,name:"All"},{id:1,name:"Beginner (NTRP 2.5)"},{id:2,name:"Advanced Beginner (NTRP 3.0)"},{id:3,name:"Intermediate (NTRP 3.5)"},{id:4,name:"Advanced (NTRP 4.0)"},{id:5,name:"Advanced Plus (NTRP 4.5)"},{id:6,name:"Expert (NTRP 5.0)"}],QY=({isOpen:e,draft:t,onClose:r,onSubmit:n,isSubmitting:s=!1,submitError:a=null,players:i=[],locations:c=[]})=>{var Q,oe,le,ce,xe;const[l,u]=_.useState(t),[d,p]=_.useState("students"),[f,y]=_.useState(""),g=l;_.useEffect(()=>{u(t)},[t]),_.useEffect(()=>{p("students"),y("")},[e]);const v=(T,te)=>{u(J=>({...J||{},[T]:te}))},w=(T,te)=>{u(J=>({...J||{},metadata:{...(J==null?void 0:J.metadata)||{},[T]:te}}))},h=(T,te)=>{u(J=>{var Ue;const he=((Ue=J==null?void 0:J.metadata)==null?void 0:Ue.recurrence)||{frequency:"",count:""};let ke=te;if(T==="count"){const nt=parseInt(String(te),10);ke=Number.isFinite(nt)&&nt>0?nt:""}const Fe={...he,[T]:ke};return T==="frequency"&&te==="NONE"&&(Fe.count=""),{...J||{},metadata:{...(J==null?void 0:J.metadata)||{},recurrence:Fe}}})},m=T=>{const te=parseInt(T,10);u(J=>{const he=J!=null&&J.start?Z(J.start):null,ke=he&&Number.isFinite(te)?he.clone().add(te,"minutes").toDate():(J==null?void 0:J.end)||null;return{...J||{},end:ke,metadata:{...(J==null?void 0:J.metadata)||{},duration:T}}})},x=_.useMemo(()=>Array.isArray(g==null?void 0:g.invitees)?g.invitees:[],[g==null?void 0:g.invitees]),S=()=>{u(T=>({...T||{},invitees:[...Array.isArray(T==null?void 0:T.invitees)?T.invitees:[],{full_name:"",phone:"",email:""}]}))},b=T=>{u(te=>({...te||{},invitees:(Array.isArray(te==null?void 0:te.invitees)?te.invitees:[]).filter((J,he)=>he!==T)}))},k=(T,te,J)=>{u(he=>({...he||{},invitees:(Array.isArray(he==null?void 0:he.invitees)?he.invitees:[]).map((ke,Fe)=>Fe===T?{...ke,[te]:J}:ke)}))},j=_.useMemo(()=>(Array.isArray(i)?i:[]).map(T=>({id:T.player_id??T.id??T.user_id??T.email,name:T.full_name||T.name||"Student",email:T.email||""})).filter(T=>T.id),[i]),P=_.useMemo(()=>Array.isArray(g==null?void 0:g.playerIds)?g.playerIds.map(T=>String(T)):[],[g==null?void 0:g.playerIds]),C=_.useMemo(()=>{const T=f.trim().toLowerCase();return T?j.filter(te=>`${te.name} ${te.email}`.toLowerCase().includes(T)):j},[f,j]),L=_.useMemo(()=>j.filter(T=>P.includes(String(T.id))),[P,j]),U=_.useMemo(()=>(Array.isArray(c)?c:[]).map(T=>{if(T&&typeof T=="object"){const te=T.location_id??T.locationId??T.id??T.value,J=T.location??T.name??T.label??T.address??String(te??"");return{id:te,label:J}}return{id:null,label:String(T)}}),[c]),G=_.useMemo(()=>U.some(T=>T.id!==null&&T.id!==void 0),[U]);if(!g)return null;const X=g.start?Z(g.start).format("HH:mm"):"",$=g.end?Z(g.end).format("HH:mm"):"",A=((Q=g.metadata)==null?void 0:Q.recurrence)||{frequency:"NONE",count:""},z=g.start?Z(g.start):Z(),V=Array.from({length:5},(T,te)=>z.clone().startOf("day").add(te,"days")),I=g.start&&g.end?Math.max(Z(g.end).diff(Z(g.start),"minutes"),0):null,R=T=>{u(te=>{const J=te!=null&&te.start?Z(te.start):Z();let he=te!=null&&te.end?Z(te.end):J.clone().add(60,"minutes");J.year(T.year()).month(T.month()).date(T.date());const ke=Math.max(he.diff(J,"minutes"),0)||60;return he.year(T.year()).month(T.month()).date(T.date()),he.isAfter(J)||(he=J.clone().add(ke,"minutes")),{...te||{},start:J.toDate(),end:he.toDate()}})},H=(T,te)=>{const[J="0",he="0"]=String(te||"").split(":");u(ke=>{const Fe=T==="start"?ke==null?void 0:ke.start:ke==null?void 0:ke.end,Ue=Fe?Z(Fe):Z();return Ue.hour(Number(J)).minute(Number(he)).second(0).millisecond(0),{...ke||{},[T]:Ue.toDate()}})},O=(T,te)=>{u(J=>{const he=Array.isArray(J==null?void 0:J.invitees)&&J.invitees.length>0?J.invitees[0]:{full_name:"",phone:"",email:""};return{...J||{},invitees:[{...he,[T]:te}]}})},F=x[0]||{full_name:"",phone:""},W=(T="")=>{const te=["from-violet-500 to-purple-400","from-sky-500 to-blue-400","from-emerald-500 to-green-400","from-amber-500 to-orange-400"],J=(T||"").split("").reduce((he,ke)=>he+ke.charCodeAt(0),0);return te[J%te.length]},K=(T="")=>{const te=T.trim().split(/\s+/).filter(Boolean);return te.length===0?"PL":te.slice(0,2).map(J=>J[0]).join("").toUpperCase()};return o.jsxs(Si,{isOpen:e,onClose:r,placement:"bottom",panelClassName:"w-full sm:max-w-3xl",children:[o.jsx(cl,{title:"Add Lesson",onClose:r}),o.jsxs(ul,{className:"space-y-5 bg-slate-50",children:[a&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Date"}),o.jsx("div",{className:"-mx-1 flex gap-2 overflow-x-auto px-1 pb-1",children:V.map(T=>{const te=z.isSame(T,"day"),J=Z().isSame(T,"day");return o.jsxs("button",{type:"button",onClick:()=>R(T),className:`min-w-[66px] rounded-xl border-2 px-3 py-2 text-center transition ${te?"border-violet-500 bg-violet-100":"border-slate-200 bg-white hover:border-slate-300"}`,children:[o.jsx("p",{className:`text-[10px] font-semibold uppercase ${te?"text-violet-700":"text-slate-500"}`,children:T.format("ddd")}),o.jsx("p",{className:`text-lg font-bold ${te?"text-violet-700":"text-slate-800"}`,children:T.format("D")}),o.jsx("p",{className:"text-[10px] text-slate-400",children:T.format("MMM")}),J&&o.jsx("span",{className:"mx-auto mt-1 block h-1 w-1 rounded-full bg-violet-500"})]},T.format("YYYY-MM-DD"))})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Time"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[o.jsxs("label",{className:"rounded-xl border-2 border-slate-200 bg-white px-3 py-2",children:[o.jsx("span",{className:"mb-1 block text-[11px] font-semibold uppercase text-slate-400",children:"Start"}),o.jsx("input",{type:"time",value:X,onChange:T=>H("start",T.target.value),className:"w-full bg-transparent text-sm font-semibold text-slate-800 outline-none"})]}),o.jsxs("label",{className:"rounded-xl border-2 border-slate-200 bg-white px-3 py-2",children:[o.jsx("span",{className:"mb-1 block text-[11px] font-semibold uppercase text-slate-400",children:"End"}),o.jsx("input",{type:"time",value:$,onChange:T=>H("end",T.target.value),className:"w-full bg-transparent text-sm font-semibold text-slate-800 outline-none"})]})]}),I!==null&&o.jsxs("span",{className:"mt-2 inline-flex rounded-md bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-700",children:[" ",I," min"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Lesson Type"}),o.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[{id:1,name:"Private",subtitle:"$100/hr",selectedClass:"border-red-400 bg-red-100"},{id:2,name:"Semi-Private",subtitle:"$75/hr ea",selectedClass:"border-amber-400 bg-amber-100"},{id:3,name:"Open Group",subtitle:"Public",selectedClass:"border-sky-400 bg-sky-100"}].map(T=>{const te=Number(g.lessontype_id)===T.id;return o.jsxs("button",{type:"button",onClick:()=>v("lessontype_id",T.id),className:`rounded-xl border-2 px-3 py-3 text-center transition ${te?T.selectedClass:"border-slate-200 bg-white hover:border-slate-300"}`,children:[o.jsx("p",{className:"text-sm font-bold text-slate-800",children:T.name}),o.jsx("p",{className:"text-xs text-slate-500",children:T.subtitle})]},T.id)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-800",children:"Location"}),o.jsxs("select",{value:G?g.location_id??"":g.location||"",onChange:T=>{const te=T.target.value;if(G){const J=U.find(he=>String(he.id)===te);v("location_id",(J==null?void 0:J.id)??null),v("location",(J==null?void 0:J.label)??"")}else v("location",te),v("location_id",null)},className:"w-full rounded-xl border-2 border-slate-200 bg-white px-3 py-3 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[o.jsx("option",{value:"",children:"Select location"}),U.map(T=>o.jsx("option",{value:T.id??T.label,children:T.label},T.id??T.label))]})]}),Number(g.lessontype_id)===1&&o.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4",children:[o.jsx("label",{className:"block text-sm font-semibold text-slate-800",children:"Player"}),o.jsxs("div",{className:"grid grid-cols-2 rounded-lg bg-slate-100 p-1",children:[o.jsx("button",{type:"button",onClick:()=>p("students"),className:`rounded-md px-3 py-2 text-sm font-semibold ${d==="students"?"bg-white text-slate-800 shadow":"text-slate-500"}`,children:"My Students"}),o.jsx("button",{type:"button",onClick:()=>p("new"),className:`rounded-md px-3 py-2 text-sm font-semibold ${d==="new"?"bg-white text-slate-800 shadow":"text-slate-500"}`,children:"New Player"})]}),d==="students"?o.jsxs(o.Fragment,{children:[L.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(T=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-violet-100 px-2 py-1 text-xs font-semibold text-violet-800",children:[o.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br ${W(T.name)} text-[10px] text-white`,children:K(T.name)}),T.name,o.jsx("button",{type:"button",onClick:()=>v("playerIds",[]),children:""})]},`selected-${T.id}`))}),o.jsx("input",{type:"text",value:f,onChange:T=>y(T.target.value),placeholder:"Search players...",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-2 text-sm outline-none focus:border-violet-500"}),o.jsx("div",{className:"max-h-44 space-y-2 overflow-y-auto pr-1",children:C.map(T=>{const te=P.includes(String(T.id));return o.jsxs("button",{type:"button",onClick:()=>v("playerIds",te?[]:[Number(T.id)]),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left ${te?"bg-violet-100":"bg-slate-50 hover:bg-slate-100"}`,children:[o.jsx("span",{className:`flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br ${W(T.name)} text-xs font-bold text-white`,children:K(T.name)}),o.jsxs("span",{className:"flex-1",children:[o.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:T.name}),o.jsx("span",{className:"block text-xs text-slate-500",children:T.email||"Student"})]}),te&&o.jsx("span",{className:"text-violet-700",children:""})]},T.id)})})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:F.full_name||"",onChange:T=>O("full_name",T.target.value),placeholder:"Player name",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-3 text-sm outline-none focus:border-violet-500"}),o.jsx("input",{type:"tel",value:F.phone||"",onChange:T=>O("phone",T.target.value),placeholder:"Phone number",className:"w-full rounded-xl border-2 border-slate-200 bg-slate-50 px-3 py-3 text-sm outline-none focus:border-violet-500"}),o.jsx("p",{className:"rounded-lg bg-blue-50 px-3 py-2 text-xs text-blue-800",children:" New players will receive lesson details and a Tennis Plan join link by SMS/email."})]})]}),(Number(g.lessontype_id)===2||Number(g.lessontype_id)===3)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Existing players (optional)"}),o.jsx("select",{multiple:!0,value:g.playerIds||[],onChange:T=>{const te=Array.from(T.target.selectedOptions,J=>Number(J.value));v("playerIds",te)},className:"w-full rounded-xl border-2 border-slate-200 bg-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-violet-500",children:j.map(T=>o.jsxs("option",{value:T.id,children:[T.name," ",T.email?`(${T.email})`:""]},T.id))}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"You can select existing players, add new invitees below, or use both."})]}),(Number(g.lessontype_id)===2||Number(g.lessontype_id)===3)&&o.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:Number(g.lessontype_id)===1?"Invite player by phone or email":"Invite players by phone or email"}),o.jsx("button",{type:"button",onClick:S,className:"rounded-md border border-gray-300 bg-white px-2 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-100",children:"Add Invitee"})]}),x.length===0?o.jsx("p",{className:"text-xs text-gray-500",children:"No invitees added."}):o.jsx("div",{className:"space-y-2",children:x.map((T,te)=>o.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-[1fr_1fr_1fr_auto]",children:[o.jsx("input",{type:"text",value:T.full_name||"",onChange:J=>k(te,"full_name",J.target.value),placeholder:"Full name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("input",{type:"tel",value:T.phone||"",onChange:J=>k(te,"phone",J.target.value),placeholder:"+1 415 555 1212",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("input",{type:"email",value:T.email||"",onChange:J=>k(te,"email",J.target.value),placeholder:"player@example.com",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("button",{type:"button",onClick:()=>b(te),className:"rounded-lg bg-red-50 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-100",children:"Remove"})]},`invitee-${te}`))}),o.jsx("p",{className:"text-xs text-gray-500",children:"New invitees will receive lesson details and a Tennis Plan join link by SMS/email."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (Optional)"}),o.jsx("input",{type:"text",value:((oe=g.metadata)==null?void 0:oe.title)||"",onChange:T=>w("title",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(Number(g.lessontype_id)===2||Number(g.lessontype_id)===3)&&o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per person"}),o.jsx("input",{type:"number",value:g.price_per_person||"",onChange:T=>v("price_per_person",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),Number(g.lessontype_id)===3&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),o.jsx("select",{value:((le=g.metadata)==null?void 0:le.level)||"All",onChange:T=>w("level",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:XY.map(T=>o.jsx("option",{value:T.name,children:T.name},T.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),o.jsx("input",{type:"number",value:((ce=g.metadata)==null?void 0:ce.duration)||"",onChange:T=>m(T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,value:((xe=g.metadata)==null?void 0:xe.description)||"",onChange:T=>w("description",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player limit"}),o.jsx("input",{type:"number",value:g.player_limit||"",onChange:T=>v("player_limit",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence"}),o.jsxs("select",{value:A.frequency||"NONE",onChange:T=>h("frequency",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"NONE",children:"None"}),o.jsx("option",{value:"DAILY",children:"Daily"}),o.jsx("option",{value:"WEEKLY",children:"Weekly"})]})]}),A.frequency&&A.frequency!=="NONE"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recurrence Count"}),o.jsx("input",{type:"number",min:"1",value:A.count||"",onChange:T=>h("count",T.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]}),o.jsxs(cd,{children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition hover:bg-gray-200 sm:flex-none",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g),disabled:s,className:`flex-1 rounded-lg px-4 py-2 text-white transition sm:flex-none ${s?"cursor-not-allowed bg-purple-300":"bg-purple-600 hover:bg-purple-700"}`,children:s?"Saving":"Save Lesson"})]})]})},ZY={VITE_API_URL:"https://ttp-api.codemymobile.com/api"},JY=()=>{const e=typeof import.meta<"u"?ZY||{}:{},t=e.VITE_API_BASE_URL||e.VITE_API_URL||e.API_BASE_URL||"";return t?t.endsWith("/")?t.slice(0,-1):t:""},e9=JY(),t9=async e=>{const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}},x0=async(e,t)=>{const r=await fetch(`${e9}${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}}),n=await t9(r);if(!r.ok){const s=(n==null?void 0:n.message)||(n==null?void 0:n.error)||r.statusText||"Request failed.",a=new Error(s);throw a.status=r.status,a.data=n,a}return n},r9=()=>({getEvents:async({token:r,timeMin:n,timeMax:s})=>{const a=new URLSearchParams;n&&a.set("timeMin",n),s&&a.set("timeMax",s);const i=a.toString(),c=i?`/coach/google-calendar/events?${i}`:"/coach/google-calendar/events";return x0(c,r)},getAuthUrl:async({token:r})=>x0("/coach/google-calendar/auth-url",r)}),b0=e=>{if(!e)return"TBD";const t=new Date(e);return Number.isNaN(t.getTime())?"TBD":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(t)},w0=e=>e?typeof e=="string"?e:e.dateTime||e.date||null:null,n9=e=>Array.isArray(e)?e:e&&Array.isArray(e.events)?e.events:e&&Array.isArray(e.items)?e.items:[],s9=({onBack:e})=>{var k;const{user:t}=ud(),r=((k=t==null?void 0:t.session)==null?void 0:k.access_token)||localStorage.getItem("token")||"",{getEvents:n,getAuthUrl:s}=r9(),[a,i]=_.useState([]),[c,l]=_.useState(!0),[u,d]=_.useState(null),[p,f]=_.useState(!1),[y,g]=_.useState(()=>{const j=new Date;return{year:j.getFullYear(),month:j.getMonth()}}),v=_.useRef(!1),w=_.useRef(""),h=_.useMemo(()=>{const j=new Date(y.year,y.month,1,0,0,0,0),P=new Date(y.year,y.month+1,0,23,59,59,999);return{timeMin:j.toISOString(),timeMax:P.toISOString()}},[y.month,y.year]),m=_.useMemo(()=>{const j=new Date(y.year,y.month,1);return new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(j)},[y.month,y.year]),x=_.useCallback(async()=>{if(!r){d("Unauthorized. Please sign in again."),i([]);return}d(null),l(!0);try{const j=await n({token:r,...h});i(n9(j))}catch(j){const P=j==null?void 0:j.status;if(P===404)d("Google Calendar not connected.");else if(P===401||P===403)d("Unauthorized. Please sign in again.");else{const C=j instanceof Error?j.message:"Failed to load events.";d(C)}i([])}finally{l(!1)}},[r,n,h.timeMax,h.timeMin]);_.useEffect(()=>{const j=`${h.timeMin}|${h.timeMax}`;w.current===j&&v.current||(w.current=j,v.current=!0,x())},[x,h.timeMax,h.timeMin]);const S=j=>{g(P=>{const C=new Date(P.year,P.month+j,1);return{year:C.getFullYear(),month:C.getMonth()}})},b=_.useCallback(async()=>{if(!r){d("Unauthorized. Please sign in again.");return}f(!0),d(null);try{const j=await s({token:r}),P=(j==null?void 0:j.redirect_url)||(j==null?void 0:j.url)||(j==null?void 0:j.auth_url)||(j==null?void 0:j.authorization_url);if(!P)throw new Error("No Google auth URL returned.");window.location.assign(P)}catch(j){const P=j instanceof Error?j.message:"Failed to start Google connection.";d(P)}finally{f(!1)}},[r,s]);return o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsx("div",{className:"border-b bg-white",children:o.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Integrations"}),o.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Coach Google Calendar Events"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Preview upcoming events pulled from Google Calendar."})]}),o.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Back"})]})}),o.jsx("main",{className:"mx-auto max-w-5xl px-4 py-6",children:o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Events Preview"}),o.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["Showing events for ",m,"."]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>S(-1),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50",children:"Prev"}),o.jsx("button",{type:"button",onClick:()=>S(1),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50",children:"Next"}),o.jsx("button",{type:"button",onClick:x,disabled:c,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-70",children:c?"Refreshing":"Refresh"})]})]}),u&&o.jsx("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:u}),u==="Google Calendar not connected."&&o.jsx("button",{type:"button",onClick:b,disabled:p,className:"mt-4 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-300",children:p?"Connecting":"Connect Google Calendar"}),o.jsxs("div",{className:"mt-6 space-y-4",children:[c&&o.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"Loading events"}),!c&&a.length===0&&!u&&o.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500",children:"No events found in this time range."}),!c&&a.map((j,P)=>{const C=w0(j.start),L=w0(j.end);return o.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-900",children:j.summary||j.title||"Untitled event"}),o.jsxs("div",{className:"mt-1 text-sm text-slate-500",children:[b0(C),"  ",b0(L)]}),j.location&&o.jsx("div",{className:"mt-1 text-xs text-slate-400",children:j.location})]},`${j.id||j.summary||"event"}-${P}`)})]})]})})]})},a9=async(e=null,t=null,r=null)=>{if(!e)return null;const n=new URLSearchParams;t!=null&&n.append("perPage",String(t)),r!=null&&n.append("page",String(r));const s=n.toString()?`?${n.toString()}`:"";return fetch(`${Wt}/notification${s}`,{method:"GET",headers:{Authorization:`token ${e}`}})},i9=async(e=null,t=null,r=null)=>{if(!e)return null;const n=new URLSearchParams;t!=null&&n.append("perPage",String(t)),r!=null&&n.append("page",String(r));const s=n.toString()?`?${n.toString()}`:"";return fetch(`${Wt}/notification_count${s}`,{method:"GET",headers:{Authorization:`token ${e}`}})},o9=(e,t)=>{var r;return e==null||t===null||t===void 0?null:((r=sf==null?void 0:sf[e])==null?void 0:r[t])??null},l9=e=>Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:e&&Array.isArray(e.notifications)?e.notifications:e&&Array.isArray(e.items)?e.items:[],c9=e=>typeof e=="number"?e:e&&typeof e.count=="number"?e.count:e&&typeof e.total=="number"?e.total:null,S0=e=>{if(!e)return null;const t=typeof e=="string"&&e.endsWith("Z")?e.slice(0,-1):e,r=Z(t);return r.isValid()?r:null},u9=({onBack:e})=>{var X,$;const{user:t}=ud(),[r,n]=_.useState([]),[s,a]=_.useState(1),[i,c]=_.useState(!0),[l,u]=_.useState(!0),[d,p]=_.useState(!1),[f,y]=_.useState(null),[g,v]=_.useState(null),[w,h]=_.useState(null),m=10,x=_.useCallback(async({pageToLoad:A=1,replace:z=!1}={})=>{var V;if((V=t==null?void 0:t.session)!=null&&V.access_token){A===1?u(!0):p(!0),y(null);try{const I=await a9(t.session.access_token,m,A);if(!I)throw new Error("Failed to load notifications.");if(!I.ok){const O=await I.json().catch(()=>null);throw new Error((O==null?void 0:O.message)||(O==null?void 0:O.error)||"Failed to load notifications.")}const R=await I.json().catch(()=>null),H=l9(R);c(H.length>=m),n(O=>z?H:[...O,...H])}catch(I){y(I instanceof Error?I.message:"Failed to load notifications.")}finally{u(!1),p(!1)}}},[(X=t==null?void 0:t.session)==null?void 0:X.access_token]),S=_.useCallback(async()=>{var A;if((A=t==null?void 0:t.session)!=null&&A.access_token)try{const z=await i9(t.session.access_token,m,1);if(!z||!z.ok)return;const V=await z.json().catch(()=>null);v(c9(V))}catch{}},[($=t==null?void 0:t.session)==null?void 0:$.access_token]);_.useEffect(()=>{a(1),x({pageToLoad:1,replace:!0}),S()},[x,S]);const b=()=>{a(1),x({pageToLoad:1,replace:!0}),S()},k=()=>{if(d||!i)return;const A=s+1;a(A),x({pageToLoad:A})},j=async A=>{var z;if(!(!A||!((z=t==null?void 0:t.session)!=null&&z.access_token))){h(`lesson-confirm-${A}`);try{const V=await $S({coachAccessToken:t.session.access_token,lessonId:A});(V==null?void 0:V.status)===200||(V==null?void 0:V.status)===201?await x({pageToLoad:1,replace:!0}):window.alert("Failed to confirm lesson.")}catch{window.alert("Something went wrong!")}finally{h(null)}}},P=async A=>{var z;if(!(!A||!((z=t==null?void 0:t.session)!=null&&z.access_token))){h(`lesson-decline-${A}`);try{const V=await MS(t.session.access_token,A,{status:"CANCELLED"});(V==null?void 0:V.status)===200?await x({pageToLoad:1,replace:!0}):window.alert("Failed to decline lesson.")}catch{window.alert("Something went wrong!")}finally{h(null)}}},C=async A=>{if(A){h(`relation-confirm-${A}`);try{await dp({playerId:A,status:"CONFIRMED"}),await x({pageToLoad:1,replace:!0})}catch{window.alert("Failed to confirm roster request.")}finally{h(null)}}},L=async A=>{if(A){h(`relation-decline-${A}`);try{await dp({playerId:A,status:"CANCELLED"}),await x({pageToLoad:1,replace:!0})}catch{window.alert("Failed to decline roster request.")}finally{h(null)}}},U=g??r.length,G=!l&&r.length===0;return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"border-b bg-white",children:o.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-purple-50 text-purple-600",children:o.jsx(Ow,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-400",children:"Notifications"}),o.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Updates ",U?`(${U})`:""]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Stay on top of lesson requests and roster updates."})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[o.jsx(ws,{className:"h-4 w-4"}),"Refresh"]}),o.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50",children:[o.jsx(Mw,{className:"h-4 w-4"}),"Back to Dashboard"]})]})]})}),o.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-6",children:[f&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:f}),l&&o.jsx("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white px-4 py-10 text-center text-sm text-gray-500",children:"Loading notifications..."}),G&&o.jsx("div",{className:"rounded-xl border border-dashed border-gray-200 bg-white px-4 py-10 text-center text-sm text-gray-500",children:"No notifications yet."}),!l&&r.length>0&&o.jsxs("div",{className:"space-y-4",children:[r.map((A,z)=>{const V=o9(A.entity,A.action),I=A!=null&&A.created_at?Z(A.created_at).fromNow():"",R=A.lesson||A.lesson_details,H=A.cp_relation||A.relation,O=R==null?void 0:R.status,F=O===0||O==="PENDING",W=S0(R==null?void 0:R.start_date_time),K=S0(R==null?void 0:R.end_date_time),Q=W&&K?`${W.format("hh:mm a")} - ${K.format("hh:mm a")}`:"",oe=W?W.format("MMM DD"):"",le=R!=null&&R.court?`${(R==null?void 0:R.location)||""}  Court ${R.court}`:(R==null?void 0:R.location)||"",ce=V===CY.LESSON_CREATED&&F,xe=[f0.RELATION_CREATED_BY_PLAYER,f0.RELATION_DECLINED_BY_COACH].includes(V)&&(H==null?void 0:H.status)===0,T=(R==null?void 0:R.full_name)||(A==null?void 0:A.title)||(A==null?void 0:A.message)||(A==null?void 0:A.actor_name)||"Notification",te=(A==null?void 0:A.message)||"";return o.jsx("div",{className:`rounded-xl border bg-white p-4 shadow-sm ${A.seen?"border-gray-200":"border-purple-200"}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-full bg-gray-100",children:A.profile_url?o.jsx("img",{src:A.profile_url,alt:T,className:"h-full w-full object-cover",onError:J=>{J.currentTarget.src=""}}):o.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm font-semibold text-gray-500",children:T.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:T}),te&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:te})]}),o.jsx("span",{className:"text-xs text-gray-400",children:I})]}),(Q||oe||le)&&o.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[oe&&o.jsx("span",{className:"mr-2",children:oe}),Q&&o.jsx("span",{className:"mr-2",children:Q}),le&&o.jsx("span",{children:le})]}),(ce||xe)&&o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ce?j(R==null?void 0:R.id):C(A.actor_id),disabled:w!==null,className:"rounded-lg bg-purple-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-purple-700 disabled:cursor-not-allowed disabled:bg-purple-300",children:w&&(ce?w===`lesson-confirm-${R==null?void 0:R.id}`:w===`relation-confirm-${A.actor_id}`)?"Confirming...":"Confirm"}),o.jsx("button",{type:"button",onClick:()=>ce?P(R==null?void 0:R.id):L(A.actor_id),disabled:w!==null,className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:text-gray-400",children:w&&(ce?w===`lesson-decline-${R==null?void 0:R.id}`:w===`relation-decline-${A.actor_id}`)?"Declining...":"Decline"})]})]})]})},`${A.id??z}`)}),i&&o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{type:"button",onClick:k,disabled:d,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed",children:d?"Loading...":"Load more"})})]})]})]})},d9=e=>e===1||e==="CONFIRMED"?"Confirmed":e===2||e==="CANCELLED"?"Cancelled":e===0||e==="PENDING"?"Pending":"Unknown",f9=(e,t)=>{if(!e)return"";const r=String(e).replace(/Z$/,""),n=t?String(t).replace(/Z$/,""):null,s=Z(r),a=n?Z(n):null;return s.isValid()?a&&a.isValid()?`${s.format("MMM DD, YYYY")}  ${s.format("h:mm A")} - ${a.format("h:mm A")}`:`${s.format("MMM DD, YYYY")}  ${s.format("h:mm A")}`:""},p9=({isOpen:e,student:t,lessons:r=[],loading:n=!1,loadingMore:s=!1,error:a=null,hasMore:i=!1,onClose:c,onLoadMore:l})=>t?o.jsxs(Si,{isOpen:e,onClose:c,placement:"center",panelClassName:"w-full sm:max-w-3xl",children:[o.jsx(cl,{title:t.name||"Student details",description:t.email||t.phone||"",onClose:c}),o.jsxs(ul,{className:"space-y-4",children:[o.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:o.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Status"}),o.jsx("span",{className:"font-medium text-gray-900",children:t.isConfirmed?"Active":t.isPlayerRequest?"Request pending":"Invite pending"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Phone"}),o.jsx("span",{className:"font-medium text-gray-900",children:t.phone||""})]}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs uppercase text-gray-400",children:"Player ID"}),o.jsx("span",{className:"font-medium text-gray-900",children:t.playerId||""})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Previous Lessons"}),n&&o.jsx("span",{className:"text-xs text-gray-500",children:"Loading..."})]}),a&&o.jsx("div",{className:"mt-3 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}),!n&&r.length===0&&!a&&o.jsx("div",{className:"mt-3 rounded-lg border border-dashed border-gray-200 bg-white px-4 py-6 text-sm text-gray-500",children:"No previous lessons found."}),r.length>0&&o.jsx("div",{className:"mt-3 space-y-3",children:r.map((u,d)=>{var p;return o.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:((p=u.metadata)==null?void 0:p.title)||u.lesson_type_name||"Lesson"}),o.jsx("p",{className:"text-xs text-gray-500",children:f9(u.start_date_time,u.end_date_time)}),u.location&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:u.location})]}),o.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-600",children:d9(u.status)})]})},u.id??`${u.start_date_time}-${d}`)})}),i&&o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("button",{type:"button",onClick:l,disabled:s,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 disabled:cursor-not-allowed",children:s?"Loading...":"Load more"})})]})]})]}):null,_0=e=>{var t;if(Array.isArray(e))return e;if(e&&typeof e=="object"){if(Array.isArray(e.packages))return e.packages;if(Array.isArray((t=e.data)==null?void 0:t.packages))return e.data.packages;if(Array.isArray(e.data))return e.data;if(Array.isArray(e.result))return e.result;if(Array.isArray(e.items))return e.items}return[]},N0=An(),m9=e=>{const t=Math.floor(e/2),r=e%2===1;return t===0&&r?"30 min":t===1&&!r?"1 hour":t===1&&r?"1.5 hours":t>1&&!r?`${t} hours`:t>1&&r?`${t}.5 hours`:`${e*30} min`},h9=(e,t)=>{const[r,n]=e.split(":").map(Number),s=new Date;return s.setHours(r,n+t,0,0),s.toTimeString().slice(0,5)};function g9(){var qh,Kh,Xh,Qh;const{user:e,initialising:t,logout:r}=ud(),n=!!e,s="/TTP_Coach_Web_Public/pr-preview/pr-45/",a=_.useCallback(M=>{if(!M)return"/";const q=s.endsWith("/")?s:`${s}/`;if(!M.startsWith(q))return M;const ie=M.slice(q.length);return ie?`/${ie}`:"/"},[s]),i=_.useCallback(M=>{const q=s.endsWith("/")?s.slice(0,-1):s,ie=M.startsWith("/")?M:`/${M}`;return`${q}${ie}`},[s]),[c,l]=_.useState(()=>a(window.location.pathname)),{profile:u,isComplete:d,loading:p,error:f,hasFetched:y,saveProfile:g,refreshProfile:v}=WY({enabled:n}),[w,h]=_.useState(!1),[m,x]=_.useState(N0),[S,b]=_.useState(!1),[k,j]=_.useState(0),[P,C]=_.useState("calendar"),[L,U]=_.useState("week"),[G,X]=_.useState(()=>new Date),[$,A]=_.useState([]),[z,V]=_.useState(!1),[I,R]=_.useState(!1),[H,O]=_.useState(!1),[F,W]=_.useState(!1),[K,Q]=_.useState(null),[oe,le]=_.useState(null),[ce,xe]=_.useState(!1),[T,te]=_.useState(null),[J,he]=_.useState(!1),[ke,Fe]=_.useState(!1),[Ue,nt]=_.useState(null),[or,xr]=_.useState(""),[Y,Oe]=_.useState(null),[Et,Vt]=_.useState(!1),[Ur,Gt]=_.useState([]),[lr,qt]=_.useState(1),[br,ot]=_.useState(!0),[wr,wn]=_.useState(!1),[wt,Sn]=_.useState(!1),[Kn,yt]=_.useState(null),[nn,Sr]=_.useState(!1),[Le,St]=_.useState({date:"",start:"09:00",end:"10:00",location:"",location_id:null}),[Ee,ct]=_.useState({}),[_r,Xn]=_.useState(!1),[N,B]=_.useState(!1),[ee,_e]=_.useState(null),ut=_.useRef(!1),[cr,Ms]=_.useState([]),[dt,fe]=_.useState(!1),[Qn,ua]=_.useState(null),_i=c==="/",Zn=c==="/dashboard",Kt=c==="/settings",we=c==="/notifications",Jn=c==="/google-calendar",da=c==="/redirect";_.useEffect(()=>{const M=()=>Xn(window.innerWidth<768);return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),_.useEffect(()=>{x(u)},[u]),_.useEffect(()=>{S||h(d)},[d,S]),_.useEffect(()=>{f&&console.error("Failed to load coach profile",f)},[f]),_.useEffect(()=>{n||(x(N0),h(!1),b(!1),j(0),B(!1),_e(null),ut.current=!1,Ms([]),fe(!1),ua(null))},[n]);const Nr=_.useCallback((M,{replace:q=!1}={})=>{const ie=i(M);window.location.pathname!==ie&&(q?window.history.replaceState(null,"",ie):window.history.pushState(null,"",ie),l(a(ie)))},[i,a]);_.useEffect(()=>{const M=()=>l(a(window.location.pathname));return window.addEventListener("popstate",M),()=>window.removeEventListener("popstate",M)},[a]),_.useEffect(()=>{if(!t){if(!n&&!_i){Nr("/",{replace:!0});return}n&&!Zn&&!Kt&&!we&&!Jn&&!da&&Nr("/dashboard",{replace:!0})}},[t,n,_i,Zn,Kt,we,Jn,da,Nr]);const{students:sn,loading:dl,loadingMore:fl,error:pl,hasMore:ml,loadMore:hl,page:gl,perPage:vl,refresh:yl}=zY({enabled:w&&n,perPage:5,search:or}),Ni=_.useCallback(M=>Array.isArray(M)?M:M&&Array.isArray(M.lessons)?M.lessons:M&&Array.isArray(M.data)?M.data:M&&Array.isArray(M.items)?M.items:[],[]),ji=_.useCallback(async({playerId:M,page:q=1,replace:ie=!1}={})=>{if(M){q===1?wn(!0):Sn(!0),yt(null);try{const me=await lT({playerId:M,perPage:10,page:q}),ve=Ni(me);Gt(Te=>ie?ve:[...Te,...ve]),ot(ve.length>=10)}catch(me){const ve=me instanceof Error?me.message:"Failed to load previous lessons.";yt(ve)}finally{wn(!1),Sn(!1)}}},[Ni]),{lessons:xl,upcomingLessons:E,availability:se,stats:Ae,googleEvents:Rt,loading:It,error:Ct,refresh:ge,addAvailabilitySlot:Xt,updateLesson:zr,mutationError:es,mutationLoading:_n}=FY({enabled:w&&n,date:G,dates:$}),ts=_.useCallback(M=>{if(!M){A([]);return}if(Array.isArray(M)){A(M);return}if(M instanceof Date){A([M]);return}if(M!=null&&M.start&&(M!=null&&M.end)){const q=[],ie=new Date(M.start),me=new Date(M.end);if(Number.isNaN(ie.getTime())||Number.isNaN(me.getTime())){A([]);return}const ve=new Date(ie);ve.setHours(0,0,0,0);const Te=new Date(me);for(Te.setHours(0,0,0,0);ve<=Te;)q.push(new Date(ve)),ve.setDate(ve.getDate()+1);A(q);return}A([])},[]),bl=_.useCallback(async({force:M=!1}={})=>{var q;if(n&&!(N&&!M)){B(!0),_e(null);try{const ie=await HY();if(!ie)throw new Error("Your session has expired. Please sign in again.");if(!ie.ok){let Te="Failed to load packages. Please try again.";try{const Wr=await ie.json();Te=(Wr==null?void 0:Wr.message)||(Wr==null?void 0:Wr.error)||((q=Wr==null?void 0:Wr.errors)==null?void 0:q[0])||Te}catch{}throw new Error(Te)}const me=await ie.json().catch(()=>null),ve=_0(me);x(Te=>({...Te,packages:ve}))}catch(ie){const me=ie instanceof Error?ie.message:"Failed to load packages.";_e(me),console.error("Failed to fetch packages",ie)}finally{ut.current=!0,B(!1)}}},[n,N,x,_0,ut]),AS=_.useCallback(()=>bl({force:!0}),[bl]),zh=_.useCallback(M=>Array.isArray(M)?M:M&&Array.isArray(M.locations)?M.locations:M&&Array.isArray(M.data)?M.data:M&&Array.isArray(M.result)?M.result:[],[]),an=_.useCallback(async()=>{var M,q;if(n){fe(!0),ua(null);try{const ie=await VY((M=e==null?void 0:e.session)==null?void 0:M.access_token);if(!ie)throw new Error("Your session has expired. Please sign in again.");if(!ie.ok){let ve="Failed to load locations. Please try again.";try{const Te=await ie.json();ve=(Te==null?void 0:Te.message)||(Te==null?void 0:Te.error)||((q=Te==null?void 0:Te.errors)==null?void 0:q[0])||ve}catch{}throw new Error(ve)}const me=await ie.json().catch(()=>null);Ms(zh(me))}catch(ie){const me=ie instanceof Error?ie.message:"Failed to load locations.";ua(me)}finally{fe(!1)}}},[n,zh,(qh=e==null?void 0:e.session)==null?void 0:qh.access_token]),DS=_.useCallback(()=>an(),[an]);_.useEffect(()=>{!n||P!=="packages"||ut.current||bl()},[P,bl,n,ut]),_.useEffect(()=>{P!=="packages"&&(ut.current=!1)},[P,ut]);const LS=_.useCallback(async M=>{var q;if(!M||!n)return{error:"A location id is required."};try{const ie=await GY({coachAccessToken:(q=e==null?void 0:e.session)==null?void 0:q.access_token,location_id:Number(M)});if(!(ie!=null&&ie.ok)){const me=await(ie==null?void 0:ie.json().catch(()=>null));throw new Error((me==null?void 0:me.message)||(me==null?void 0:me.error)||"Failed to add location.")}return await an(),{ok:!0}}catch(ie){return{error:ie instanceof Error?ie.message:"Failed to add location."}}},[an,n,(Kh=e==null?void 0:e.session)==null?void 0:Kh.access_token]),RS=_.useCallback(async({location:M,latitude:q,longitude:ie})=>{var me;if(!M||q===""||ie===""||!n)return{error:"Location name, latitude, and longitude are required."};try{const ve=await qY({coachAccessToken:(me=e==null?void 0:e.session)==null?void 0:me.access_token,location:M,latitude:Number(q),longitude:Number(ie)});if(!(ve!=null&&ve.ok)){const Te=await(ve==null?void 0:ve.json().catch(()=>null));throw new Error((Te==null?void 0:Te.message)||(Te==null?void 0:Te.error)||"Failed to add location.")}return await an(),{ok:!0}}catch(ve){return{error:ve instanceof Error?ve.message:"Failed to add location."}}},[an,n,(Xh=e==null?void 0:e.session)==null?void 0:Xh.access_token]),IS=_.useCallback(async M=>{var q;if(!M||!n)return{error:"A location id is required."};try{const ie=await KY({coachAccessToken:(q=e==null?void 0:e.session)==null?void 0:q.access_token,location_id:M});if(!(ie!=null&&ie.ok)){const me=await(ie==null?void 0:ie.json().catch(()=>null));throw new Error((me==null?void 0:me.message)||(me==null?void 0:me.error)||"Failed to delete location.")}return await an(),{ok:!0}}catch(ie){return{error:ie instanceof Error?ie.message:"Failed to delete location."}}},[an,n,(Qh=e==null?void 0:e.session)==null?void 0:Qh.access_token]);_.useEffect(()=>{!n||P!=="locations"&&P!=="calendar"||an()},[P,an,n]),_.useMemo(()=>!(se!=null&&se.weekly)||Object.keys(se.weekly).length===0?m.availability:se.weekly,[se,m.availability]),_.useMemo(()=>!(se!=null&&se.weeklyLocations)||Object.keys(se.weeklyLocations).length===0?m.availabilityLocations:se.weeklyLocations,[se,m.availabilityLocations]);const Wh=_.useMemo(()=>se!=null&&se.adHoc?se.adHoc.reduce((M,q)=>{const ie=q==null?void 0:q.date,me=(q==null?void 0:q.start)||(q==null?void 0:q.startTime);if(!ie||!me)return M;const ve=q.end||q.endTime||q.finish,Te=q.location||q.court||"";return M[ie]||(M[ie]={}),M[ie][me]={type:q.type||"ad-hoc",location:Te,endTime:ve},M},{}):{},[se]);_.useMemo(()=>{const M={...Wh};return Object.entries(Ee).forEach(([q,ie])=>{M[q]={...M[q]||{},...ie}}),M},[Wh,Ee]);const FS=()=>he(!0),US=()=>{he(!1),O(!1),te(null)},zS=()=>{T&&(Fe(!0),nt({...T}))},Yh=()=>{Fe(!1),nt(null)},WS=async()=>{if(!(Ue!=null&&Ue.id)){Yh();return}try{const M=await zr(Ue.id,Ue);te(M||Ue),Fe(!1)}catch(M){console.error("Failed to save lesson",M)}},YS=M=>{te(M),Fe(!1),nt(null),O(!0)},HS=M=>{M!=null&&M.playerId&&(Oe(M),Vt(!0),Gt([]),qt(1),ot(!0),ji({playerId:M.playerId,page:1,replace:!0}))},BS=M=>{if(M){Bh(M);return}te(M),Fe(!1),nt(null),O(!0)},Hh=(M,q)=>{if(!M||!q)return null;const[ie,me]=String(q).split(":").map(Number),ve=new Date(M);return Number.isNaN(ve.getTime())?null:(ve.setHours(ie||0,me||0,0,0),ve)},Bh=M=>{const q=Hh(M==null?void 0:M.date,M==null?void 0:M.start),ie=Hh(M==null?void 0:M.date,M==null?void 0:M.end);Q({start:q,end:ie,location_id:(M==null?void 0:M.location_id)??null,court:(M==null?void 0:M.court)??null,lessontype_id:1,playerIds:[],invitees:[],metadata:{title:"",level:"All",duration:q&&ie?String(Math.max(0,Math.round((ie-q)/6e4))):"",description:"",recurrence:{frequency:"",count:""}},price_per_person:"",player_limit:""}),O(!1),W(!0)},VS=()=>{const M=dd();Q({start:null,end:null,location_id:M.location_id??null,court:null,lessontype_id:1,playerIds:[],invitees:[],metadata:{title:"",level:"All",duration:"",description:"",recurrence:{frequency:"",count:""}},price_per_person:"",player_limit:""}),O(!1),W(!0)},GS=()=>{Vt(!1),Oe(null),yt(null)},qS=()=>{if(!(Y!=null&&Y.playerId)||wt||!br)return;const M=lr+1;qt(M),ji({playerId:Y.playerId,page:M})},KS=({date:M,start:q,location:ie})=>{const me=dd();St({date:M,start:q,end:h9(q,60),location:ie||me.location,location_id:me.location_id}),V(!0)},XS=()=>{const M=new Date().toISOString().split("T")[0],q=dd();St({date:M,start:"09:00",end:"10:00",location:q.location,location_id:q.location_id}),V(!0)},QS=async()=>{if(Le.date&&Le.start&&Le.end&&Le.location){const M={type:"ad-hoc",date:Le.date,start:Le.start,end:Le.end,location:Le.location,location_id:Le.location_id};try{const q=await Xt(M),ie=(q==null?void 0:q.end)||(q==null?void 0:q.endTime)||Le.end;ct(me=>({...me,[Le.date]:{...me[Le.date]||{},[Le.start]:{type:(q==null?void 0:q.type)||"ad-hoc",location:(q==null?void 0:q.location)||Le.location,endTime:ie}}})),V(!1),St({date:"",start:"09:00",end:"10:00",location:"",location_id:null})}catch(q){console.error("Failed to add availability slot",q)}}},ZS=async M=>{var Zh,Jh,eg,tg,rg,ng;if(!(M!=null&&M.start)||!(M!=null&&M.end)){le("Start and end time are required.");return}const q=new Date(M.start),ie=new Date(M.end);if(Number.isNaN(q.getTime())||Number.isNaN(ie.getTime())){le("Invalid date/time values.");return}const me=parseInt((Zh=M.metadata)==null?void 0:Zh.duration,10);let ve=ie;Number(M.lessontype_id)===3&&Number.isFinite(me)&&me>0&&(ve=new Date(q.getTime()+me*6e4));const Te=Ne=>{const ft=Ei=>String(Ei).padStart(2,"0");return`${Ne.getFullYear()}-${ft(Ne.getMonth()+1)}-${ft(Ne.getDate())} ${ft(Ne.getHours())}:${ft(Ne.getMinutes())}:00`},Wr=M.court===""||M.court===void 0||M.court===null?null:Number.isFinite(Number(M.court))?Number(M.court):null,$s=((Jh=M.metadata)==null?void 0:Jh.recurrence)||{frequency:"NONE",count:""},fa=Array.isArray(M.playerIds)?M.playerIds.map(Ne=>Number(Ne)).filter(Ne=>Number.isFinite(Ne)&&Ne>0):[],ki=Array.isArray(M.invitees)?M.invitees.map(Ne=>{const ft=String((Ne==null?void 0:Ne.full_name)||"").trim(),Ei=String((Ne==null?void 0:Ne.phone)||"").trim(),sg=String((Ne==null?void 0:Ne.email)||"").trim();return!ft||!Ei&&!sg?null:Ei?{full_name:ft,phone:Ei}:{full_name:ft,email:sg}}).filter(Boolean):[],Qt={start_date_time:new Date(`${Te(q)}Z`).toISOString(),end_date_time:new Date(`${Te(ve)}Z`).toISOString(),start_date_time_tz:q.toISOString(),end_date_time_tz:ve.toISOString(),location_id:M.location_id,court:Wr,status:"PENDING",lessontype_id:Number(M.lessontype_id),recurrence:{frequency:$s.frequency||"NONE",count:$s.count??""},metadata:{title:((eg=M.metadata)==null?void 0:eg.title)||"",level:((tg=M.metadata)==null?void 0:tg.level)||"All",description:((rg=M.metadata)==null?void 0:rg.description)||"",duration:String(Math.round((ve-q)/6e4)),recurrence:$s}};if(Qt.lessontype_id===1){if(fa.length+ki.length!==1){le("Add exactly one player for a private lesson (existing player or phone/email invitee).");return}fa.length===1?Qt.player_id=Number(fa[0]):Qt.player=ki[0],delete Qt.recurrence}else if(Qt.lessontype_id===2){const Ne=[...fa.map(ft=>({player_id:Number(ft)})),...ki];if(Ne.length===0){le("Add at least one player for a semi-private lesson.");return}if(!M.price_per_person){le("Enter a price per person for a semi-private lesson.");return}Qt.player_ids_arr=Ne,Qt.price_per_person=Number(M.price_per_person),delete Qt.recurrence}else if(Qt.lessontype_id===3){if(!M.price_per_person){le("Enter a price per person for open group lessons.");return}if(!M.player_limit){le("Enter a player limit for open group lessons.");return}$s!=null&&$s.frequency&&(Qt.recurrence=$s),Qt.price_per_person=Number(M.price_per_person),Qt.player_limit=Number(M.player_limit),(fa.length>0||ki.length>0)&&(Qt.player_ids_arr=[...fa.map(Ne=>({player_id:Number(Ne)})),...ki])}le(null),xe(!0);try{const Ne=await BY({coachAccessToken:(ng=e==null?void 0:e.session)==null?void 0:ng.access_token,lessonData:Qt});if(!(Ne!=null&&Ne.ok)){const ft=await(Ne==null?void 0:Ne.json().catch(()=>null));throw new Error((ft==null?void 0:ft.message)||(ft==null?void 0:ft.error)||"Failed to create lesson.")}await ge(),W(!1),Q(null)}catch(Ne){const ft=Ne instanceof Error?Ne.message:"Failed to create lesson.";le(ft)}finally{xe(!1)}},dd=_.useCallback(()=>{if(cr.length===0)return{location:m.home_courts[0]||"",location_id:null};const M=cr[0]||{},q=M.location||M.name||M.address||"",ie=M.location_id??M.locationId??null;return{location:q,location_id:ie}},[cr,m.home_courts]),JS=M=>{M&&(x(q=>{const me=(Array.isArray(q.packages)?q.packages:[]).filter(ve=>(ve==null?void 0:ve.id)!==M.id);return{...q,packages:[M,...me]}}),_e(null),ut.current=!0)},Vh=async M=>{try{const q=await g(M),ie=q!=null&&q.profile?{...q.profile}:{...m,...M};return x(ie),h(!!((q==null?void 0:q.isComplete)??!0)),b(!1),j(0),{data:ie}}catch(q){return{error:q instanceof Error?q.message:"Failed to save profile"}}},e_=()=>{j(8),b(!0),h(!1)},t_=()=>{O(!1),Fe(!1),nt(null)},r_=async()=>{var M;if(!(T!=null&&T.id)){O(!1);return}if(T.status===1){O(!1);return}try{const q=await $S({coachAccessToken:(M=e==null?void 0:e.session)==null?void 0:M.access_token,lessonId:T.id});await ge(),(q==null?void 0:q.status)===200||(q==null?void 0:q.status)===201?window.alert("The lesson booked successfully!!"):window.alert("Something went wrong!!")}catch(q){console.error("Failed to accept lesson request",q),window.alert("Something went wrong!!")}finally{O(!1)}},n_=async()=>{var M;if(!(T!=null&&T.id)){O(!1);return}if(T.status==="CANCELLED"){O(!1);return}try{const q=await MS((M=e==null?void 0:e.session)==null?void 0:M.access_token,T.id,{status:"CANCELLED"});await ge(),(q==null?void 0:q.status)===200?window.alert("The lesson cancelled successfully!!"):window.alert("Something went wrong!!")}catch(q){console.error("Failed to cancel lesson request",q),window.alert("Something went wrong!!")}finally{O(!1)}},Gh=_.useMemo(()=>Array.isArray(sn)?sn:(sn==null?void 0:sn.students)||[],[sn]),s_=(!w||S)&&n;return t?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white text-gray-600",children:"Loading..."}):n?!S&&!y&&p?o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-white text-gray-600",children:"Loading profile..."}):s_?o.jsx(a0,{initialData:m,initialStep:k,onComplete:Vh,onRefreshProfile:v,isMobile:_r}):o.jsxs(o.Fragment,{children:[Kt?o.jsx(a0,{initialData:m,initialStep:0,onComplete:Vh,onRefreshProfile:v,isMobile:_r,isSettingsMode:!0,onBack:()=>Nr("/dashboard"),onOpenGoogleCalendar:()=>Nr("/google-calendar")}):Jn||da?o.jsx(s9,{onBack:()=>Nr("/settings")}):we?o.jsx(u9,{onBack:()=>Nr("/dashboard")}):o.jsx(O8,{profile:m,isMobile:_r,dashboardTab:P,onDashboardTabChange:C,calendarView:L,onCalendarViewChange:U,currentDate:G,onCurrentDateChange:X,onRangeChange:ts,studentsData:sn,studentsLoading:dl,studentsLoadingMore:fl,studentsError:pl,onRefreshStudents:yl,studentsHasMore:ml,onLoadMoreStudents:hl,studentsPage:gl,studentsPerPage:vl,lessonsData:xl,upcomingLessonsData:E,availabilityData:se,googleEvents:Rt,statsData:Ae,scheduleLoading:It,scheduleError:Ct,onRefreshSchedule:ge,mutationError:es,mutationLoading:_n,onLessonSelect:YS,onAvailabilitySlotSelect:BS,onEmptySlotSelect:KS,onOpenAddAvailability:XS,onOpenCreateLesson:VS,onOpenCreatePackage:()=>R(!0),onRequestAvailabilityOnboarding:e_,onOpenSettings:()=>Nr("/settings"),onOpenNotifications:()=>Nr("/notifications"),onLogout:r,studentSearchQuery:or,onStudentSearchQueryChange:xr,onStudentSelect:HS,showMobileMenu:nn,onToggleMobileMenu:Sr,packagesLoading:N,packagesError:ee,onRefreshPackages:AS,locationsData:cr,locationsLoading:dt,locationsError:Qn,onRefreshLocations:DS,onAddLocationById:LS,onAddCustomLocation:RS,onDeleteLocation:IS}),o.jsx(p9,{isOpen:Et,student:Y,lessons:Ur,loading:wr,loadingMore:wt,error:Kn,hasMore:br,onClose:GS,onLoadMore:qS}),o.jsx(jY,{isOpen:H&&!!T,lesson:T,onClose:t_,isEditing:ke,onStartEdit:zS,onCancelEdit:Yh,onSaveEdit:WS,editData:Ue||T,onEditChange:nt,mutationLoading:_n,onCancelLesson:FS,students:Gh,coachCourts:m.home_courts,coachHourlyRate:m.hourly_rate??m.price_private,formatDuration:m9,onAcceptRequest:r_,onDeclineRequest:n_,onCreateLesson:Bh}),o.jsx(cY,{isOpen:J,title:"Cancel Lesson",description:"Are you sure you want to cancel this lesson? This action cannot be undone and the student will be notified.",confirmLabel:"Cancel Lesson",cancelLabel:"Keep Lesson",onConfirm:US,onCancel:()=>he(!1)}),o.jsx(dY,{isOpen:I,onClose:()=>R(!1),onCreated:JS}),o.jsx(lY,{isOpen:z,slot:Le,onChange:St,onClose:()=>V(!1),onSubmit:QS,isSubmitting:_n,locations:cr.length>0?cr:m.home_courts}),o.jsx(QY,{isOpen:F,draft:K,onClose:()=>{W(!1),Q(null),le(null)},onSubmit:ZS,isSubmitting:ce,submitError:oe,players:Gh,locations:cr.length>0?cr:m.home_courts})]}):o.jsx(MY,{})}lf.createRoot(document.getElementById("root")).render(o.jsx(D.StrictMode,{children:o.jsx(PY,{children:o.jsx(g9,{})})}));
